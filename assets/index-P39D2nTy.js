(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var tm={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function Nw(){if(gv)return Ol;gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var pv;function Dw(){return pv||(pv=1,tm.exports=Nw()),tm.exports}var v=Dw(),nm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function kw(){if(yv)return Ie;yv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Y={};function F(k,ee,ae){this.props=k,this.context=ee,this.refs=Y,this.updater=ae||V}F.prototype.isReactComponent={},F.prototype.setState=function(k,ee){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ee,"setState")},F.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ne(){}ne.prototype=F.prototype;function te(k,ee,ae){this.props=k,this.context=ee,this.refs=Y,this.updater=ae||V}var ie=te.prototype=new ne;ie.constructor=te,G(ie,F.prototype),ie.isPureReactComponent=!0;var xe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function N(k,ee,ae,oe,me,Ve){return ae=Ve.ref,{$$typeof:i,type:k,key:ee,ref:ae!==void 0?ae:null,props:Ve}}function A(k,ee){return N(k.type,ee,void 0,void 0,void 0,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function P(k){var ee={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return ee[ae]})}var O=/\/+/g;function j(k,ee){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):ee.toString(36)}function R(){}function ve(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(R,R):(k.status="pending",k.then(function(ee){k.status==="pending"&&(k.status="fulfilled",k.value=ee)},function(ee){k.status==="pending"&&(k.status="rejected",k.reason=ee)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Se(k,ee,ae,oe,me){var Ve=typeof k;(Ve==="undefined"||Ve==="boolean")&&(k=null);var Te=!1;if(k===null)Te=!0;else switch(Ve){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(k.$$typeof){case i:case e:Te=!0;break;case E:return Te=k._init,Se(Te(k._payload),ee,ae,oe,me)}}if(Te)return me=me(k),Te=oe===""?"."+j(k,0):oe,xe(me)?(ae="",Te!=null&&(ae=Te.replace(O,"$&/")+"/"),Se(me,ee,ae,"",function(Ln){return Ln})):me!=null&&(C(me)&&(me=A(me,ae+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(O,"$&/")+"/")+Te)),ee.push(me)),1;Te=0;var Pt=oe===""?".":oe+":";if(xe(k))for(var Qe=0;Qe<k.length;Qe++)oe=k[Qe],Ve=Pt+j(oe,Qe),Te+=Se(oe,ee,ae,Ve,me);else if(Qe=S(k),typeof Qe=="function")for(k=Qe.call(k),Qe=0;!(oe=k.next()).done;)oe=oe.value,Ve=Pt+j(oe,Qe++),Te+=Se(oe,ee,ae,Ve,me);else if(Ve==="object"){if(typeof k.then=="function")return Se(ve(k),ee,ae,oe,me);throw ee=String(k),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Te}function q(k,ee,ae){if(k==null)return k;var oe=[],me=0;return Se(k,oe,"","",function(Ve){return ee.call(ae,Ve,me++)}),oe}function se(k){if(k._status===-1){var ee=k._result;ee=ee(),ee.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=ee)}if(k._status===1)return k._result.default;throw k._result}var fe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ne(){}return Ie.Children={map:q,forEach:function(k,ee,ae){q(k,function(){ee.apply(this,arguments)},ae)},count:function(k){var ee=0;return q(k,function(){ee++}),ee},toArray:function(k){return q(k,function(ee){return ee})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=F,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=te,Ie.StrictMode=s,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ce.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,ee,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var oe=G({},k.props),me=k.key,Ve=void 0;if(ee!=null)for(Te in ee.ref!==void 0&&(Ve=void 0),ee.key!==void 0&&(me=""+ee.key),ee)!ye.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(oe[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)oe.children=ae;else if(1<Te){for(var Pt=Array(Te),Qe=0;Qe<Te;Qe++)Pt[Qe]=arguments[Qe+2];oe.children=Pt}return N(k.type,me,void 0,void 0,Ve,oe)},Ie.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,ee,ae){var oe,me={},Ve=null;if(ee!=null)for(oe in ee.key!==void 0&&(Ve=""+ee.key),ee)ye.call(ee,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(me[oe]=ee[oe]);var Te=arguments.length-2;if(Te===1)me.children=ae;else if(1<Te){for(var Pt=Array(Te),Qe=0;Qe<Te;Qe++)Pt[Qe]=arguments[Qe+2];me.children=Pt}if(k&&k.defaultProps)for(oe in Te=k.defaultProps,Te)me[oe]===void 0&&(me[oe]=Te[oe]);return N(k,Ve,void 0,void 0,null,me)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:m,render:k}},Ie.isValidElement=C,Ie.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:se}},Ie.memo=function(k,ee){return{$$typeof:p,type:k,compare:ee===void 0?null:ee}},Ie.startTransition=function(k){var ee=ce.T,ae={};ce.T=ae;try{var oe=k(),me=ce.S;me!==null&&me(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ne,fe)}catch(Ve){fe(Ve)}finally{ce.T=ee}},Ie.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ie.use=function(k){return ce.H.use(k)},Ie.useActionState=function(k,ee,ae){return ce.H.useActionState(k,ee,ae)},Ie.useCallback=function(k,ee){return ce.H.useCallback(k,ee)},Ie.useContext=function(k){return ce.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,ee){return ce.H.useDeferredValue(k,ee)},Ie.useEffect=function(k,ee,ae){var oe=ce.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(k,ee)},Ie.useId=function(){return ce.H.useId()},Ie.useImperativeHandle=function(k,ee,ae){return ce.H.useImperativeHandle(k,ee,ae)},Ie.useInsertionEffect=function(k,ee){return ce.H.useInsertionEffect(k,ee)},Ie.useLayoutEffect=function(k,ee){return ce.H.useLayoutEffect(k,ee)},Ie.useMemo=function(k,ee){return ce.H.useMemo(k,ee)},Ie.useOptimistic=function(k,ee){return ce.H.useOptimistic(k,ee)},Ie.useReducer=function(k,ee,ae){return ce.H.useReducer(k,ee,ae)},Ie.useRef=function(k){return ce.H.useRef(k)},Ie.useState=function(k){return ce.H.useState(k)},Ie.useSyncExternalStore=function(k,ee,ae){return ce.H.useSyncExternalStore(k,ee,ae)},Ie.useTransition=function(){return ce.H.useTransition()},Ie.version="19.1.1",Ie}var vv;function Wm(){return vv||(vv=1,nm.exports=kw()),nm.exports}var D=Wm(),rm={exports:{}},Ml={},im={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function Ow(){return _v||(_v=1,(function(i){function e(q,se){var fe=q.length;q.push(se);e:for(;0<fe;){var Ne=fe-1>>>1,k=q[Ne];if(0<o(k,se))q[Ne]=se,q[fe]=k,fe=Ne;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var se=q[0],fe=q.pop();if(fe!==se){q[0]=fe;e:for(var Ne=0,k=q.length,ee=k>>>1;Ne<ee;){var ae=2*(Ne+1)-1,oe=q[ae],me=ae+1,Ve=q[me];if(0>o(oe,fe))me<k&&0>o(Ve,oe)?(q[Ne]=Ve,q[me]=fe,Ne=me):(q[Ne]=oe,q[ae]=fe,Ne=ae);else if(me<k&&0>o(Ve,fe))q[Ne]=Ve,q[me]=fe,Ne=me;else break e}}return se}function o(q,se){var fe=q.sortIndex-se.sortIndex;return fe!==0?fe:q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,w=null,S=3,V=!1,G=!1,Y=!1,F=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function xe(q){for(var se=n(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=q)s(p),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(p)}}function ce(q){if(Y=!1,xe(q),!G)if(n(g)!==null)G=!0,ye||(ye=!0,j());else{var se=n(p);se!==null&&Se(ce,se.startTime-q)}}var ye=!1,N=-1,A=5,C=-1;function P(){return F?!0:!(i.unstable_now()-C<A)}function O(){if(F=!1,ye){var q=i.unstable_now();C=q;var se=!0;try{e:{G=!1,Y&&(Y=!1,te(N),N=-1),V=!0;var fe=S;try{t:{for(xe(q),w=n(g);w!==null&&!(w.expirationTime>q&&P());){var Ne=w.callback;if(typeof Ne=="function"){w.callback=null,S=w.priorityLevel;var k=Ne(w.expirationTime<=q);if(q=i.unstable_now(),typeof k=="function"){w.callback=k,xe(q),se=!0;break t}w===n(g)&&s(g),xe(q)}else s(g);w=n(g)}if(w!==null)se=!0;else{var ee=n(p);ee!==null&&Se(ce,ee.startTime-q),se=!1}}break e}finally{w=null,S=fe,V=!1}se=void 0}}finally{se?j():ye=!1}}}var j;if(typeof ie=="function")j=function(){ie(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ve=R.port2;R.port1.onmessage=O,j=function(){ve.postMessage(null)}}else j=function(){ne(O,0)};function Se(q,se){N=ne(function(){q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(q){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var fe=S;S=se;try{return q()}finally{S=fe}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var fe=S;S=q;try{return se()}finally{S=fe}},i.unstable_scheduleCallback=function(q,se,fe){var Ne=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ne+fe:Ne):fe=Ne,q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=fe+k,q={id:E++,callback:se,priorityLevel:q,startTime:fe,expirationTime:k,sortIndex:-1},fe>Ne?(q.sortIndex=fe,e(p,q),n(g)===null&&q===n(p)&&(Y?(te(N),N=-1):Y=!0,Se(ce,fe-Ne))):(q.sortIndex=k,e(g,q),G||V||(G=!0,ye||(ye=!0,j()))),q},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(q){var se=S;return function(){var fe=S;S=se;try{return q.apply(this,arguments)}finally{S=fe}}}})(sm)),sm}var Ev;function Mw(){return Ev||(Ev=1,im.exports=Ow()),im.exports}var am={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function Vw(){if(bv)return Qt;bv=1;var i=Wm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Qt.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},Qt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Qt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,V=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:V}):E==="script"&&s.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:V,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Qt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Qt.requestFormReset=function(g){s.d.r(g)},Qt.unstable_batchedUpdates=function(g,p){return g(p)},Qt.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.1",Qt}var Tv;function Pw(){if(Tv)return am.exports;Tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),am.exports=Vw(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function Lw(){if(wv)return Ml;wv=1;var i=Mw(),e=Wm(),n=Pw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var b=!1,T=h.child;T;){if(T===a){b=!0,a=h,l=d;break}if(T===l){b=!0,l=h,a=d;break}T=T.sibling}if(!b){for(T=d.child;T;){if(T===a){b=!0,a=d,l=h;break}if(T===l){b=!0,l=d,a=h;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case F:return"Profiler";case Y:return"StrictMode";case ce:return"Suspense";case ye:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case xe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:ve(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return ve(t(r))}catch{}}return null}var Se=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ne=[],k=-1;function ee(t){return{current:t}}function ae(t){0>k||(t.current=Ne[k],Ne[k]=null,k--)}function oe(t,r){k++,Ne[k]=t.current,t.current=r}var me=ee(null),Ve=ee(null),Te=ee(null),Pt=ee(null);function Qe(t,r){switch(oe(Te,r),oe(Ve,t),oe(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?H0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=H0(r),t=F0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(me),oe(me,t)}function Ln(){ae(me),ae(Ve),ae(Te)}function Ro(t){t.memoizedState!==null&&oe(Pt,t);var r=me.current,a=F0(r,t.type);r!==a&&(oe(Ve,t),oe(me,a))}function oa(t){Ve.current===t&&(ae(me),ae(Ve)),Pt.current===t&&(ae(Pt),Cl._currentValue=fe)}var la=Object.prototype.hasOwnProperty,ls=i.unstable_scheduleCallback,ua=i.unstable_cancelCallback,tf=i.unstable_shouldYield,Co=i.unstable_requestPaint,sn=i.unstable_now,xu=i.unstable_getCurrentPriorityLevel,xt=i.unstable_ImmediatePriority,Nt=i.unstable_UserBlockingPriority,Tr=i.unstable_NormalPriority,nf=i.unstable_LowPriority,Io=i.unstable_IdlePriority,rf=i.log,us=i.unstable_setDisableYieldValue,ti=null,Ft=null;function Tn(t){if(typeof rf=="function"&&us(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ti,t)}catch{}}var Zt=Math.clz32?Math.clz32:Au,sf=Math.log,Su=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(sf(t)/Su|0)|0}var tr=256,ni=4194304;function jn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=jn(l):(b&=T,b!==0?h=jn(b):a||(a=T&~t,a!==0&&(h=jn(a))))):(T=l&~d,T!==0?h=jn(T):b!==0?h=jn(b):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ri(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ca(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var t=tr;return tr<<=1,(tr&4194048)===0&&(tr=256),t}function ii(){var t=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),t}function ha(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ht(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ru(t,r,a,l,h,d){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=b&~a;0<a;){var $=31-Zt(a),Z=1<<$;T[$]=0,I[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var K=H[$];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&si(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(b&~r))}function si(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Zt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ai(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Do(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ko(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wr(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:uv(t.type))}function af(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var nr=Math.random().toString(36).slice(2),ft="__reactFiber$"+nr,Lt="__reactProps$"+nr,xr="__reactContainer$"+nr,cs="__reactEvents$"+nr,hs="__reactListeners$"+nr,of="__reactHandles$"+nr,Un="__reactResources$"+nr,oi="__reactMarker$"+nr;function fa(t){delete t[ft],delete t[Lt],delete t[cs],delete t[hs],delete t[of]}function rr(t){var r=t[ft];if(r)return r;for(var a=t.parentNode;a;){if(r=a[xr]||a[ft]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Y0(t);t!==null;){if(a=t[ft])return a;t=Y0(t)}return r}t=a,a=t.parentNode}return null}function ir(t){if(t=t[ft]||t[xr]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function li(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function ui(t){var r=t[Un];return r||(r=t[Un]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(t){t[oi]=!0}var Cu=new Set,fs={};function sr(t,r){ar(t,r),ar(t+"Capture",r)}function ar(t,r){for(fs[t]=r,t=0;t<r.length;t++)Cu.add(r[t])}var ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),or={},da={};function lf(t){return la.call(da,t)?!0:la.call(or,t)?!1:ds.test(t)?da[t]=!0:(or[t]=!0,!1)}function ms(t,r,a){if(lf(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function gs(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function xn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ps,ma;function Sr(t){if(ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ps=r&&r[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+ma}var ga=!1;function pa(t,r){if(!t||ga)return"";ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var H=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){H=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){H=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],T=d[1];if(b&&T){var I=b.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var $=`
`+I[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{ga=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Sr(a):""}function uf(t){switch(t.tag){case 26:case 27:case 5:return Sr(t.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return Sr("Activity");default:return""}}function zn(t){try{var r="";do r+=uf(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function at(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ci(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ys(t){var r=ci(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function hi(t){t._valueTracker||(t._valueTracker=ys(t))}function Ye(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=ci(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vs=/[\n"\\]/g;function Dt(t){return t.replace(vs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oo(t,r,a,l,h,d,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+at(r)):t.value!==""+at(r)&&(t.value=""+at(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?Vo(t,b,at(r)):a!=null?Vo(t,b,at(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+at(T):t.removeAttribute("name")}function Mo(t,r,a,l,h,d,b,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+at(a):"",r=r!=null?""+at(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Vo(t,r,a){r==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+at(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Iu(t,r,a){if(r!=null&&(r=""+at(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+at(a):""}function Nu(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=at(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Sn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Rr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Rr.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Lo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Po(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Po(t,d,r[d])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bn(t){return ku.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var jo=null;function Uo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,Jt=null;function Ou(t){var r=ir(t);if(r&&(t=r.stateNode)){var a=t[Lt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Oo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));Oo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ye(l)}break e;case"textarea":Iu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&fi(t,!!a.multiple,r,!1)}}}var _s=!1;function Es(t,r,a){if(_s)return t(r,a);_s=!0;try{var l=t(r);return l}finally{if(_s=!1,(di!==null||Jt!==null)&&(Tc(),di&&(r=di,t=Jt,Jt=di=null,Ou(r),t)))for(r=0;r<t.length;r++)Ou(t[r])}}function mi(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(en)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{Cr=!1}var An=null,Je=null,va=null;function Mu(){if(va)return va;var t,r=Je,a=r.length,l,h="value"in An?An.value:An.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===h[d-l];l++);return va=h.slice(t,1<l?1-l:void 0)}function bs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function zo(){return!1}function St(t){function r(a,l,h,d,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ts:zo,this.isPropagationStopped=zo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),r}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=St(Gt),xs=E({},Gt,{view:0,detail:0}),Ss=St(xs),_a,As,lr,Rs=E({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lr&&(lr&&t.type==="mousemove"?(_a=t.screenX-lr.screenX,As=t.screenY-lr.screenY):As=_a=0,lr=t),_a)},movementY:function(t){return"movementY"in t?t.movementY:As}}),Cs=St(Rs),cf=E({},Rs,{dataTransfer:0}),Vu=St(cf),Is=E({},xs,{relatedTarget:0}),Ea=St(Is),Pu=E({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Bo=St(Pu),qo=E({},Gt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lu=St(qo),ba=E({},Gt,{data:0}),Ho=St(ba),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ir={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Uu[t])?!!r[t]:!1}function Ta(){return zu}var Bu=E({},xs,{key:function(t){if(t.key){var r=ju[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ir[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(t){return t.type==="keypress"?bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=St(Bu),tn=E({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=St(tn),qu=E({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),pi=St(qu),c=E({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=St(c),_=E({},Rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x=St(_),z=E({},Gt,{newState:0,oldState:0}),Q=St(z),re=[9,13,27,32],Re=en&&"CompositionEvent"in window,nt=null;en&&"documentMode"in document&&(nt=document.documentMode);var Fe=en&&"TextEvent"in window&&!nt,mt=en&&(!Re||nt&&8<nt&&11>=nt),hn=" ",ur=!1;function qn(t,r){switch(t){case"keyup":return re.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fn=!1;function Go(t,r){switch(t){case"compositionend":return Hn(r);case"keypress":return r.which!==32?null:(ur=!0,hn);case"textInput":return t=r.data,t===hn&&ur?null:t;default:return null}}function r1(t,r){if(Fn)return t==="compositionend"||!Re&&qn(t,r)?(t=Mu(),va=Je=An=null,Fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return mt&&r.locale!=="ko"?null:r.data;default:return null}}var i1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!i1[t.type]:r==="textarea"}function ip(t,r,a,l){di?Jt?Jt.push(l):Jt=[l]:di=l,r=Cc(r,"onChange"),0<r.length&&(a=new ws("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ko=null,Qo=null;function s1(t){j0(t,0)}function Hu(t){var r=li(t);if(Ye(r))return t}function sp(t,r){if(t==="change")return r}var ap=!1;if(en){var hf;if(en){var ff="oninput"in document;if(!ff){var op=document.createElement("div");op.setAttribute("oninput","return;"),ff=typeof op.oninput=="function"}hf=ff}else hf=!1;ap=hf&&(!document.documentMode||9<document.documentMode)}function lp(){Ko&&(Ko.detachEvent("onpropertychange",up),Qo=Ko=null)}function up(t){if(t.propertyName==="value"&&Hu(Qo)){var r=[];ip(r,Qo,t,Uo(t)),Es(s1,r)}}function a1(t,r,a){t==="focusin"?(lp(),Ko=r,Qo=a,Ko.attachEvent("onpropertychange",up)):t==="focusout"&&lp()}function o1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(Qo)}function l1(t,r){if(t==="click")return Hu(r)}function u1(t,r){if(t==="input"||t==="change")return Hu(r)}function c1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var fn=typeof Object.is=="function"?Object.is:c1;function Yo(t,r){if(fn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!la.call(r,h)||!fn(t[h],r[h]))return!1}return!0}function cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hp(t,r){var a=cp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cp(a)}}function fp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?fp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function dp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ar(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ar(t.document)}return r}function df(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var h1=en&&"documentMode"in document&&11>=document.documentMode,xa=null,mf=null,$o=null,gf=!1;function mp(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||xa==null||xa!==Ar(l)||(l=xa,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Yo($o,l)||($o=l,l=Cc(mf,"onSelect"),0<l.length&&(r=new ws("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=xa)))}function Ns(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Sa={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},pf={},gp={};en&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ds(t){if(pf[t])return pf[t];if(!Sa[t])return t;var r=Sa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in gp)return pf[t]=r[a];return t}var pp=Ds("animationend"),yp=Ds("animationiteration"),vp=Ds("animationstart"),f1=Ds("transitionrun"),d1=Ds("transitionstart"),m1=Ds("transitioncancel"),_p=Ds("transitionend"),Ep=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Gn(t,r){Ep.set(t,r),sr(r,[t])}var bp=new WeakMap;function Rn(t,r){if(typeof t=="object"&&t!==null){var a=bp.get(t);return a!==void 0?a:(r={value:t,source:r,stack:zn(r)},bp.set(t,r),r)}return{value:t,source:r,stack:zn(r)}}var Cn=[],Aa=0,vf=0;function Fu(){for(var t=Aa,r=vf=Aa=0;r<t;){var a=Cn[r];Cn[r++]=null;var l=Cn[r];Cn[r++]=null;var h=Cn[r];Cn[r++]=null;var d=Cn[r];if(Cn[r++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}d!==0&&Tp(a,h,d)}}function Gu(t,r,a,l){Cn[Aa++]=t,Cn[Aa++]=r,Cn[Aa++]=a,Cn[Aa++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,r,a,l){return Gu(t,r,a,l),Ku(t)}function Ra(t,r){return Gu(t,null,null,r),Ku(t)}function Tp(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Zt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ku(t){if(50<El)throw El=0,Sd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ca={};function g1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,a,l){return new g1(t,r,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nr(t,r){var a=t.alternate;return a===null?(a=dn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function wp(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Qu(t,r,a,l,h,d){var b=0;if(l=t,typeof t=="function")Ef(t)&&(b=1);else if(typeof t=="string")b=yw(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=dn(31,a,r,h),t.elementType=C,t.lanes=d,t;case G:return ks(a.children,h,d,r);case Y:b=8,h|=24;break;case F:return t=dn(12,a,r,h|2),t.elementType=F,t.lanes=d,t;case ce:return t=dn(13,a,r,h),t.elementType=ce,t.lanes=d,t;case ye:return t=dn(19,a,r,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case ie:b=10;break e;case te:b=9;break e;case xe:b=11;break e;case N:b=14;break e;case A:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=dn(b,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function ks(t,r,a,l){return t=dn(7,t,l,r),t.lanes=a,t}function bf(t,r,a){return t=dn(6,t,null,r),t.lanes=a,t}function Tf(t,r,a){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ia=[],Na=0,Yu=null,$u=0,In=[],Nn=0,Os=null,Dr=1,kr="";function Ms(t,r){Ia[Na++]=$u,Ia[Na++]=Yu,Yu=t,$u=r}function xp(t,r,a){In[Nn++]=Dr,In[Nn++]=kr,In[Nn++]=Os,Os=t;var l=Dr;t=kr;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(r)+h;if(30<d){var b=h-h%5;d=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Dr=1<<32-Zt(r)+h|a<<h|l,kr=d+t}else Dr=1<<d|a<<h|l,kr=t}function wf(t){t.return!==null&&(Ms(t,1),xp(t,1,0))}function xf(t){for(;t===Yu;)Yu=Ia[--Na],Ia[Na]=null,$u=Ia[--Na],Ia[Na]=null;for(;t===Os;)Os=In[--Nn],In[Nn]=null,kr=In[--Nn],In[Nn]=null,Dr=In[--Nn],In[Nn]=null}var nn=null,ut=null,qe=!1,Vs=null,cr=!1,Sf=Error(s(519));function Ps(t){var r=Error(s(418,""));throw Zo(Rn(r,t)),Sf}function Sp(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[ft]=t,r[Lt]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Me(Tl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Mo(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),hi(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Nu(r,l.value,l.defaultValue,l.children),hi(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||q0(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=Ic),r=!0):r=!1,r||Ps(t)}function Ap(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:nn=nn.return}}function Xo(t){if(t!==nn)return!1;if(!qe)return Ap(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&ut&&Ps(t),Ap(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,ki(t.type)?(t=Gd,Gd=null,ut=t):ut=r):ut=nn?Qn(t.stateNode.nextSibling):null;return!0}function Wo(){ut=nn=null,qe=!1}function Rp(){var t=Vs;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Vs=null),t}function Zo(t){Vs===null?Vs=[t]:Vs.push(t)}var Af=ee(null),Ls=null,Or=null;function yi(t,r,a){oe(Af,r._currentValue),r._currentValue=a}function Mr(t){t._currentValue=Af.current,ae(Af)}function Rf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Cf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var b=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rf(d.return,a,t),l||(b=null);break e}d=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,d=b.alternate,d!==null&&(d.lanes|=a),Rf(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Jo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=h.type;fn(h.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pt.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&Cf(r,t,a,l),r.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Ls=t,Or=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Cp(Ls,t)}function Wu(t,r){return Ls===null&&js(t),Cp(t,r)}function Cp(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Or===null){if(t===null)throw Error(s(308));Or=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Or=Or.next=r;return a}var p1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},y1=i.unstable_scheduleCallback,v1=i.unstable_NormalPriority,At={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new p1,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&y1(v1,function(){t.controller.abort()})}var tl=null,Nf=0,Da=0,ka=null;function _1(t,r){if(tl===null){var a=tl=[];Nf=0,Da=kd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,r.then(Ip,Ip),r}function Ip(){if(--Nf===0&&tl!==null){ka!==null&&(ka.status="fulfilled");var t=tl;tl=null,Da=0,ka=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function E1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Np=q.S;q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&_1(t,r),Np!==null&&Np(t,r)};var Us=ee(null);function Df(){var t=Us.current;return t!==null?t:et.pooledCache}function Zu(t,r){r===null?oe(Us,Us.current):oe(Us,r.pool)}function Dp(){var t=Df();return t===null?null:{parent:At._currentValue,pool:t}}var nl=Error(s(460)),kp=Error(s(474)),Ju=Error(s(542)),kf={then:function(){}};function Op(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ec(){}function Mp(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ec,ec),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Pp(t),t;default:if(typeof r.status=="string")r.then(ec,ec);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Pp(t),t}throw rl=r,nl}}var rl=null;function Vp(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}function Pp(t){if(t===nl||t===Ju)throw Error(s(483))}var vi=!1;function Of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ku(t),Tp(t,null,a),r}return Gu(t,l,r,a),Ku(t)}function il(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ai(t,a)}}function Vf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=b:d=d.next=b,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Pf=!1;function sl(){if(Pf){var t=ka;if(t!==null)throw t}}function al(t,r,a,l){Pf=!1;var h=t.updateQueue;vi=!1;var d=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,b===null?d=B:b.next=B,b=I;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==b&&(T===null?$.firstBaseUpdate=B:T.next=B,$.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;b=0,$=B=I=null,T=d;do{var H=T.lane&-536870913,K=H!==T.lane;if(K?(Ue&H)===H:(l&H)===H){H!==0&&H===Da&&(Pf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,pe=T;H=r;var We=a;switch(pe.tag){case 1:if(we=pe.payload,typeof we=="function"){Z=we.call(We,Z,H);break e}Z=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=pe.payload,H=typeof we=="function"?we.call(We,Z,H):we,H==null)break e;Z=E({},Z,H);break e;case 2:vi=!0}}H=T.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[H]:K.push(H))}else K={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(B=$=K,I=Z):$=$.next=K,b|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Ci|=b,t.lanes=b,t.memoizedState=Z}}function Lp(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function jp(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Lp(a[t],r)}var Oa=ee(null),tc=ee(0);function Up(t,r){t=Br,oe(tc,t),oe(Oa,r),Br=t|r.baseLanes}function Lf(){oe(tc,Br),oe(Oa,Oa.current)}function jf(){Br=tc.current,ae(Oa),ae(tc)}var bi=0,De=null,$e=null,vt=null,nc=!1,Ma=!1,zs=!1,rc=0,ol=0,Va=null,b1=0;function gt(){throw Error(s(321))}function Uf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!fn(t[a],r[a]))return!1;return!0}function zf(t,r,a,l,h,d){return bi=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=t===null||t.memoizedState===null?Ty:wy,zs=!1,d=a(l,h),zs=!1,Ma&&(d=Bp(r,a,l,h)),zp(t),d}function zp(t){q.H=uc;var r=$e!==null&&$e.next!==null;if(bi=0,vt=$e=De=null,nc=!1,ol=0,Va=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Xu(t)&&(kt=!0))}function Bp(t,r,a,l){De=t;var h=0;do{if(Ma&&(Va=null),ol=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=C1,d=r(a,l)}while(Ma);return d}function T1(){var t=q.H,r=t.useState()[0];return r=typeof r.then=="function"?ll(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(De.flags|=1024),r}function Bf(){var t=rc!==0;return rc=0,t}function qf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Hf(t){if(nc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}nc=!1}bi=0,vt=$e=De=null,Ma=!1,ol=rc=0,Va=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?De.memoizedState=vt=t:vt=vt.next=t,vt}function _t(){if($e===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=vt===null?De.memoizedState:vt.next;if(r!==null)vt=r,$e=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?De.memoizedState=vt=t:vt=vt.next=t}return vt}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var r=ol;return ol+=1,Va===null&&(Va=[]),t=Mp(Va,t,r),r=De,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Ty:wy),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ie)return Kt(t)}throw Error(s(438,String(t)))}function Gf(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ff(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=P;return r.index++,a}function Vr(t,r){return typeof r=="function"?r(t):r}function sc(t){var r=_t();return Kf(r,$e,t)}function Kf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var b=h.next;h.next=d.next,d.next=b}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=b=null,I=null,B=r,$=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Ue&Z)===Z:(bi&Z)===Z){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Da&&($=!0);else if((bi&H)===H){B=B.next,H===Da&&($=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=Z,b=d):I=I.next=Z,De.lanes|=H,Ci|=H;Z=B.action,zs&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=H,b=d):I=I.next=H,De.lanes|=Z,Ci|=Z;B=B.next}while(B!==null&&B!==r);if(I===null?b=d:I.next=T,!fn(d,t.memoizedState)&&(kt=!0,$&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=b,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do d=t(d,b.action),b=b.next;while(b!==h);fn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function qp(t,r,a){var l=De,h=_t(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!fn(($e||h).memoizedState,a);b&&(h.memoizedState=a,kt=!0),h=h.queue;var T=Gp.bind(null,l,h,t);if(ul(2048,8,T,[t]),h.getSnapshot!==r||b||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,ac(),Fp.bind(null,l,h,a,r),null),et===null)throw Error(s(349));d||(bi&124)!==0||Hp(l,r,a)}return a}function Hp(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=Ff(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Fp(t,r,a,l){r.value=a,r.getSnapshot=l,Kp(r)&&Qp(t)}function Gp(t,r,a){return a(function(){Kp(r)&&Qp(t)})}function Kp(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!fn(t,a)}catch{return!0}}function Qp(t){var r=Ra(t,2);r!==null&&vn(r,t,2)}function Yf(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),zs){Tn(!0);try{a()}finally{Tn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:t},r}function Yp(t,r,a,l){return t.baseState=a,Kf(t,$e,typeof l=="function"?l:Vr)}function w1(t,r,a,l,h){if(lc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,$p(r,d)):(d.next=a.next,r.pending=a.next=d)}}function $p(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=q.T,b={};q.T=b;try{var T=a(h,l),I=q.S;I!==null&&I(b,T),Xp(t,r,T)}catch(B){$f(t,r,B)}finally{q.T=d}}else try{d=a(h,l),Xp(t,r,d)}catch(B){$f(t,r,B)}}function Xp(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wp(t,r,l)},function(l){return $f(t,r,l)}):Wp(t,r,a)}function Wp(t,r,a){r.status="fulfilled",r.value=a,Zp(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,$p(t,a)))}function $f(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Zp(r),r=r.next;while(r!==l)}t.action=null}function Zp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Jp(t,r){return r}function ey(t,r){if(qe){var a=et.formState;if(a!==null){e:{var l=De;if(qe){if(ut){t:{for(var h=ut,d=cr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Qn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:r},a.queue=l,a=_y.bind(null,De,l),l.dispatch=a,l=Yf(!1),d=ed.bind(null,De,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=w1.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function ty(t){var r=_t();return ny(r,$e,t)}function ny(t,r,a){if(r=Kf(t,r,Jp)[0],t=sc(Vr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ll(r)}catch(b){throw b===nl?Ju:b}else l=r;r=_t();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Pa(9,ac(),x1.bind(null,h,a),null)),[l,d,t]}function x1(t,r){t.action=r}function ry(t){var r=_t(),a=$e;if(a!==null)return ny(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Pa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=Ff(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ac(){return{destroy:void 0,resource:void 0}}function iy(){return _t().memoizedState}function oc(t,r,a,l){var h=an();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Pa(1|r,ac(),a,l)}function ul(t,r,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Uf(l,$e.memoizedState.deps)?h.memoizedState=Pa(r,d,a,l):(De.flags|=t,h.memoizedState=Pa(1|r,d,a,l))}function sy(t,r){oc(8390656,8,t,r)}function ay(t,r){ul(2048,8,t,r)}function oy(t,r){return ul(4,2,t,r)}function ly(t,r){return ul(4,4,t,r)}function uy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function cy(t,r,a){a=a!=null?a.concat([t]):null,ul(4,4,uy.bind(null,r,t),a)}function Xf(){}function hy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Uf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function fy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Uf(r,l[1]))return l[0];if(l=t(),zs){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,r],l}function Wf(t,r,a){return a===void 0||(bi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=g0(),De.lanes|=t,Ci|=t,a)}function dy(t,r,a,l){return fn(a,r)?a:Oa.current!==null?(t=Wf(t,a,l),fn(t,r)||(kt=!0),t):(bi&42)===0?(kt=!0,t.memoizedState=a):(t=g0(),De.lanes|=t,Ci|=t,r)}function my(t,r,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var b=q.T,T={};q.T=T,ed(t,!1,r,a);try{var I=h(),B=q.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=E1(I,l);cl(t,r,$,yn(t))}else cl(t,r,l,yn(t))}catch(Z){cl(t,r,{then:function(){},status:"rejected",reason:Z},yn())}finally{se.p=d,q.T=b}}function S1(){}function Zf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=gy(t).queue;my(t,h,r,fe,a===null?S1:function(){return py(t),a(l)})}function gy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function py(t){var r=gy(t).next.queue;cl(t,r,{},yn())}function Jf(){return Kt(Cl)}function yy(){return _t().memoizedState}function vy(){return _t().memoizedState}function A1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=yn();t=_i(a);var l=Ei(r,t,a);l!==null&&(vn(l,r,a),il(l,r,a)),r={cache:If()},t.payload=r;return}r=r.return}}function R1(t,r,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?Ey(r,a):(a=_f(t,r,a,l),a!==null&&(vn(a,t,l),by(a,r,l)))}function _y(t,r,a){var l=yn();cl(t,r,a,l)}function cl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))Ey(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var b=r.lastRenderedState,T=d(b,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,b))return Gu(t,r,h,0),et===null&&Fu(),!1}catch{}finally{}if(a=_f(t,r,h,l),a!==null)return vn(a,t,l),by(a,r,l),!0}return!1}function ed(t,r,a,l){if(l={lane:2,revertLane:kd(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(r)throw Error(s(479))}else r=_f(t,a,l,2),r!==null&&vn(r,t,2)}function lc(t){var r=t.alternate;return t===De||r!==null&&r===De}function Ey(t,r){Ma=nc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function by(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ai(t,a)}}var uc={readContext:Kt,use:ic,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Ty={readContext:Kt,use:ic,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:sy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,oc(4194308,4,uy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return oc(4194308,4,t,r)},useInsertionEffect:function(t,r){oc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(zs){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(zs){Tn(!0);try{a(r)}finally{Tn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=R1.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Yf(t);var r=t.queue,a=_y.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,r){var a=an();return Wf(a,t,r)},useTransition:function(){var t=Yf(!1);return t=my.bind(null,De,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=an();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Ue&124)!==0||Hp(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,sy(Gp.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,ac(),Fp.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=et.identifierPrefix;if(qe){var a=kr,l=Dr;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=rc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=b1++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Jf,useFormState:ey,useActionState:ey,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ed.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:Gf,useCacheRefresh:function(){return an().memoizedState=A1.bind(null,De)}},wy={readContext:Kt,use:ic,useCallback:hy,useContext:Kt,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:sc,useRef:iy,useState:function(){return sc(Vr)},useDebugValue:Xf,useDeferredValue:function(t,r){var a=_t();return dy(a,$e.memoizedState,t,r)},useTransition:function(){var t=sc(Vr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:qp,useId:yy,useHostTransitionStatus:Jf,useFormState:ty,useActionState:ty,useOptimistic:function(t,r){var a=_t();return Yp(a,$e,t,r)},useMemoCache:Gf,useCacheRefresh:vy},C1={readContext:Kt,use:ic,useCallback:hy,useContext:Kt,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:Qf,useRef:iy,useState:function(){return Qf(Vr)},useDebugValue:Xf,useDeferredValue:function(t,r){var a=_t();return $e===null?Wf(a,t,r):dy(a,$e.memoizedState,t,r)},useTransition:function(){var t=Qf(Vr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:qp,useId:yy,useHostTransitionStatus:Jf,useFormState:ry,useActionState:ry,useOptimistic:function(t,r){var a=_t();return $e!==null?Yp(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:vy},La=null,hl=0;function cc(t){var r=hl;return hl+=1,La===null&&(La=[]),Mp(La,t,r)}function fl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function hc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function xy(t){var r=t._init;return r(t._payload)}function Sy(t){function r(L,M){if(t){var U=L.deletions;U===null?(L.deletions=[M],L.flags|=16):U.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Nr(L,M),L.index=0,L.sibling=null,L}function d(L,M,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<M?(L.flags|=67108866,M):U):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function b(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,U,X){return M===null||M.tag!==6?(M=bf(U,L.mode,X),M.return=L,M):(M=h(M,U),M.return=L,M)}function I(L,M,U,X){var he=U.type;return he===G?$(L,M,U.props.children,X,U.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&xy(he)===M.type)?(M=h(M,U.props),fl(M,U),M.return=L,M):(M=Qu(U.type,U.key,U.props,null,L.mode,X),fl(M,U),M.return=L,M)}function B(L,M,U,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Tf(U,L.mode,X),M.return=L,M):(M=h(M,U.children||[]),M.return=L,M)}function $(L,M,U,X,he){return M===null||M.tag!==7?(M=ks(U,L.mode,X,he),M.return=L,M):(M=h(M,U),M.return=L,M)}function Z(L,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=bf(""+M,L.mode,U),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return U=Qu(M.type,M.key,M.props,null,L.mode,U),fl(U,M),U.return=L,U;case V:return M=Tf(M,L.mode,U),M.return=L,M;case A:var X=M._init;return M=X(M._payload),Z(L,M,U)}if(Se(M)||j(M))return M=ks(M,L.mode,U,null),M.return=L,M;if(typeof M.then=="function")return Z(L,cc(M),U);if(M.$$typeof===ie)return Z(L,Wu(L,M),U);hc(L,M)}return null}function H(L,M,U,X){var he=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return he!==null?null:T(L,M,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===he?I(L,M,U,X):null;case V:return U.key===he?B(L,M,U,X):null;case A:return he=U._init,U=he(U._payload),H(L,M,U,X)}if(Se(U)||j(U))return he!==null?null:$(L,M,U,X,null);if(typeof U.then=="function")return H(L,M,cc(U),X);if(U.$$typeof===ie)return H(L,M,Wu(L,U),X);hc(L,U)}return null}function K(L,M,U,X,he){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(U)||null,T(M,L,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return L=L.get(X.key===null?U:X.key)||null,I(M,L,X,he);case V:return L=L.get(X.key===null?U:X.key)||null,B(M,L,X,he);case A:var ke=X._init;return X=ke(X._payload),K(L,M,U,X,he)}if(Se(X)||j(X))return L=L.get(U)||null,$(M,L,X,he,null);if(typeof X.then=="function")return K(L,M,U,cc(X),he);if(X.$$typeof===ie)return K(L,M,U,Wu(M,X),he);hc(M,X)}return null}function we(L,M,U,X){for(var he=null,ke=null,de=M,_e=M=0,Mt=null;de!==null&&_e<U.length;_e++){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var Be=H(L,de,U[_e],X);if(Be===null){de===null&&(de=Mt);break}t&&de&&Be.alternate===null&&r(L,de),M=d(Be,M,_e),ke===null?he=Be:ke.sibling=Be,ke=Be,de=Mt}if(_e===U.length)return a(L,de),qe&&Ms(L,_e),he;if(de===null){for(;_e<U.length;_e++)de=Z(L,U[_e],X),de!==null&&(M=d(de,M,_e),ke===null?he=de:ke.sibling=de,ke=de);return qe&&Ms(L,_e),he}for(de=l(de);_e<U.length;_e++)Mt=K(de,L,_e,U[_e],X),Mt!==null&&(t&&Mt.alternate!==null&&de.delete(Mt.key===null?_e:Mt.key),M=d(Mt,M,_e),ke===null?he=Mt:ke.sibling=Mt,ke=Mt);return t&&de.forEach(function(Li){return r(L,Li)}),qe&&Ms(L,_e),he}function pe(L,M,U,X){if(U==null)throw Error(s(151));for(var he=null,ke=null,de=M,_e=M=0,Mt=null,Be=U.next();de!==null&&!Be.done;_e++,Be=U.next()){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var Li=H(L,de,Be.value,X);if(Li===null){de===null&&(de=Mt);break}t&&de&&Li.alternate===null&&r(L,de),M=d(Li,M,_e),ke===null?he=Li:ke.sibling=Li,ke=Li,de=Mt}if(Be.done)return a(L,de),qe&&Ms(L,_e),he;if(de===null){for(;!Be.done;_e++,Be=U.next())Be=Z(L,Be.value,X),Be!==null&&(M=d(Be,M,_e),ke===null?he=Be:ke.sibling=Be,ke=Be);return qe&&Ms(L,_e),he}for(de=l(de);!Be.done;_e++,Be=U.next())Be=K(de,L,_e,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?_e:Be.key),M=d(Be,M,_e),ke===null?he=Be:ke.sibling=Be,ke=Be);return t&&de.forEach(function(Iw){return r(L,Iw)}),qe&&Ms(L,_e),he}function We(L,M,U,X){if(typeof U=="object"&&U!==null&&U.type===G&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var he=U.key;M!==null;){if(M.key===he){if(he=U.type,he===G){if(M.tag===7){a(L,M.sibling),X=h(M,U.props.children),X.return=L,L=X;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&xy(he)===M.type){a(L,M.sibling),X=h(M,U.props),fl(X,U),X.return=L,L=X;break e}a(L,M);break}else r(L,M);M=M.sibling}U.type===G?(X=ks(U.props.children,L.mode,X,U.key),X.return=L,L=X):(X=Qu(U.type,U.key,U.props,null,L.mode,X),fl(X,U),X.return=L,L=X)}return b(L);case V:e:{for(he=U.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(L,M.sibling),X=h(M,U.children||[]),X.return=L,L=X;break e}else{a(L,M);break}else r(L,M);M=M.sibling}X=Tf(U,L.mode,X),X.return=L,L=X}return b(L);case A:return he=U._init,U=he(U._payload),We(L,M,U,X)}if(Se(U))return we(L,M,U,X);if(j(U)){if(he=j(U),typeof he!="function")throw Error(s(150));return U=he.call(U),pe(L,M,U,X)}if(typeof U.then=="function")return We(L,M,cc(U),X);if(U.$$typeof===ie)return We(L,M,Wu(L,U),X);hc(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(L,M.sibling),X=h(M,U),X.return=L,L=X):(a(L,M),X=bf(U,L.mode,X),X.return=L,L=X),b(L)):a(L,M)}return function(L,M,U,X){try{hl=0;var he=We(L,M,U,X);return La=null,he}catch(de){if(de===nl||de===Ju)throw de;var ke=dn(29,de,null,L.mode);return ke.lanes=X,ke.return=L,ke}finally{}}}var ja=Sy(!0),Ay=Sy(!1),Dn=ee(null),hr=null;function Ti(t){var r=t.alternate;oe(Rt,Rt.current&1),oe(Dn,t),hr===null&&(r===null||Oa.current!==null||r.memoizedState!==null)&&(hr=t)}function Ry(t){if(t.tag===22){if(oe(Rt,Rt.current),oe(Dn,t),hr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(hr=t)}}else wi()}function wi(){oe(Rt,Rt.current),oe(Dn,Dn.current)}function Pr(t){ae(Dn),hr===t&&(hr=null),ae(Rt)}var Rt=ee(0);function fc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Fd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function td(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=yn(),h=_i(l);h.payload=r,a!=null&&(h.callback=a),r=Ei(t,h,l),r!==null&&(vn(r,t,l),il(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=yn(),h=_i(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ei(t,h,l),r!==null&&(vn(r,t,l),il(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=yn(),l=_i(a);l.tag=2,r!=null&&(l.callback=r),r=Ei(t,l,a),r!==null&&(vn(r,t,a),il(r,t,a))}};function Cy(t,r,a,l,h,d,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,b):r.prototype&&r.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function Iy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&nd.enqueueReplaceState(r,r.state,null)}function Bs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ny(t){dc(t)}function Dy(t){console.error(t)}function ky(t){dc(t)}function mc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Oy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(t,r,a){return a=_i(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,r)},a}function My(t){return t=_i(t),t.tag=3,t}function Vy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Oy(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Oy(r,a,l),typeof h!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function I1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Jo(r,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return hr===null?Rd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Id(t,l,h)),!1;case 22:return a.flags|=65536,l===kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Id(t,l,h)),!1}throw Error(s(435,a.tag))}return Id(t,l,h),Rd(),!1}if(qe)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Sf&&(t=Error(s(422),{cause:l}),Zo(Rn(t,a)))):(l!==Sf&&(r=Error(s(423),{cause:l}),Zo(Rn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=rd(t.stateNode,l,h),Vf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),_l===null?_l=[d]:_l.push(d),ct!==4&&(ct=2),r===null)return!0;l=Rn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rd(a.stateNode,l,t),Vf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ii===null||!Ii.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=My(h),Vy(h,t,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var Py=Error(s(461)),kt=!1;function jt(t,r,a,l){r.child=t===null?Ay(r,null,a,l):ja(r,t.child,a,l)}function Ly(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return js(r),l=zf(t,r,a,b,d,h),T=Bf(),t!==null&&!kt?(qf(t,r,h),Lr(t,r,h)):(qe&&T&&wf(r),r.flags|=1,jt(t,r,l,h),r.child)}function jy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Uy(t,r,d,l,h)):(t=Qu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!hd(t,h)){var b=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(b,l)&&t.ref===r.ref)return Lr(t,r,h)}return r.flags|=1,t=Nr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Uy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=d,hd(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,Lr(t,r,h)}return id(t,r,a,l,h)}function zy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return By(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(r,d!==null?d.cachePool:null),d!==null?Up(r,d):Lf(),Ry(r);else return r.lanes=r.childLanes=536870912,By(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Zu(r,d.cachePool),Up(r,d),wi(),r.memoizedState=null):(t!==null&&Zu(r,null),Lf(),wi());return jt(t,r,h,a),r.child}function By(t,r,a,l){var h=Df();return h=h===null?null:{parent:At._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Zu(r,null),Lf(),Ry(r),t!==null&&Jo(t,r,l,!0),null}function gc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function id(t,r,a,l,h){return js(r),a=zf(t,r,a,l,void 0,h),l=Bf(),t!==null&&!kt?(qf(t,r,h),Lr(t,r,h)):(qe&&l&&wf(r),r.flags|=1,jt(t,r,a,h),r.child)}function qy(t,r,a,l,h,d){return js(r),r.updateQueue=null,a=Bp(r,l,a,h),zp(t),l=Bf(),t!==null&&!kt?(qf(t,r,d),Lr(t,r,d)):(qe&&l&&wf(r),r.flags|=1,jt(t,r,a,d),r.child)}function Hy(t,r,a,l,h){if(js(r),r.stateNode===null){var d=Ca,b=a.contextType;typeof b=="object"&&b!==null&&(d=Kt(b)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Of(r),b=a.contextType,d.context=typeof b=="object"&&b!==null?Kt(b):Ca,d.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(td(r,a,b,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&nd.enqueueReplaceState(d,d.state,null),al(r,l,d,h),sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=Bs(a,T);d.props=I;var B=d.context,$=a.contextType;b=Ca,typeof $=="object"&&$!==null&&(b=Kt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==b)&&Iy(r,d,l,b),vi=!1;var H=r.memoizedState;d.state=H,al(r,l,d,h),sl(),B=r.memoizedState,T||H!==B||vi?(typeof Z=="function"&&(td(r,a,Z,l),B=r.memoizedState),(I=vi||Cy(r,a,I,l,H,B,b))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=b,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Mf(t,r),b=r.memoizedProps,$=Bs(a,b),d.props=$,Z=r.pendingProps,H=d.context,B=a.contextType,I=Ca,typeof B=="object"&&B!==null&&(I=Kt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==Z||H!==I)&&Iy(r,d,l,I),vi=!1,H=r.memoizedState,d.state=H,al(r,l,d,h),sl();var K=r.memoizedState;b!==Z||H!==K||vi||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof T=="function"&&(td(r,a,T,l),K=r.memoizedState),($=vi||Cy(r,a,$,l,H,K,I)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=I,l=$):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,gc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ja(r,t.child,null,h),r.child=ja(r,null,a,h)):jt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Lr(t,r,h),t}function Fy(t,r,a,l){return Wo(),r.flags|=256,jt(t,r,a,l),r.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:Dp()}}function od(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kn),t}function Gy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,b;if((b=d)||(b=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?Ti(r):wi(),qe){var T=ut,I;if(I=T){e:{for(I=T,T=cr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Qn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Os!==null?{id:Dr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,nn=r,ut=null,I=!0):I=!1}I||Ps(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Fd(T)?r.lanes=32:r.lanes=536870912,null;Pr(r)}return T=l.children,l=l.fallback,h?(wi(),h=r.mode,T=pc({mode:"hidden",children:T},h),l=ks(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=ad(a),h.childLanes=od(t,b,a),r.memoizedState=sd,l):(Ti(r),ld(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Ti(r),r.flags&=-257,r=ud(t,r,a)):r.memoizedState!==null?(wi(),r.child=t.child,r.flags|=128,r=null):(wi(),h=l.fallback,T=r.mode,l=pc({mode:"visible",children:l.children},T),h=ks(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ja(r,t.child,null,a),l=r.child,l.memoizedState=ad(a),l.childLanes=od(t,b,a),r.memoizedState=sd,r=h);else if(Ti(r),Fd(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var B=b.dgst;b=B,l=Error(s(419)),l.stack="",l.digest=b,Zo({value:l,source:null,stack:null}),r=ud(t,r,a)}else if(kt||Jo(t,r,a,!1),b=(a&t.childLanes)!==0,kt||b){if(b=et,b!==null&&(l=a&-a,l=(l&42)!==0?1:Do(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ra(t,l),vn(b,t,l),Py;T.data==="$?"||Rd(),r=ud(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ut=Qn(T.nextSibling),nn=r,qe=!0,Vs=null,cr=!1,t!==null&&(In[Nn++]=Dr,In[Nn++]=kr,In[Nn++]=Os,Dr=t.id,kr=t.overflow,Os=r),r=ld(r,l.children),r.flags|=4096);return r}return h?(wi(),h=l.fallback,T=r.mode,I=t.child,B=I.sibling,l=Nr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Nr(B,h):(h=ks(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=ad(a):(I=T.cachePool,I!==null?(B=At._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Dp(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=od(t,b,a),r.memoizedState=sd,l):(Ti(r),a=t.child,t=a.sibling,a=Nr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function ld(t,r){return r=pc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function pc(t,r){return t=dn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ud(t,r,a){return ja(r,t.child,null,a),t=ld(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ky(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Rf(t.return,r,a)}function cd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Qy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,r,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,a,r);else if(t.tag===19)Ky(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(Rt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),cd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cd(r,!0,a,null,d);break;case"together":cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Lr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ci|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Jo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Nr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Nr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function hd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function N1(t,r,a){switch(r.tag){case 3:Qe(r,r.stateNode.containerInfo),yi(r,At,t.memoizedState.cache),Wo();break;case 27:case 5:Ro(r);break;case 4:Qe(r,r.stateNode.containerInfo);break;case 10:yi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ti(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Gy(t,r,a):(Ti(r),t=Lr(t,r,a),t!==null?t.sibling:null);Ti(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Jo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Qy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,zy(t,r,a);case 24:yi(r,At,t.memoizedState.cache)}return Lr(t,r,a)}function Yy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!hd(t,a)&&(r.flags&128)===0)return kt=!1,N1(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,qe&&(r.flags&1048576)!==0&&xp(r,$u,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Ef(l)?(t=Bs(l,t),r.tag=1,r=Hy(null,r,l,t,a)):(r.tag=0,r=id(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===xe){r.tag=11,r=Ly(null,r,l,t,a);break e}else if(h===N){r.tag=14,r=jy(null,r,l,t,a);break e}}throw r=ve(l)||l,Error(s(306,r,""))}}return r;case 0:return id(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Bs(l,r.pendingProps),Hy(t,r,l,h,a);case 3:e:{if(Qe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Mf(t,r),al(r,l,null,a);var b=r.memoizedState;if(l=b.cache,yi(r,At,l),l!==d.cache&&Cf(r,[At],a,!0),sl(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Fy(t,r,l,a);break e}else if(l!==h){h=Rn(Error(s(424)),r),Zo(h),r=Fy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Qn(t.firstChild),nn=r,qe=!0,Vs=null,cr=!0,a=Ay(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){r=Lr(t,r,a);break e}jt(t,r,l,a)}r=r.child}return r;case 26:return gc(t,r),t===null?(a=Z0(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=Nc(Te.current).createElement(a),l[ft]=r,l[Lt]=t,zt(l,a,t),dt(l),r.stateNode=l):r.memoizedState=Z0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ro(r),t===null&&qe&&(l=r.stateNode=$0(r.type,r.pendingProps,Te.current),nn=r,cr=!0,h=ut,ki(r.type)?(Gd=h,ut=Qn(l.firstChild)):ut=h),jt(t,r,r.pendingProps.children,a),gc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=iw(l,r.type,r.pendingProps,cr),l!==null?(r.stateNode=l,nn=r,ut=Qn(l.firstChild),cr=!1,h=!0):h=!1),h||Ps(r)),Ro(r),h=r.type,d=r.pendingProps,b=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:b!==null&&Bd(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=zf(t,r,T1,null,null,a),Cl._currentValue=h),gc(t,r),jt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=sw(a,r.pendingProps,cr),a!==null?(r.stateNode=a,nn=r,ut=null,t=!0):t=!1),t||Ps(r)),null;case 13:return Gy(t,r,a);case 4:return Qe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ja(r,null,l,a):jt(t,r,l,a),r.child;case 11:return Ly(t,r,r.type,r.pendingProps,a);case 7:return jt(t,r,r.pendingProps,a),r.child;case 8:return jt(t,r,r.pendingProps.children,a),r.child;case 12:return jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,yi(r,r.type,l.value),jt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,js(r),h=Kt(h),l=l(h),r.flags|=1,jt(t,r,l,a),r.child;case 14:return jy(t,r,r.type,r.pendingProps,a);case 15:return Uy(t,r,r.type,r.pendingProps,a);case 19:return Qy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=pc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Nr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return zy(t,r,a);case 24:return js(r),l=Kt(At),t===null?(h=Df(),h===null&&(h=et,d=If(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Of(r),yi(r,At,h)):((t.lanes&a)!==0&&(Mf(t,r),al(r,null,null,a),sl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),yi(r,At,l)):(l=d.cache,yi(r,At,l),l!==h.cache&&Cf(r,[At],a,!0))),jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function jr(t){t.flags|=4}function $y(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!rv(r)){if(r=Dn.current,r!==null&&((Ue&4194048)===Ue?hr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==hr))throw rl=kf,kp;t.flags|=8192}}function yc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ii():536870912,t.lanes|=r,qa|=r)}function dl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function D1(t,r,a){var l=r.pendingProps;switch(xf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Mr(At),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xo(r)?jr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rp())),ot(r),null;case 26:return a=r.memoizedState,t===null?(jr(r),a!==null?(ot(r),$y(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(jr(r),ot(r),$y(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&jr(r),ot(r),r.flags&=-16777217),null;case 27:oa(r),a=Te.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&jr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=me.current,Xo(r)?Sp(r):(t=$0(h,l,a),r.stateNode=t,jr(r))}return ot(r),null;case 5:if(oa(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&jr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=me.current,Xo(r))Sp(r);else{switch(h=Nc(Te.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[ft]=r,t[Lt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&jr(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&jr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Te.current,Xo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ft]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q0(t.nodeValue,a)),t||Ps(r)}else t=Nc(t).createTextNode(l),t[ft]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ft]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Rp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Pr(r),r):(Pr(r),null)}if(Pr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),yc(r,r.updateQueue),ot(r),null;case 4:return Ln(),t===null&&Pd(r.stateNode.containerInfo),ot(r),null;case 10:return Mr(r.type),ot(r),null;case 19:if(ae(Rt),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=fc(t),d!==null){for(r.flags|=128,dl(h,!1),t=d.updateQueue,r.updateQueue=t,yc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)wp(a,t),a=a.sibling;return oe(Rt,Rt.current&1|2),r.child}t=t.sibling}h.tail!==null&&sn()>Ec&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304)}else{if(!l)if(t=fc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,yc(r,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return ot(r),null}else 2*sn()-h.renderingStartTime>Ec&&a!==536870912&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=sn(),r.sibling=null,t=Rt.current,oe(Rt,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Pr(r),jf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&yc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ae(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Mr(At),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function k1(t,r){switch(xf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Mr(At),Ln(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return oa(r),null;case 13:if(Pr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Wo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ae(Rt),null;case 4:return Ln(),null;case 10:return Mr(r.type),null;case 22:case 23:return Pr(r),jf(),t!==null&&ae(Us),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Mr(At),null;case 25:return null;default:return null}}function Xy(t,r){switch(xf(r),r.tag){case 3:Mr(At),Ln();break;case 26:case 27:case 5:oa(r);break;case 4:Ln();break;case 13:Pr(r);break;case 19:ae(Rt);break;case 10:Mr(r.type);break;case 22:case 23:Pr(r),jf(),t!==null&&ae(Us);break;case 24:Mr(At)}}function ml(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,b=a.inst;l=d(),b.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(r,r.return,T)}}function xi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=r;var I=a,B=T;try{B()}catch($){Ze(h,I,$)}}}l=l.next}while(l!==d)}}catch($){Ze(r,r.return,$)}}function Wy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{jp(r,a)}catch(l){Ze(t,t.return,l)}}}function Zy(t,r,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function gl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function fr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function Jy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function fd(t,r,a){try{var l=t.stateNode;J1(l,t.type,a,r),l[Lt]=r}catch(h){Ze(t,t.return,h)}}function e0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ki(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ic));else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(md(t,r,a),t=t.sibling;t!==null;)md(t,r,a),t=t.sibling}function vc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,r,a),t=t.sibling;t!==null;)vc(t,r,a),t=t.sibling}function t0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[ft]=t,r[Lt]=a}catch(d){Ze(t,t.return,d)}}var Ur=!1,pt=!1,gd=!1,n0=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function O1(t,r){if(t=t.containerInfo,Ud=Pc,t=dp(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var b=0,T=-1,I=-1,B=0,$=0,Z=t,H=null;t:for(;;){for(var K;Z!==a||h!==0&&Z.nodeType!==3||(T=b+h),Z!==d||l!==0&&Z.nodeType!==3||(I=b+l),Z.nodeType===3&&(b+=Z.nodeValue.length),(K=Z.firstChild)!==null;)H=Z,Z=K;for(;;){if(Z===t)break t;if(H===a&&++B===h&&(T=b),H===d&&++$===l&&(I=b),(K=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=K}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},Pc=!1,Ot=r;Ot!==null;)if(r=Ot,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ot=t;else for(;Ot!==null;){switch(r=Ot,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Bs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ze(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ot=t;break}Ot=r.return}}function r0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Si(t,a),l&4&&ml(5,a);break;case 1:if(Si(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){Ze(a,a.return,b)}else{var h=Bs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Ze(a,a.return,b)}}l&64&&Wy(a),l&512&&gl(a,a.return);break;case 3:if(Si(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{jp(t,r)}catch(b){Ze(a,a.return,b)}}break;case 27:r===null&&l&4&&t0(a);case 26:case 5:Si(t,a),r===null&&l&4&&Jy(a),l&512&&gl(a,a.return);break;case 12:Si(t,a);break;case 13:Si(t,a),l&4&&a0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=q1.bind(null,a),aw(t,a))));break;case 22:if(l=a.memoizedState!==null||Ur,!l){r=r!==null&&r.memoizedState!==null||pt,h=Ur;var d=pt;Ur=l,(pt=r)&&!d?Ai(t,a,(a.subtreeFlags&8772)!==0):Si(t,a),Ur=h,pt=d}break;case 30:break;default:Si(t,a)}}function i0(t){var r=t.alternate;r!==null&&(t.alternate=null,i0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&fa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,on=!1;function zr(t,r,a){for(a=a.child;a!==null;)s0(t,r,a),a=a.sibling}function s0(t,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:pt||fr(a,r),zr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||fr(a,r);var l=it,h=on;ki(a.type)&&(it=a.stateNode,on=!1),zr(t,r,a),xl(a.stateNode),it=l,on=h;break;case 5:pt||fr(a,r);case 6:if(l=it,h=on,it=null,zr(t,r,a),it=l,on=h,it!==null)if(on)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{it.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:it!==null&&(on?(t=it,Q0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),kl(t)):Q0(it,a.stateNode));break;case 4:l=it,h=on,it=a.stateNode.containerInfo,on=!0,zr(t,r,a),it=l,on=h;break;case 0:case 11:case 14:case 15:pt||xi(2,a,r),pt||xi(4,a,r),zr(t,r,a);break;case 1:pt||(fr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,r,l)),zr(t,r,a);break;case 21:zr(t,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,zr(t,r,a),pt=l;break;default:zr(t,r,a)}}function a0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(a){Ze(r,r.return,a)}}function M1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new n0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new n0),r;default:throw Error(s(435,t.tag))}}function pd(t,r){var a=M1(t);r.forEach(function(l){var h=H1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(ki(T.type)){it=T.stateNode,on=!1;break e}break;case 5:it=T.stateNode,on=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(it===null)throw Error(s(160));s0(d,b,h),it=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)o0(r,t),r=r.sibling}var Kn=null;function o0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),gn(t),l&4&&(xi(3,t,t.return),ml(3,t),xi(5,t,t.return));break;case 1:mn(r,t),gn(t),l&512&&(pt||a===null||fr(a,a.return)),l&64&&Ur&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(mn(r,t),gn(t),l&512&&(pt||a===null||fr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[oi]||d[ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[ft]=t,dt(d),l=d;break e;case"link":var b=tv("link","href",h).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(d=b[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(b=tv("meta","content",h).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(d=b[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ft]=t,dt(d),l=d}t.stateNode=l}else nv(h,t.type,t.stateNode);else t.stateNode=ev(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nv(h,t.type,t.stateNode):ev(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),gn(t),l&512&&(pt||a===null||fr(a,a.return)),a!==null&&l&4&&fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),gn(t),l&512&&(pt||a===null||fr(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(K){Ze(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,fd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(gd=!0);break;case 6:if(mn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){Ze(t,t.return,K)}}break;case 3:if(Oc=null,h=Kn,Kn=Dc(r.containerInfo),mn(r,t),Kn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(K){Ze(t,t.return,K)}gd&&(gd=!1,l0(t));break;case 4:l=Kn,Kn=Dc(t.stateNode.containerInfo),mn(r,t),gn(t),Kn=l;break;case 12:mn(r,t),gn(t);break;case 13:mn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Td=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Ur,$=pt;if(Ur=B||h,pt=$||I,mn(r,t),pt=$,Ur=B,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Ur||pt||qs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(K){Ze(I,I.return,K)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(K){Ze(I,I.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pd(t,a))));break;case 19:mn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 30:break;case 21:break;default:mn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(e0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=dd(t);vc(t,d,h);break;case 5:var b=a.stateNode;a.flags&32&&(Sn(b,""),a.flags&=-33);var T=dd(t);vc(t,T,b);break;case 3:case 4:var I=a.stateNode.containerInfo,B=dd(t);md(t,B,I);break;default:throw Error(s(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function l0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;l0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Si(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)r0(t,r.alternate,r),r=r.sibling}function qs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:xi(4,r,r.return),qs(r);break;case 1:fr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Zy(r,r.return,a),qs(r);break;case 27:xl(r.stateNode);case 26:case 5:fr(r,r.return),qs(r);break;case 22:r.memoizedState===null&&qs(r);break;case 30:qs(r);break;default:qs(r)}t=t.sibling}}function Ai(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,b=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(h,d,a),ml(4,d);break;case 1:if(Ai(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Lp(I[h],T)}catch(B){Ze(l,l.return,B)}}a&&b&64&&Wy(d),gl(d,d.return);break;case 27:t0(d);case 26:case 5:Ai(h,d,a),a&&l===null&&b&4&&Jy(d),gl(d,d.return);break;case 12:Ai(h,d,a);break;case 13:Ai(h,d,a),a&&b&4&&a0(h,d);break;case 22:d.memoizedState===null&&Ai(h,d,a),gl(d,d.return);break;case 30:break;default:Ai(h,d,a)}r=r.sibling}}function yd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function vd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t))}function dr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)u0(t,r,a,l),r=r.sibling}function u0(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:dr(t,r,a,l),h&2048&&ml(9,r);break;case 1:dr(t,r,a,l);break;case 3:dr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){dr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,b=d.id,T=d.onPostCommit;typeof T=="function"&&T(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(r,r.return,I)}}else dr(t,r,a,l);break;case 13:dr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,b=r.alternate,r.memoizedState!==null?d._visibility&2?dr(t,r,a,l):pl(t,r):d._visibility&2?dr(t,r,a,l):(d._visibility|=2,Ua(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&yd(b,r);break;case 24:dr(t,r,a,l),h&2048&&vd(r.alternate,r);break;default:dr(t,r,a,l)}}function Ua(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,b=r,T=a,I=l,B=b.flags;switch(b.tag){case 0:case 11:case 15:Ua(d,b,T,I,h),ml(8,b);break;case 23:break;case 22:var $=b.stateNode;b.memoizedState!==null?$._visibility&2?Ua(d,b,T,I,h):pl(d,b):($._visibility|=2,Ua(d,b,T,I,h)),h&&B&2048&&yd(b.alternate,b);break;case 24:Ua(d,b,T,I,h),h&&B&2048&&vd(b.alternate,b);break;default:Ua(d,b,T,I,h)}r=r.sibling}}function pl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&yd(l.alternate,l);break;case 24:pl(a,l),h&2048&&vd(l.alternate,l);break;default:pl(a,l)}r=r.sibling}}var yl=8192;function za(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)c0(t),t=t.sibling}function c0(t){switch(t.tag){case 26:za(t),t.flags&yl&&t.memoizedState!==null&&_w(Kn,t.memoizedState,t.memoizedProps);break;case 5:za(t);break;case 3:case 4:var r=Kn;Kn=Dc(t.stateNode.containerInfo),za(t),Kn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=yl,yl=16777216,za(t),yl=r):za(t));break;default:za(t)}}function h0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function vl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,d0(l,t)}h0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f0(t),t=t.sibling}function f0(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&xi(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,_c(t)):vl(t);break;default:vl(t)}}function _c(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,d0(l,t)}h0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:xi(8,r,r.return),_c(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,_c(r));break;default:_c(r)}t=t.sibling}}function d0(t,r){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:xi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(i0(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var V1={getCacheForType:function(t){var r=Kt(At),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},P1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Oe=null,Ue=0,Ke=0,pn=null,Ri=!1,Ba=!1,_d=!1,Br=0,ct=0,Ci=0,Hs=0,Ed=0,kn=0,qa=0,_l=null,ln=null,bd=!1,Td=0,Ec=1/0,bc=null,Ii=null,Ut=0,Ni=null,Ha=null,Fa=0,wd=0,xd=null,m0=null,El=0,Sd=null;function yn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(q.T!==null){var t=Da;return t!==0?t:kd()}return wr()}function g0(){kn===0&&(kn=(Ue&536870912)===0||qe?No():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),kn}function vn(t,r,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Di(t,Ue,kn,!1)),ht(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Hs|=a),ct===4&&Di(t,Ue,kn,!1)),mr(t))}function p0(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ri(t,r),h=l?U1(t,r):Cd(t,r,!0),d=l;do{if(h===0){Ba&&!l&&Di(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!L1(a)){h=Cd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var T=t;h=_l;var I=T.current.memoizedState.isDehydrated;if(I&&(Ga(T,b).flags|=256),b=Cd(T,b,!1),b!==2){if(_d&&!I){T.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=b}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),Di(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Di(l,r,kn,!Ri);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Td+300-sn(),10<h)){if(Di(l,r,kn,!Ri),wn(l,0,!0)!==0)break e;l.timeoutHandle=G0(y0.bind(null,l,a,ln,bc,bd,r,kn,Hs,qa,Ri,d,2,-0,0),h);break e}y0(l,a,ln,bc,bd,r,kn,Hs,qa,Ri,d,0,-0,0)}}break}while(!0);mr(t)}function y0(t,r,a,l,h,d,b,T,I,B,$,Z,H,K){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:vw},c0(r),Z=Ew(),Z!==null)){t.cancelPendingCommit=Z(x0.bind(null,t,r,d,a,l,h,b,T,I,$,1,H,K)),Di(t,d,b,!B);return}x0(t,r,d,a,l,h,b,T,I)}function L1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Di(t,r,a,l){r&=~Ed,r&=~Hs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Zt(h),b=1<<d;l[d]=-1,h&=~b}a!==0&&si(t,a,r)}function Tc(){return(Ge&6)===0?(bl(0),!1):!0}function Ad(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,Or=Ls=null,Hf(t),La=null,hl=0,t=Oe;for(;t!==null;)Xy(t.alternate,t),t=t.return;Oe=null}}function Ga(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ad(),et=t,Oe=a=Nr(t.current,null),Ue=r,Ke=0,pn=null,Ri=!1,Ba=ri(t,r),_d=!1,qa=kn=Ed=Hs=Ci=ct=0,ln=_l=null,bd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Zt(l),d=1<<h;r|=t[h],l&=~d}return Br=r,Fu(),a}function v0(t,r){De=null,q.H=uc,r===nl||r===Ju?(r=Vp(),Ke=3):r===kp?(r=Vp(),Ke=4):Ke=r===Py?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,Oe===null&&(ct=1,mc(t,Rn(r,t.current)))}function _0(){var t=q.H;return q.H=uc,t===null?uc:t}function E0(){var t=q.A;return q.A=V1,t}function Rd(){ct=4,Ri||(Ue&4194048)!==Ue&&Dn.current!==null||(Ba=!0),(Ci&134217727)===0&&(Hs&134217727)===0||et===null||Di(et,Ue,kn,!1)}function Cd(t,r,a){var l=Ge;Ge|=2;var h=_0(),d=E0();(et!==t||Ue!==r)&&(bc=null,Ga(t,r)),r=!1;var b=ct;e:do try{if(Ke!==0&&Oe!==null){var T=Oe,I=pn;switch(Ke){case 8:Ad(),b=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var B=Ke;if(Ke=0,pn=null,Ka(t,T,I,B),a&&Ba){b=0;break e}break;default:B=Ke,Ke=0,pn=null,Ka(t,T,I,B)}}j1(),b=ct;break}catch($){v0(t,$)}while(!0);return r&&t.shellSuspendCounter++,Or=Ls=null,Ge=l,q.H=h,q.A=d,Oe===null&&(et=null,Ue=0,Fu()),b}function j1(){for(;Oe!==null;)b0(Oe)}function U1(t,r){var a=Ge;Ge|=2;var l=_0(),h=E0();et!==t||Ue!==r?(bc=null,Ec=sn()+500,Ga(t,r)):Ba=ri(t,r);e:do try{if(Ke!==0&&Oe!==null){r=Oe;var d=pn;t:switch(Ke){case 1:Ke=0,pn=null,Ka(t,r,d,1);break;case 2:case 9:if(Op(d)){Ke=0,pn=null,T0(r);break}r=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),mr(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Op(d)?(Ke=0,pn=null,T0(r)):(Ke=0,pn=null,Ka(t,r,d,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var T=Oe;if(!b||rv(b)){Ke=0,pn=null;var I=T.sibling;if(I!==null)Oe=I;else{var B=T.return;B!==null?(Oe=B,wc(B)):Oe=null}break t}}Ke=0,pn=null,Ka(t,r,d,5);break;case 6:Ke=0,pn=null,Ka(t,r,d,6);break;case 8:Ad(),ct=6;break e;default:throw Error(s(462))}}z1();break}catch($){v0(t,$)}while(!0);return Or=Ls=null,q.H=l,q.A=h,Ge=a,Oe!==null?0:(et=null,Ue=0,Fu(),ct)}function z1(){for(;Oe!==null&&!tf();)b0(Oe)}function b0(t){var r=Yy(t.alternate,t,Br);t.memoizedProps=t.pendingProps,r===null?wc(t):Oe=r}function T0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=qy(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=qy(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Hf(r);default:Xy(a,r),r=Oe=wp(r,Br),r=Yy(a,r,Br)}t.memoizedProps=t.pendingProps,r===null?wc(t):Oe=r}function Ka(t,r,a,l){Or=Ls=null,Hf(r),La=null,hl=0;var h=r.return;try{if(I1(t,h,r,a,Ue)){ct=1,mc(t,Rn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ct=1,mc(t,Rn(a,t.current)),Oe=null;return}r.flags&32768?(qe||l===1?t=!0:Ba||(Ue&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),w0(r,t)):wc(r)}function wc(t){var r=t;do{if((r.flags&32768)!==0){w0(r,Ri);return}t=r.return;var a=D1(r.alternate,r,Br);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);ct===0&&(ct=5)}function w0(t,r){do{var a=k1(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ct=6,Oe=null}function x0(t,r,a,l,h,d,b,T,I){t.cancelPendingCommit=null;do xc();while(Ut!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=vf,Ru(t,a,d,b,T,I),t===et&&(Oe=et=null,Ue=0),Ha=r,Ni=t,Fa=a,wd=d,xd=h,m0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,F1(Tr,function(){return I0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=se.p,se.p=2,b=Ge,Ge|=4;try{O1(t,r,a)}finally{Ge=b,se.p=h,q.T=l}}Ut=1,S0(),A0(),R0()}}function S0(){if(Ut===1){Ut=0;var t=Ni,r=Ha,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=se.p;se.p=2;var h=Ge;Ge|=4;try{o0(r,t);var d=zd,b=dp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(b!==T&&T&&T.ownerDocument&&fp(T.ownerDocument.documentElement,T)){if(I!==null&&df(T)){var B=I.start,$=I.end;if($===void 0&&($=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min($,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var K=H.getSelection(),we=T.textContent.length,pe=Math.min(I.start,we),We=I.end===void 0?pe:Math.min(I.end,we);!K.extend&&pe>We&&(b=We,We=pe,pe=b);var L=hp(T,pe),M=hp(T,We);if(L&&M&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var U=Z.createRange();U.setStart(L.node,L.offset),K.removeAllRanges(),pe>We?(K.addRange(U),K.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),K.addRange(U))}}}}for(Z=[],K=T;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Pc=!!Ud,zd=Ud=null}finally{Ge=h,se.p=l,q.T=a}}t.current=r,Ut=2}}function A0(){if(Ut===2){Ut=0;var t=Ni,r=Ha,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=se.p;se.p=2;var h=Ge;Ge|=4;try{r0(t,r.alternate,r)}finally{Ge=h,se.p=l,q.T=a}}Ut=3}}function R0(){if(Ut===4||Ut===3){Ut=0,Co();var t=Ni,r=Ha,a=Fa,l=m0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,Ha=Ni=null,C0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ii=null),ko(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ti,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=q.T,h=se.p,se.p=2,q.T=null;try{for(var d=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];d(T.value,{componentStack:T.stack})}}finally{q.T=r,se.p=h}}(Fa&3)!==0&&xc(),mr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Sd?El++:(El=0,Sd=t):El=0,bl(0)}}function C0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,el(r)))}function xc(t){return S0(),A0(),R0(),I0()}function I0(){if(Ut!==5)return!1;var t=Ni,r=wd;wd=0;var a=ko(Fa),l=q.T,h=se.p;try{se.p=32>a?32:a,q.T=null,a=xd,xd=null;var d=Ni,b=Fa;if(Ut=0,Ha=Ni=null,Fa=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,f0(d.current),u0(d,d.current,b,a),Ge=T,bl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ti,d)}catch{}return!0}finally{se.p=h,q.T=l,C0(t,r)}}function N0(t,r,a){r=Rn(a,r),r=rd(t.stateNode,r,2),t=Ei(t,r,2),t!==null&&(ht(t,2),mr(t))}function Ze(t,r,a){if(t.tag===3)N0(t,t,a);else for(;r!==null;){if(r.tag===3){N0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ii===null||!Ii.has(l))){t=Rn(a,t),a=My(2),l=Ei(r,a,2),l!==null&&(Vy(a,l,r,t),ht(l,2),mr(l));break}}r=r.return}}function Id(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new P1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(_d=!0,h.add(a),t=B1.bind(null,t,r,a),r.then(t,t))}function B1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>sn()-Td?(Ge&2)===0&&Ga(t,0):Ed|=a,qa===Ue&&(qa=0)),mr(t)}function D0(t,r){r===0&&(r=ii()),t=Ra(t,r),t!==null&&(ht(t,r),mr(t))}function q1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),D0(t,a)}function H1(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),D0(t,a)}function F1(t,r){return ls(t,r)}var Sc=null,Qa=null,Nd=!1,Ac=!1,Dd=!1,Fs=0;function mr(t){t!==Qa&&t.next===null&&(Qa===null?Sc=Qa=t:Qa=Qa.next=t),Ac=!0,Nd||(Nd=!0,K1())}function bl(t,r){if(!Dd&&Ac){Dd=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var b=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(b&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,V0(l,d))}else d=Ue,d=wn(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ri(l,d)||(a=!0,V0(l,d));l=l.next}while(a);Dd=!1}}function G1(){k0()}function k0(){Ac=Nd=!1;var t=0;Fs!==0&&(ew()&&(t=Fs),Fs=0);for(var r=sn(),a=null,l=Sc;l!==null;){var h=l.next,d=O0(l,r);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Ac=!0)),l=h}bl(t)}function O0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var b=31-Zt(d),T=1<<b,I=h[b];I===-1?((T&a)===0||(T&l)!==0)&&(h[b]=ca(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=et,a=Ue,a=wn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ua(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ri(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ua(l),ko(a)){case 2:case 8:a=Nt;break;case 32:a=Tr;break;case 268435456:a=Io;break;default:a=Tr}return l=M0.bind(null,t),a=ls(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ua(l),t.callbackPriority=2,t.callbackNode=null,2}function M0(t,r){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xc()&&t.callbackNode!==a)return null;var l=Ue;return l=wn(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(p0(t,l,r),O0(t,sn()),t.callbackNode!=null&&t.callbackNode===a?M0.bind(null,t):null)}function V0(t,r){if(xc())return null;p0(t,r,!0)}function K1(){nw(function(){(Ge&6)!==0?ls(xt,G1):k0()})}function kd(){return Fs===0&&(Fs=No()),Fs}function P0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bn(""+t)}function L0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Q1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=P0((h[Lt]||null).action),b=l.submitter;b&&(r=(r=b[Lt]||null)?P0(r.formAction):b.getAttribute("formAction"),r!==null&&(d=r,b=null));var T=new ws("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var I=b?L0(h,b):new FormData(h);Zf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=b?L0(h,b):new FormData(h),Zf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Od=0;Od<yf.length;Od++){var Md=yf[Od],Y1=Md.toLowerCase(),$1=Md[0].toUpperCase()+Md.slice(1);Gn(Y1,"on"+$1)}Gn(pp,"onAnimationEnd"),Gn(yp,"onAnimationIteration"),Gn(vp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(f1,"onTransitionRun"),Gn(d1,"onTransitionStart"),Gn(m1,"onTransitionCancel"),Gn(_p,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function j0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var b=l.length-1;0<=b;b--){var T=l[b],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){dc($)}h.currentTarget=null,d=I}else for(b=0;b<l.length;b++){if(T=l[b],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){dc($)}h.currentTarget=null,d=I}}}}function Me(t,r){var a=r[cs];a===void 0&&(a=r[cs]=new Set);var l=t+"__bubble";a.has(l)||(U0(r,t,2,!1),a.add(l))}function Vd(t,r,a){var l=0;r&&(l|=4),U0(a,t,l,r)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Rc]){t[Rc]=!0,Cu.forEach(function(a){a!=="selectionchange"&&(X1.has(a)||Vd(a,!1,t),Vd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Rc]||(r[Rc]=!0,Vd("selectionchange",!1,r))}}function U0(t,r,a,l){switch(uv(r)){case 2:var h=ww;break;case 8:h=xw;break;default:h=Xd}a=h.bind(null,r,a,t),h=void 0,!Cr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Ld(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=rr(T),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=d=b;continue e}T=T.parentNode}}l=l.return}Es(function(){var B=d,$=Uo(a),Z=[];e:{var H=Ep.get(t);if(H!==void 0){var K=ws,we=t;switch(t){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":K=wa;break;case"focusin":we="focus",K=Ea;break;case"focusout":we="blur",K=Ea;break;case"beforeblur":case"afterblur":K=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=pi;break;case pp:case yp:case vp:K=Bo;break;case _p:K=y;break;case"scroll":case"scrollend":K=Ss;break;case"wheel":K=x;break;case"copy":case"cut":case"paste":K=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Fo;break;case"toggle":case"beforetoggle":K=Q}var pe=(r&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),L=pe?H!==null?H+"Capture":null:H;pe=[];for(var M=B,U;M!==null;){var X=M;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||L===null||(X=mi(M,L),X!=null&&pe.push(wl(M,X,U))),We)break;M=M.return}0<pe.length&&(H=new K(H,we,null,a,$),Z.push({event:H,listeners:pe}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&a!==jo&&(we=a.relatedTarget||a.fromElement)&&(rr(we)||we[xr]))break e;if((K||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,K?(we=a.relatedTarget||a.toElement,K=B,we=we?rr(we):null,we!==null&&(We=u(we),pe=we.tag,we!==We||pe!==5&&pe!==27&&pe!==6)&&(we=null)):(K=null,we=B),K!==we)){if(pe=Cs,X="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Fo,X="onPointerLeave",L="onPointerEnter",M="pointer"),We=K==null?H:li(K),U=we==null?H:li(we),H=new pe(X,M+"leave",K,a,$),H.target=We,H.relatedTarget=U,X=null,rr($)===B&&(pe=new pe(L,M+"enter",we,a,$),pe.target=U,pe.relatedTarget=We,X=pe),We=X,K&&we)t:{for(pe=K,L=we,M=0,U=pe;U;U=Ya(U))M++;for(U=0,X=L;X;X=Ya(X))U++;for(;0<M-U;)pe=Ya(pe),M--;for(;0<U-M;)L=Ya(L),U--;for(;M--;){if(pe===L||L!==null&&pe===L.alternate)break t;pe=Ya(pe),L=Ya(L)}pe=null}else pe=null;K!==null&&z0(Z,H,K,pe,!1),we!==null&&We!==null&&z0(Z,We,we,pe,!0)}}e:{if(H=B?li(B):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var he=sp;else if(rp(H))if(ap)he=u1;else{he=o1;var ke=a1}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&ya(B.elementType)&&(he=sp):he=l1;if(he&&(he=he(t,B))){ip(Z,he,a,$);break e}ke&&ke(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Vo(H,"number",H.value)}switch(ke=B?li(B):window,t){case"focusin":(rp(ke)||ke.contentEditable==="true")&&(xa=ke,mf=B,$o=null);break;case"focusout":$o=mf=xa=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,mp(Z,a,$);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":mp(Z,a,$)}var de;if(Re)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Fn?qn(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(mt&&a.locale!=="ko"&&(Fn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Fn&&(de=Mu()):(An=$,Je="value"in An?An.value:An.textContent,Fn=!0)),ke=Cc(B,_e),0<ke.length&&(_e=new Ho(_e,t,null,a,$),Z.push({event:_e,listeners:ke}),de?_e.data=de:(de=Hn(a),de!==null&&(_e.data=de)))),(de=Fe?Go(t,a):r1(t,a))&&(_e=Cc(B,"onBeforeInput"),0<_e.length&&(ke=new Ho("onBeforeInput","beforeinput",null,a,$),Z.push({event:ke,listeners:_e}),ke.data=de)),Q1(Z,t,B,a,$)}j0(Z,r)})}function wl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Cc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=mi(t,a),h!=null&&l.unshift(wl(t,h,d)),h=mi(t,r),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z0(t,r,a,l,h){for(var d=r._reactName,b=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=mi(a,d),B!=null&&b.unshift(wl(a,B,I))):h||(B=mi(a,d),B!=null&&b.push(wl(a,B,I)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var W1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function B0(t){return(typeof t=="string"?t:""+t).replace(W1,`
`).replace(Z1,"")}function q0(t,r){return r=B0(r),B0(t)===r}function Ic(){}function Xe(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Sn(t,""+l);break;case"className":gs(t,"class",l);break;case"tabIndex":gs(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gs(t,a,l);break;case"style":Lo(t,l,d);break;case"data":if(r!=="object"){gs(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Bn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Xe(t,r,"name",h.name,h,null),Xe(t,r,"formEncType",h.formEncType,h,null),Xe(t,r,"formMethod",h.formMethod,h,null),Xe(t,r,"formTarget",h.formTarget,h,null)):(Xe(t,r,"encType",h.encType,h,null),Xe(t,r,"method",h.method,h,null),Xe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Bn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Bn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ms(t,"popover",l);break;case"xlinkActuate":xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ms(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,ms(t,a,l))}}function jd(t,r,a,l,h,d){switch(a){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ms(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var b=a[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,d,b,a,null)}}h&&Xe(t,r,"srcSet",a.srcSet,a,null),l&&Xe(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=b=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":b=$;break;case"checked":I=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Xe(t,r,l,$,a,null)}}Mo(t,d,T,I,B,b,h,!1),hi(t);return;case"select":Me("invalid",t),l=b=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:Xe(t,r,h,T,a,null)}r=d,a=b,t.multiple=!!l,r!=null?fi(t,!!l,r,!1):a!=null&&fi(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,r,b,T,a,null)}Nu(t,l,h,d),hi(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,r,I,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Me(Tl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,B,l,a,null)}return;default:if(ya(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&jd(t,r,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,r,T,l,a,null))}function J1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,b=null,T=null,I=null,B=null,$=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(K)||Xe(t,r,K,null,l,Z)}}for(var H in l){var K=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(K!=null||Z!=null))switch(H){case"type":d=K;break;case"name":h=K;break;case"checked":B=K;break;case"defaultChecked":$=K;break;case"value":b=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==Z&&Xe(t,r,H,K,l,Z)}}Oo(t,b,T,I,B,$,d,h);return;case"select":K=b=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||Xe(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":b=d;default:d!==I&&Xe(t,r,h,d,l,I)}r=T,a=b,l=K,H!=null?fi(t,!!a,H,!1):!!l!=!!a&&(r!=null?fi(t,!!a,r,!0):fi(t,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,r,T,null,l,h)}for(b in l)if(h=l[b],d=a[b],l.hasOwnProperty(b)&&(h!=null||d!=null))switch(b){case"value":H=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,r,b,h,l,d)}Iu(t,H,K);return;case"option":for(var we in a)if(H=a[we],a.hasOwnProperty(we)&&H!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:Xe(t,r,we,null,l,H)}for(I in l)if(H=l[I],K=a[I],l.hasOwnProperty(I)&&H!==K&&(H!=null||K!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,r,I,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)H=a[pe],a.hasOwnProperty(pe)&&H!=null&&!l.hasOwnProperty(pe)&&Xe(t,r,pe,null,l,H);for(B in l)if(H=l[B],K=a[B],l.hasOwnProperty(B)&&H!==K&&(H!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Xe(t,r,B,H,l,K)}return;default:if(ya(r)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&jd(t,r,We,void 0,l,H);for($ in l)H=l[$],K=a[$],!l.hasOwnProperty($)||H===K||H===void 0&&K===void 0||jd(t,r,$,H,l,K);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Xe(t,r,L,null,l,H);for(Z in l)H=l[Z],K=a[Z],!l.hasOwnProperty(Z)||H===K||H==null&&K==null||Xe(t,r,Z,H,l,K)}var Ud=null,zd=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function H0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Bd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qd=null;function ew(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,tw=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,nw=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(t){return K0.resolve(null).then(t).catch(rw)}:G0;function rw(t){setTimeout(function(){throw t})}function ki(t){return t==="head"}function Q0(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&xl(b.documentElement),a&2&&xl(b.body),a&4)for(a=b.head,xl(a),b=a.firstChild;b;){var T=b.nextSibling,I=b.nodeName;b[oi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(h===0){t.removeChild(d),kl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);kl(r)}function Hd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function iw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[oi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function sw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function aw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Gd=null;function Y0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function $0(t,r,a){switch(r=Nc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);fa(t)}var On=new Map,X0=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qr=se.d;se.d={f:ow,r:lw,D:uw,C:cw,L:hw,m:fw,X:mw,S:dw,M:gw};function ow(){var t=qr.f(),r=Tc();return t||r}function lw(t){var r=ir(t);r!==null&&r.tag===5&&r.type==="form"?py(r):qr.r(t)}var $a=typeof document>"u"?null:document;function W0(t,r,a){var l=$a;if(l&&typeof r=="string"&&r){var h=Dt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),X0.has(h)||(X0.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),dt(r),l.head.appendChild(r)))}}function uw(t){qr.D(t),W0("dns-prefetch",t,null)}function cw(t,r){qr.C(t,r),W0("preconnect",t,r)}function hw(t,r,a){qr.L(t,r,a);var l=$a;if(l&&t&&r){var h='link[rel="preload"][as="'+Dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dt(a.imageSizes)+'"]')):h+='[href="'+Dt(t)+'"]';var d=h;switch(r){case"style":d=Xa(t);break;case"script":d=Wa(t)}On.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),On.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Sl(d))||r==="script"&&l.querySelector(Al(d))||(r=l.createElement("link"),zt(r,"link",t),dt(r),l.head.appendChild(r)))}}function fw(t,r){qr.m(t,r);var a=$a;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!On.has(d)&&(t=E({rel:"modulepreload",href:t},r),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),zt(l,"link",t),dt(l),a.head.appendChild(l)}}}function dw(t,r,a){qr.S(t,r,a);var l=$a;if(l&&t){var h=ui(l).hoistableStyles,d=Xa(t);r=r||"default";var b=h.get(d);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(Sl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=On.get(d))&&Kd(t,a);var I=b=l.createElement("link");dt(I),zt(I,"link",t),I._p=new Promise(function(B,$){I.onload=B,I.onerror=$}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,kc(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(d,b)}}}function mw(t,r){qr.X(t,r);var a=$a;if(a&&t){var l=ui(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=E({src:t,async:!0},r),(r=On.get(h))&&Qd(t,r),d=a.createElement("script"),dt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function gw(t,r){qr.M(t,r);var a=$a;if(a&&t){var l=ui(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=On.get(h))&&Qd(t,r),d=a.createElement("script"),dt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Z0(t,r,a,l){var h=(h=Te.current)?Dc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Xa(a.href),a=ui(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=ui(h).hoistableStyles,b=d.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,b),(d=h.querySelector(Sl(t)))&&!d._p&&(b.instance=d,b.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||pw(h,t,a,b.state))),r&&l===null)throw Error(s(528,""));return b}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wa(a),a=ui(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+Dt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function J0(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function pw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),dt(r),t.head.appendChild(r))}function Wa(t){return'[src="'+Dt(t)+'"]'}function Al(t){return"script[async]"+t}function ev(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),zt(l,"style",h),kc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Xa(a.href);var d=t.querySelector(Sl(h));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=J0(a),(h=On.get(h))&&Kd(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var b=d;return b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),zt(d,"link",l),r.state.loading|=4,kc(d,a.precedence,t),r.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(Al(d)))?(r.instance=h,dt(h),h):(l=a,(h=On.get(d))&&(l=E({},a),Qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,t));return r.instance}function kc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Kd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Oc=null;function tv(t,r,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[oi]||d[ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(r)||"";b=t+b;var T=l.get(b);T?T.push(d):l.set(b,[d])}}return l}function nv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function yw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function rv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function vw(){}function _w(t,r,a){if(Rl===null)throw Error(s(475));var l=Rl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xa(a.href),d=t.querySelector(Sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Mc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=t.ownerDocument||t,a=J0(a),(h=On.get(h))&&Kd(a,h),d=d.createElement("link"),dt(d);var b=d;b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Mc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function Ew(){if(Rl===null)throw Error(s(475));var t=Rl;return t.stylesheets&&t.count===0&&Yd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Yd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,r.forEach(bw,t),Vc=null,Mc.call(t))}function bw(t,r){if(!(r.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var b=h[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=r.instance,b=h.getAttribute("data-precedence"),d=a.get(b)||l,d===l&&a.set(null,h),a.set(b,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Cl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Tw(t,r,a,l,h,d,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.hiddenUpdates=ha(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function iv(t,r,a,l,h,d,b,T,I,B,$,Z){return t=new Tw(t,r,a,b,T,I,B,Z),r=1,d===!0&&(r|=24),d=dn(3,null,null,r),t.current=d,d.stateNode=t,r=If(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Of(d),t}function sv(t){return t?(t=Ca,t):Ca}function av(t,r,a,l,h,d){h=sv(h),l.context===null?l.context=h:l.pendingContext=h,l=_i(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ei(t,l,r),a!==null&&(vn(a,t,r),il(a,t,r))}function ov(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function $d(t,r){ov(t,r),(t=t.alternate)&&ov(t,r)}function lv(t){if(t.tag===13){var r=Ra(t,67108864);r!==null&&vn(r,t,67108864),$d(t,67108864)}}var Pc=!0;function ww(t,r,a,l){var h=q.T;q.T=null;var d=se.p;try{se.p=2,Xd(t,r,a,l)}finally{se.p=d,q.T=h}}function xw(t,r,a,l){var h=q.T;q.T=null;var d=se.p;try{se.p=8,Xd(t,r,a,l)}finally{se.p=d,q.T=h}}function Xd(t,r,a,l){if(Pc){var h=Wd(l);if(h===null)Ld(t,r,l,Lc,a),cv(t,l);else if(Aw(h,t,r,a,l))l.stopPropagation();else if(cv(t,l),r&4&&-1<Sw.indexOf(t)){for(;h!==null;){var d=ir(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=jn(d.pendingLanes);if(b!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var I=1<<31-Zt(b);T.entanglements[1]|=I,b&=~I}mr(d),(Ge&6)===0&&(Ec=sn()+500,bl(0))}}break;case 13:T=Ra(d,2),T!==null&&vn(T,d,2),Tc(),$d(d,2)}if(d=Wd(l),d===null&&Ld(t,r,l,Lc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,r,l,null,a)}}function Wd(t){return t=Uo(t),Zd(t)}var Lc=null;function Zd(t){if(Lc=null,t=rr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Lc=t,null}function uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xu()){case xt:return 2;case Nt:return 8;case Tr:case nf:return 32;case Io:return 268435456;default:return 32}default:return 32}}var Jd=!1,Oi=null,Mi=null,Vi=null,Il=new Map,Nl=new Map,Pi=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(t,r){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Il.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(r.pointerId)}}function Dl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ir(r),r!==null&&lv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Aw(t,r,a,l,h){switch(r){case"focusin":return Oi=Dl(Oi,t,r,a,l,h),!0;case"dragenter":return Mi=Dl(Mi,t,r,a,l,h),!0;case"mouseover":return Vi=Dl(Vi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Dl(Il.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Dl(Nl.get(d)||null,t,r,a,l,h)),!0}return!1}function hv(t){var r=rr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,af(t.priority,function(){if(a.tag===13){var l=yn();l=Do(l);var h=Ra(a,l);h!==null&&vn(h,a,l),$d(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);jo=l,a.target.dispatchEvent(l),jo=null}else return r=ir(a),r!==null&&lv(r),t.blockedOn=a,!1;r.shift()}return!0}function fv(t,r,a){jc(t)&&a.delete(r)}function Rw(){Jd=!1,Oi!==null&&jc(Oi)&&(Oi=null),Mi!==null&&jc(Mi)&&(Mi=null),Vi!==null&&jc(Vi)&&(Vi=null),Il.forEach(fv),Nl.forEach(fv)}function Uc(t,r){t.blockedOn===r&&(t.blockedOn=null,Jd||(Jd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rw)))}var zc=null;function dv(t){zc!==t&&(zc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=ir(a);d!==null&&(t.splice(r,3),r-=3,Zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function kl(t){function r(I){return Uc(I,t)}Oi!==null&&Uc(Oi,t),Mi!==null&&Uc(Mi,t),Vi!==null&&Uc(Vi,t),Il.forEach(r),Nl.forEach(r);for(var a=0;a<Pi.length;a++){var l=Pi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pi.length&&(a=Pi[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&Pi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],b=h[Lt]||null;if(typeof d=="function")b||dv(a);else if(b){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,b=d[Lt]||null)T=b.formAction;else if(Zd(h)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),dv(a)}}}function em(t){this._internalRoot=t}Bc.prototype.render=em.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=yn();av(a,l,t,r,null,null)},Bc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;av(t.current,2,null,t,null,null),Tc(),r[xr]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var r=wr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Pi.length&&r!==0&&r<Pi[a].priority;a++);Pi.splice(a,0,t),a===0&&hv(t)}};var mv=e.version;if(mv!=="19.1.1")throw Error(s(527,mv,"19.1.1"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Cw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{ti=qc.inject(Cw),Ft=qc}catch{}}return Ml.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ny,d=Dy,b=ky,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=iv(t,1,!1,null,null,a,l,h,d,b,T,null),t[xr]=r.current,Pd(t),new em(r)},Ml.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ny,b=Dy,T=ky,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=iv(t,1,!0,r,a??null,l,h,d,b,T,I,B),r.context=sv(null),a=r.current,l=yn(),l=Do(l),h=_i(l),h.callback=null,Ei(a,h,l),a=l,r.current.lanes=a,ht(r,a),mr(r),t[xr]=r.current,Pd(t),new Bc(r)},Ml.version="19.1.1",Ml}var xv;function jw(){if(xv)return rm.exports;xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rm.exports=Lw(),rm.exports}var Uw=jw();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sv="popstate";function zw(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=na(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),bm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:Xl(u))}function s(o,u){Vn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return qw(e,n,s,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bw(){return Math.random().toString(36).substring(2,10)}function Av(i,e){return{usr:i.state,key:i.key,idx:e}}function bm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:n,key:e&&e.key||s||Bw()}}function Xl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function na(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function qw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let F=E(),ne=F==null?null:F-p;p=F,g&&g({action:m,location:Y.location,delta:ne})}function S(F,ne){m="PUSH";let te=bm(Y.location,F,ne);n&&n(te,F),p=E()+1;let ie=Av(te,p),xe=Y.createHref(te);try{f.pushState(ie,"",xe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(xe)}u&&g&&g({action:m,location:Y.location,delta:1})}function V(F,ne){m="REPLACE";let te=bm(Y.location,F,ne);n&&n(te,F),p=E();let ie=Av(te,p),xe=Y.createHref(te);f.replaceState(ie,"",xe),u&&g&&g({action:m,location:Y.location,delta:0})}function G(F){return Hw(F)}let Y={get action(){return m},get location(){return i(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Sv,w),g=F,()=>{o.removeEventListener(Sv,w),g=null}},createHref(F){return e(o,F)},createURL:G,encodeLocation(F){let ne=G(F);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:V,go(F){return f.go(F)}};return Y}function Hw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Xl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function uE(i,e,n="/"){return Fw(i,e,n,!1)}function Fw(i,e,n,s){let o=typeof e=="string"?na(e):e,u=Yr(o.pathname||"/",n);if(u==null)return null;let f=cE(i);Gw(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=n2(u);m=e2(f[g],p,s)}return m}function cE(i,e=[],n=[],s="",o=!1){let u=(f,m,g=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;st(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let w=Kr([s,E.relativePath]),S=n.concat(E);f.children&&f.children.length>0&&(st(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),cE(f.children,e,S,w,g)),!(f.path==null&&!f.index)&&e.push({path:w,score:Zw(w,f.index),routesMeta:S})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of hE(f.path))u(f,m,!0,g)}),e}function hE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=hE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Gw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Jw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Kw=/^:[\w-]+$/,Qw=3,Yw=2,$w=1,Xw=10,Ww=-2,Rv=i=>i==="*";function Zw(i,e){let n=i.split("/"),s=n.length;return n.some(Rv)&&(s+=Ww),e&&(s+=Yw),n.filter(o=>!Rv(o)).reduce((o,u)=>o+(Kw.test(u)?Qw:u===""?$w:Xw),s)}function Jw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function e2(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!w&&p&&n&&!s[s.length-1].route.index&&(w=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Kr([u,w.pathname]),pathnameBase:a2(Kr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Kr([u,w.pathnameBase]))}return f}function uh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=t2(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:w},S)=>{if(E==="*"){let G=m[S]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const V=m[S];return w&&!V?p[E]=void 0:p[E]=(V||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function t2(i,e=!1,n=!0){Vn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function n2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function r2(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?na(i):i;return{pathname:n?n.startsWith("/")?n:i2(n,e):e,search:o2(s),hash:l2(o)}}function i2(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s2(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zm(i){let e=s2(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Jm(i,e,n,s=!1){let o;typeof i=="string"?o=na(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let g=r2(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Kr=i=>i.join("/").replace(/\/\/+/g,"/"),a2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),o2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,l2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function u2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var fE=["POST","PUT","PATCH","DELETE"];new Set(fE);var c2=["GET",...fE];new Set(c2);var yo=D.createContext(null);yo.displayName="DataRouter";var Dh=D.createContext(null);Dh.displayName="DataRouterState";D.createContext(!1);var dE=D.createContext({isTransitioning:!1});dE.displayName="ViewTransition";var h2=D.createContext(new Map);h2.displayName="Fetchers";var f2=D.createContext(null);f2.displayName="Await";var Zn=D.createContext(null);Zn.displayName="Navigation";var cu=D.createContext(null);cu.displayName="Location";var Jn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var eg=D.createContext(null);eg.displayName="RouteError";function d2(i,{relative:e}={}){st(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(Zn),{hash:o,pathname:u,search:f}=hu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Kr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vo(){return D.useContext(cu)!=null}function ns(){return st(vo(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(cu).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gE(i){D.useContext(Zn).static||D.useLayoutEffect(i)}function bn(){let{isDataRoute:i}=D.useContext(Jn);return i?A2():m2()}function m2(){st(vo(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(yo),{basename:e,navigator:n}=D.useContext(Zn),{matches:s}=D.useContext(Jn),{pathname:o}=ns(),u=JSON.stringify(Zm(s)),f=D.useRef(!1);return gE(()=>{f.current=!0}),D.useCallback((g,p={})=>{if(Vn(f.current,mE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Jm(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Kr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,i])}D.createContext(null);function pE(){let{matches:i}=D.useContext(Jn),e=i[i.length-1];return e?e.params:{}}function hu(i,{relative:e}={}){let{matches:n}=D.useContext(Jn),{pathname:s}=ns(),o=JSON.stringify(Zm(n));return D.useMemo(()=>Jm(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function g2(i,e){return yE(i,e)}function yE(i,e,n,s,o){st(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=D.useContext(Zn),{matches:f}=D.useContext(Jn),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let te=w&&w.path||"";vE(p,!w||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let S=ns(),V;if(e){let te=typeof e=="string"?na(e):e;st(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),V=te}else V=S;let G=V.pathname||"/",Y=G;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Y="/"+G.replace(/^\//,"").split("/").slice(te.length).join("/")}let F=uE(i,{pathname:Y});Vn(w||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Vn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=E2(F&&F.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:Kr([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Kr([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&ne?D.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ne):ne}function p2(){let i=S2(),e=u2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,f)}var y2=D.createElement(p2,null),v2=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?D.createElement(Jn.Provider,{value:this.props.routeContext},D.createElement(eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _2({routeContext:i,match:e,children:n}){let s=D.useContext(yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Jn.Provider,{value:i},n)}function E2(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let p=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let m=!1,g=-1;if(n)for(let p=0;p<u.length;p++){let E=u[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=p),E.route.id){let{loaderData:w,errors:S}=n,V=E.route.loader&&!w.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||V){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,E,w)=>{let S,V=!1,G=null,Y=null;n&&(S=f&&E.route.id?f[E.route.id]:void 0,G=E.route.errorElement||y2,m&&(g<0&&w===0?(vE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,Y=null):g===w&&(V=!0,Y=E.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,w+1)),ne=()=>{let te;return S?te=G:V?te=Y:E.route.Component?te=D.createElement(E.route.Component,null):E.route.element?te=E.route.element:te=p,D.createElement(_2,{match:E,routeContext:{outlet:p,matches:F,isDataRoute:n!=null},children:te})};return n&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?D.createElement(v2,{location:n.location,revalidation:n.revalidation,component:G,error:S,children:ne(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):ne()},null)}function tg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(i){let e=D.useContext(yo);return st(e,tg(i)),e}function T2(i){let e=D.useContext(Dh);return st(e,tg(i)),e}function w2(i){let e=D.useContext(Jn);return st(e,tg(i)),e}function ng(i){let e=w2(i),n=e.matches[e.matches.length-1];return st(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function x2(){return ng("useRouteId")}function S2(){let i=D.useContext(eg),e=T2("useRouteError"),n=ng("useRouteError");return i!==void 0?i:e.errors?.[n]}function A2(){let{router:i}=b2("useNavigate"),e=ng("useNavigate"),n=D.useRef(!1);return gE(()=>{n.current=!0}),D.useCallback(async(o,u={})=>{Vn(n.current,mE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Cv={};function vE(i,e,n){!e&&!Cv[i]&&(Cv[i]=!0,Vn(!1,n))}D.memo(R2);function R2({routes:i,future:e,state:n,unstable_onError:s}){return yE(i,void 0,n,s,e)}function Vl({to:i,replace:e,state:n,relative:s}){st(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Zn);Vn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=D.useContext(Jn),{pathname:f}=ns(),m=bn(),g=Jm(i,Zm(u),f,s==="path"),p=JSON.stringify(g);return D.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function rn(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C2({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=na(n));let{pathname:g="/",search:p="",hash:E="",state:w=null,key:S="default"}=n,V=D.useMemo(()=>{let G=Yr(g,f);return G==null?null:{location:{pathname:G,search:p,hash:E,state:w,key:S},navigationType:s}},[f,g,p,E,w,S,s]);return Vn(V!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:D.createElement(Zn.Provider,{value:m},D.createElement(cu.Provider,{children:e,value:V}))}function Iv({children:i,location:e}){return g2(Tm(i),e)}function Tm(i,e=[]){let n=[];return D.Children.forEach(i,(s,o)=>{if(!D.isValidElement(s))return;let u=[...e,o];if(s.type===D.Fragment){n.push.apply(n,Tm(s.props.children,u));return}st(s.type===rn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tm(s.props.children,u)),n.push(f)}),n}var Xc="get",Wc="application/x-www-form-urlencoded";function kh(i){return i!=null&&typeof i.tagName=="string"}function I2(i){return kh(i)&&i.tagName.toLowerCase()==="button"}function N2(i){return kh(i)&&i.tagName.toLowerCase()==="form"}function D2(i){return kh(i)&&i.tagName.toLowerCase()==="input"}function k2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function O2(i,e){return i.button===0&&(!e||e==="_self")&&!k2(i)}var Hc=null;function M2(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var V2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(i){return i!=null&&!V2.has(i)?(Vn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):i}function P2(i,e){let n,s,o,u,f;if(N2(i)){let m=i.getAttribute("action");s=m?Yr(m,e):null,n=i.getAttribute("method")||Xc,o=lm(i.getAttribute("enctype"))||Wc,u=new FormData(i)}else if(I2(i)||D2(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Yr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=lm(i.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||Wc,u=new FormData(m,i),!M2()){let{name:p,type:E,value:w}=i;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,w)}}else{if(kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,s=null,o=Wc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function L2(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Yr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function j2(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function z2(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await j2(u,n);return f.links?f.links():[]}return[]}));return F2(s.flat(1).filter(U2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Nv(i,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function B2(i,e,{includeHydrateFallback:n}={}){return q2(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function q2(i){return[...new Set(i)]}function H2(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function F2(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(H2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function _E(){let i=D.useContext(yo);return rg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function G2(){let i=D.useContext(Dh);return rg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ig=D.createContext(void 0);ig.displayName="FrameworkContext";function EE(){let i=D.useContext(ig);return rg(i,"You must render this element inside a <HydratedRouter> element"),i}function K2(i,e){let n=D.useContext(ig),[s,o]=D.useState(!1),[u,f]=D.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:w}=e,S=D.useRef(null);D.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Y=ne=>{ne.forEach(te=>{f(te.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[i]),D.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let V=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Pl(m,V),onBlur:Pl(g,G),onMouseEnter:Pl(p,V),onMouseLeave:Pl(E,G),onTouchStart:Pl(w,V)}]:[!1,S,{}]}function Pl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Q2({page:i,...e}){let{router:n}=_E(),s=D.useMemo(()=>uE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?D.createElement($2,{page:i,matches:s,...e}):null}function Y2(i){let{manifest:e,routeModules:n}=EE(),[s,o]=D.useState([]);return D.useEffect(()=>{let u=!1;return z2(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function $2({page:i,matches:e,...n}){let s=ns(),{manifest:o,routeModules:u}=EE(),{basename:f}=_E(),{loaderData:m,matches:g}=G2(),p=D.useMemo(()=>Nv(i,e,g,o,s,"data"),[i,e,g,o,s]),E=D.useMemo(()=>Nv(i,e,g,o,s,"assets"),[i,e,g,o,s]),w=D.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let G=new Set,Y=!1;if(e.forEach(ne=>{let te=o.routes[ne.route.id];!te||!te.hasLoader||(!p.some(ie=>ie.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||te.hasClientLoader?Y=!0:G.add(ne.route.id))}),G.size===0)return[];let F=L2(i,f,"data");return Y&&G.size>0&&F.searchParams.set("_routes",e.filter(ne=>G.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,p,e,i,u]),S=D.useMemo(()=>B2(E,o),[E,o]),V=Y2(E);return D.createElement(D.Fragment,null,w.map(G=>D.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),S.map(G=>D.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),V.map(({key:G,link:Y})=>D.createElement("link",{key:G,nonce:n.nonce,...Y})))}function X2(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bE&&(window.__reactRouterVersion="7.9.3")}catch{}function W2({basename:i,children:e,window:n}){let s=D.useRef();s.current==null&&(s.current=zw({window:n,v5Compat:!0}));let o=s.current,[u,f]=D.useState({action:o.action,location:o.location}),m=D.useCallback(g=>{D.startTransition(()=>f(g))},[f]);return D.useLayoutEffect(()=>o.listen(m),[o,m]),D.createElement(C2,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var TE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oh=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:w,...S},V){let{basename:G}=D.useContext(Zn),Y=typeof p=="string"&&TE.test(p),F,ne=!1;if(typeof p=="string"&&Y&&(F=p,bE))try{let C=new URL(window.location.href),P=p.startsWith("//")?new URL(C.protocol+p):new URL(p),O=Yr(P.pathname,G);P.origin===C.origin&&O!=null?p=O+P.search+P.hash:ne=!0}catch{Vn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=d2(p,{relative:o}),[ie,xe,ce]=K2(s,S),ye=ex(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:w});function N(C){e&&e(C),C.defaultPrevented||ye(C)}let A=D.createElement("a",{...S,...ce,href:F||te,onClick:ne||u?e:N,ref:X2(V,xe),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return ie&&!Y?D.createElement(D.Fragment,null,A,D.createElement(Q2,{page:te})):A});Oh.displayName="Link";var no=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let w=hu(f,{relative:p.relative}),S=ns(),V=D.useContext(Dh),{navigator:G,basename:Y}=D.useContext(Zn),F=V!=null&&sx(w)&&m===!0,ne=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,te=S.pathname,ie=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,ne=ne.toLowerCase()),ie&&Y&&(ie=Yr(ie,Y)||ie);const xe=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ce=te===ne||!o&&te.startsWith(ne)&&te.charAt(xe)==="/",ye=ie!=null&&(ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ne.length)==="/"),N={isActive:ce,isPending:ye,isTransitioning:F},A=ce?e:void 0,C;typeof s=="function"?C=s(N):C=[s,ce?"active":null,ye?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(N):u;return D.createElement(Oh,{...p,"aria-current":A,className:C,ref:E,style:P,to:f,viewTransition:m},typeof g=="function"?g(N):g)});no.displayName="NavLink";var Z2=D.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Xc,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:w,...S},V)=>{let G=rx(),Y=ix(m,{relative:p}),F=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&TE.test(m),te=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let xe=ie.nativeEvent.submitter,ce=xe?.getAttribute("formmethod")||f;G(xe||ie.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:w})};return D.createElement("form",{ref:V,method:F,action:Y,onSubmit:s?g:te,...S,"data-discover":!ne&&i==="render"?"true":void 0})});Z2.displayName="Form";function J2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wE(i){let e=D.useContext(yo);return st(e,J2(i)),e}function ex(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=bn(),g=ns(),p=hu(i,{relative:u});return D.useCallback(E=>{if(O2(E,e)){E.preventDefault();let w=n!==void 0?n:Xl(g)===Xl(p);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,s,e,i,o,u,f])}var tx=0,nx=()=>`__${String(++tx)}__`;function rx(){let{router:i}=wE("useSubmit"),{basename:e}=D.useContext(Zn),n=x2();return D.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=P2(s,e);if(o.navigate===!1){let E=o.fetcherKey||nx();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function ix(i,{relative:e}={}){let{basename:n}=D.useContext(Zn),s=D.useContext(Jn);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(i||".",{relative:e})},f=ns();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Kr([n,u.pathname])),Xl(u)}function sx(i,{relative:e}={}){let n=D.useContext(dE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wE("useViewTransitionState"),o=hu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}const ax=()=>{};var Dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ox=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,V=p&63;g||(V=64,f||(S=64)),s.push(n[E],n[w],n[S],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(xE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ox(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new lx;const S=u<<2|m>>4;if(s.push(S),p!==64){const V=m<<4&240|p>>2;if(s.push(V),w!==64){const G=p<<6&192|w;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ux=function(i){const e=xE(i);return SE.encodeByteArray(e,!0)},ch=function(i){return ux(i).replace(/\./g,"")},AE=function(i){try{return SE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=()=>cx().__FIREBASE_DEFAULTS__,fx=()=>{if(typeof process>"u"||typeof Dv>"u")return;const i=Dv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},dx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&AE(i[1]);return e&&JSON.parse(e)},Mh=()=>{try{return ax()||hx()||fx()||dx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},RE=i=>Mh()?.emulatorHosts?.[i],mx=i=>{const e=RE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},CE=()=>Mh()?.config,IE=i=>Mh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}const Fl={};function yx(){const i={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?i.emulator.push(e):i.prod.push(e);return i}function vx(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let kv=!1;function DE(i,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Fl[i]===e||Fl[i]||kv)return;Fl[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=yx().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{kv=!0,f()},S}function E(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=vx(s),V=n("text"),G=document.getElementById(V)||document.createElement("span"),Y=n("learnmore"),F=document.getElementById(Y)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;m(ie),E(F,Y);const xe=p();g(te,ne),ie.append(te,G,F,xe),document.body.appendChild(ie)}u?(G.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _x(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Ex(){const i=Mh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function wx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xx(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Sx(){return!Ex()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ax(){try{return typeof indexedDB=="object"}catch{return!1}}function Rx(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="FirebaseError";class er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Cx,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Ix(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new er(o,m,s)}}function Ix(i,e){return i.replace(Nx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Nx=/\{\$([^}]+)}/g;function Dx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Ov(u)&&Ov(f)){if(!Xs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ov(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function kx(i,e){const n=new Ox(i,e);return n.subscribe.bind(n)}class Ox{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Mx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mx(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i){return i&&i._delegate?i._delegate:i}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new gx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lx(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Px(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Px(i){return i===Gs?void 0:i}function Lx(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const Ux={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},zx=Pe.INFO,Bx={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},qx=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Bx[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=zx,this._logHandler=qx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ux[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Hx=(i,e)=>e.some(n=>i instanceof n);let Mv,Vv;function Fx(){return Mv||(Mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gx(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kE=new WeakMap,wm=new WeakMap,OE=new WeakMap,cm=new WeakMap,ag=new WeakMap;function Kx(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Fi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&kE.set(n,i)}).catch(()=>{}),ag.set(e,i),e}function Qx(i){if(wm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});wm.set(i,e)}let xm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return wm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||OE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Yx(i){xm=i(xm)}function $x(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(hm(this),e,...n);return OE.set(s,e.sort?e.sort():[e]),Fi(s)}:Gx().includes(i)?function(...e){return i.apply(hm(this),e),Fi(kE.get(this))}:function(...e){return Fi(i.apply(hm(this),e))}}function Xx(i){return typeof i=="function"?$x(i):(i instanceof IDBTransaction&&Qx(i),Hx(i,Fx())?new Proxy(i,xm):i)}function Fi(i){if(i instanceof IDBRequest)return Kx(i);if(cm.has(i))return cm.get(i);const e=Xx(i);return e!==i&&(cm.set(i,e),ag.set(e,i)),e}const hm=i=>ag.get(i);function Wx(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Fi(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Fi(f.result),g.oldVersion,g.newVersion,Fi(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Zx=["get","getKey","getAll","getAllKeys","count"],Jx=["put","add","delete","clear"],fm=new Map;function Pv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Jx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Zx.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return fm.set(e,u),u}Yx(i=>({...i,get:(e,n,s)=>Pv(e,n)||i.get(e,n,s),has:(e,n)=>!!Pv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tS(i){return i.getComponent()?.type==="VERSION"}const Sm="@firebase/app",Lv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new sg("@firebase/app"),nS="@firebase/app-compat",rS="@firebase/analytics-compat",iS="@firebase/analytics",sS="@firebase/app-check-compat",aS="@firebase/app-check",oS="@firebase/auth",lS="@firebase/auth-compat",uS="@firebase/database",cS="@firebase/data-connect",hS="@firebase/database-compat",fS="@firebase/functions",dS="@firebase/functions-compat",mS="@firebase/installations",gS="@firebase/installations-compat",pS="@firebase/messaging",yS="@firebase/messaging-compat",vS="@firebase/performance",_S="@firebase/performance-compat",ES="@firebase/remote-config",bS="@firebase/remote-config-compat",TS="@firebase/storage",wS="@firebase/storage-compat",xS="@firebase/firestore",SS="@firebase/ai",AS="@firebase/firestore-compat",RS="firebase",CS="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",IS={[Sm]:"fire-core",[nS]:"fire-core-compat",[iS]:"fire-analytics",[rS]:"fire-analytics-compat",[aS]:"fire-app-check",[sS]:"fire-app-check-compat",[oS]:"fire-auth",[lS]:"fire-auth-compat",[uS]:"fire-rtdb",[cS]:"fire-data-connect",[hS]:"fire-rtdb-compat",[fS]:"fire-fn",[dS]:"fire-fn-compat",[mS]:"fire-iid",[gS]:"fire-iid-compat",[pS]:"fire-fcm",[yS]:"fire-fcm-compat",[vS]:"fire-perf",[_S]:"fire-perf-compat",[ES]:"fire-rc",[bS]:"fire-rc-compat",[TS]:"fire-gcs",[wS]:"fire-gcs-compat",[xS]:"fire-fst",[AS]:"fire-fst-compat",[SS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,NS=new Map,Rm=new Map;function jv(i,e){try{i.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function lo(i){const e=i.name;if(Rm.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,i);for(const n of hh.values())jv(n,i);for(const n of NS.values())jv(n,i);return!0}function og(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function _n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new fu("app","Firebase",DS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=CS;function ME(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Am,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(n||(n=CE()),!n)throw Gi.create("no-options");const u=hh.get(o);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const f=new jx(o);for(const g of Rm.values())f.addComponent(g);const m=new kS(n,s,f);return hh.set(o,m),m}function VE(i=Am){const e=hh.get(i);if(!e&&i===Am&&CE())return ME();if(!e)throw Gi.create("no-app",{appName:i});return e}function Ki(i,e,n){let s=IS[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(f.join(" "));return}lo(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebase-heartbeat-database",MS=1,Wl="firebase-heartbeat-store";let dm=null;function PE(){return dm||(dm=Wx(OS,MS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Gi.create("idb-open",{originalErrorMessage:i.message})})),dm}async function VS(i){try{const n=(await PE()).transaction(Wl),s=await n.objectStore(Wl).get(LE(i));return await n.done,s}catch(e){if(e instanceof er)$r.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e?.message});$r.warn(n.message)}}}async function Uv(i,e){try{const s=(await PE()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,LE(i)),await s.done}catch(n){if(n instanceof er)$r.warn(n.message);else{const s=Gi.create("idb-set",{originalErrorMessage:n?.message});$r.warn(s.message)}}}function LE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=1024,LS=30;class jS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>LS){const o=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$r.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zv(),{heartbeatsToSend:n,unsentEntries:s}=US(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $r.warn(e),""}}}function zv(){return new Date().toISOString().substring(0,10)}function US(i,e=PS){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Bv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Bv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ax()?Rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Bv(i){return ch(JSON.stringify({version:2,heartbeats:i})).length}function BS(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(i){lo(new Ws("platform-logger",e=>new eS(e),"PRIVATE")),lo(new Ws("heartbeat",e=>new jS(e),"PRIVATE")),Ki(Sm,Lv,i),Ki(Sm,Lv,"esm2020"),Ki("fire-js","")}qS("");var HS="firebase",FS="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(HS,FS,"app");const jE=()=>v.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),UE=()=>v.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),zE=D.createContext(void 0),ei=()=>{const i=D.useContext(zE);if(!i)throw new Error("useAuth must be used within a AuthContext");return i};function GS(){const[i,e]=D.useState(""),[n,s]=D.useState(""),[o,u]=D.useState(""),[f,m]=D.useState(!1),{login:g}=ei(),p=bn(),E=async S=>{S.preventDefault();try{u(""),m(!0),await g(i,n),p("/dashboard")}catch(V){V instanceof er?u(w(V.code)):u("Errore durante il login")}finally{m(!1)}},w=S=>{switch(S){case"auth/user-not-found":return"Utente non trovato";case"auth/wrong-password":return"Password errata";case"auth/invalid-email":return"Email non valida";case"auth/user-disabled":return"Account disabilitato";case"auth/popup-closed-by-user":return"Login annullato";case"auth/invalid-credential":return"Credenziali non valide";default:return"Errore durante il login"}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-purple-50 p-4",children:v.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Accedi al tuo account"}),v.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Bentornato! Inserisci le tue credenziali"})]}),o&&v.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx(jE,{})}),v.jsx("div",{className:"ml-3",children:v.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),v.jsxs("form",{onSubmit:E,className:"mt-8 space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),v.jsx("input",{id:"email",type:"email",value:i,autoComplete:"email",onChange:S=>e(S.target.value),required:!0,disabled:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:"tu@esempio.com"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:S=>s(S.target.value),required:!0,disabled:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:"••••••••"})]})]}),v.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed transition duration-200 cursor-pointer",children:f?v.jsx(UE,{}):"Accedi"})]}),v.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Non hai un account?"," ",v.jsx(Oh,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500 transition",children:"Registrati"})]})]})})}function KS(){const[i,e]=D.useState(""),[n,s]=D.useState(""),[o,u]=D.useState(""),[f,m]=D.useState(""),[g,p]=D.useState(!1),{signup:E}=ei(),w=bn(),S=async G=>{if(G.preventDefault(),n!==o)return m("Le password non coincidono");if(n.length<6)return m("La password deve essere di almeno 6 caratteri");try{m(""),p(!0),await E(i,n),w("/dashboard")}catch(Y){Y instanceof er?m(V(Y.code)):m("Errore durante la registrazione")}finally{p(!1)}},V=G=>{switch(G){case"auth/email-already-in-use":return"Email già registrata";case"auth/invalid-email":return"Email non valida";case"auth/weak-password":return"Password troppo debole";default:return"Errore durante la registrazione"}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50 p-4",children:v.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Crea un nuovo account"}),v.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Inizia gratuitamente oggi stesso"})]}),f&&v.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx(jE,{})}),v.jsx("div",{className:"ml-3",children:v.jsx("p",{className:"text-sm text-red-700",children:f})})]})}),v.jsxs("form",{onSubmit:S,className:"mt-8 space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),v.jsx("input",{id:"email",type:"email",value:i,onChange:G=>e(G.target.value),required:!0,disabled:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:"tu@esempio.com"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsx("input",{id:"password",type:"password",value:n,onChange:G=>s(G.target.value),required:!0,disabled:g,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:"••••••••"}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Minimo 6 caratteri"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Conferma Password"}),v.jsx("input",{id:"confirmPassword",type:"password",value:o,onChange:G=>u(G.target.value),required:!0,disabled:g,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:"••••••••"})]})]}),v.jsx("button",{type:"submit",disabled:g,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:bg-purple-400 disabled:cursor-not-allowed transition duration-200 cursor-pointer",children:g?v.jsx(UE,{}):"Crea Account"})]}),v.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Hai già un account?"," ",v.jsx(Oh,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500 transition",children:"Accedi"})]})]})})}const QS=()=>v.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),YS=()=>v.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})});var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,BE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(P,O,j){for(var R=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)R[ve-2]=arguments[ve];return A.prototype[O].apply(P,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,C){C||(C=0);const P=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)P[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;O<16;++O)P[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],O=N.g[2];let j=N.g[3],R;R=A+(j^C&(O^j))+P[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=j+(O^A&(C^O))+P[1]+3905402710&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(C^j&(A^C))+P[2]+606105819&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(A^O&(j^A))+P[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(j^C&(O^j))+P[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=j+(O^A&(C^O))+P[5]+1200080426&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(C^j&(A^C))+P[6]+2821735955&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(A^O&(j^A))+P[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(j^C&(O^j))+P[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=j+(O^A&(C^O))+P[9]+2336552879&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(C^j&(A^C))+P[10]+4294925233&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(A^O&(j^A))+P[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(j^C&(O^j))+P[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=j+(O^A&(C^O))+P[13]+4254626195&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(C^j&(A^C))+P[14]+2792965006&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(A^O&(j^A))+P[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(O^j&(C^O))+P[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(A^C))+P[6]+3225465664&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(j^A))+P[11]+643717713&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^A&(O^j))+P[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^j&(C^O))+P[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(A^C))+P[10]+38016083&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(j^A))+P[15]+3634488961&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^A&(O^j))+P[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^j&(C^O))+P[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(A^C))+P[14]+3275163606&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(j^A))+P[3]+4107603335&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^A&(O^j))+P[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^j&(C^O))+P[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(A^C))+P[2]+4243563512&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(j^A))+P[7]+1735328473&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^A&(O^j))+P[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(C^O^j)+P[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=j+(A^C^O)+P[8]+2272392833&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^C)+P[11]+1839030562&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^A)+P[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^j)+P[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=j+(A^C^O)+P[4]+1272893353&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^C)+P[7]+4139469664&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^A)+P[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^j)+P[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=j+(A^C^O)+P[0]+3936430074&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^C)+P[3]+3572445317&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^A)+P[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^j)+P[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=j+(A^C^O)+P[12]+3873151461&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^C)+P[15]+530742520&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^A)+P[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(O^(C|~j))+P[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=j+(C^(A|~O))+P[7]+1126891415&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~C))+P[14]+2878612391&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~A))+P[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~j))+P[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=j+(C^(A|~O))+P[3]+2399980690&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~C))+P[10]+4293915773&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~A))+P[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~j))+P[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=j+(C^(A|~O))+P[15]+4264355552&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~C))+P[6]+2734768916&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~A))+P[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~j))+P[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=j+(C^(A|~O))+P[11]+3174756917&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~C))+P[2]+718787259&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~A))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,P=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=C;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(P[O++]=N.charCodeAt(j++),O==this.blockSize){o(this,P),O=0;break}}else for(;j<A;)if(P[O++]=N[j++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)N[A++]=this.g[C]>>>P&255;return N};function u(N,A){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function f(N,A){this.h=A;const C=[];let P=!0;for(let O=N.length-1;O>=0;O--){const j=N[O]|0;P&&j==A||(C[O]=j,P=!1)}this.g=C}var m={};function g(N){return-128<=N&&N<128?u(N,function(A){return new f([A|0],A<0?-1:0)}):new f([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return F(p(-N));const A=[];let C=1;for(let P=0;N>=C;P++)A[P]=N/C|0,C*=4294967296;return new f(A,0)}function E(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return F(E(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(A,8));let P=w;for(let j=0;j<N.length;j+=8){var O=Math.min(8,N.length-j);const R=parseInt(N.substring(j,j+O),A);O<8?(O=p(Math.pow(A,O)),P=P.j(O).add(p(R))):(P=P.j(C),P=P.add(p(R)))}return P}var w=g(0),S=g(1),V=g(16777216);i=f.prototype,i.m=function(){if(Y(this))return-F(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);N+=(P>=0?P:4294967296+P)*A,A*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(Y(this))return"-"+F(this).toString(N);const A=p(Math.pow(N,6));var C=this;let P="";for(;;){const O=xe(C,A).g;C=ne(C,O.j(A));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=O,G(C))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function Y(N){return N.h==-1}i.l=function(N){return N=ne(this,N),Y(N)?-1:G(N)?0:1};function F(N){const A=N.g.length,C=[];for(let P=0;P<A;P++)C[P]=~N.g[P];return new f(C,~N.h).add(S)}i.abs=function(){return Y(this)?F(this):this},i.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let P=0;for(let O=0;O<=A;O++){let j=P+(this.i(O)&65535)+(N.i(O)&65535),R=(j>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);P=R>>>16,j&=65535,R&=65535,C[O]=R<<16|j}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ne(N,A){return N.add(F(A))}i.j=function(N){if(G(this)||G(N))return w;if(Y(this))return Y(N)?F(this).j(F(N)):F(F(this).j(N));if(Y(N))return F(this.j(F(N)));if(this.l(V)<0&&N.l(V)<0)return p(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var P=0;P<2*A;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<N.g.length;O++){const j=this.i(P)>>>16,R=this.i(P)&65535,ve=N.i(O)>>>16,Se=N.i(O)&65535;C[2*P+2*O]+=R*Se,te(C,2*P+2*O),C[2*P+2*O+1]+=j*Se,te(C,2*P+2*O+1),C[2*P+2*O+1]+=R*ve,te(C,2*P+2*O+1),C[2*P+2*O+2]+=j*ve,te(C,2*P+2*O+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new f(C,0)};function te(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ie(N,A){this.g=N,this.h=A}function xe(N,A){if(G(A))throw Error("division by zero");if(G(N))return new ie(w,w);if(Y(N))return A=xe(F(N),A),new ie(F(A.g),F(A.h));if(Y(A))return A=xe(N,F(A)),new ie(F(A.g),A.h);if(N.g.length>30){if(Y(N)||Y(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,P=A;P.l(N)<=0;)C=ce(C),P=ce(P);var O=ye(C,1),j=ye(P,1);for(P=ye(P,2),C=ye(C,2);!G(P);){var R=j.add(P);R.l(N)<=0&&(O=O.add(C),j=R),P=ye(P,1),C=ye(C,1)}return A=ne(N,O.j(A)),new ie(O,A)}for(O=w;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=p(C),R=j.j(A);Y(R)||R.l(N)>0;)C-=P,j=p(C),R=j.j(A);G(j)&&(j=S),O=O.add(j),N=ne(N,R)}return new ie(O,N)}i.B=function(N){return xe(this,N).h},i.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)&N.i(P);return new f(C,this.h&N.h)},i.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)|N.i(P);return new f(C,this.h|N.h)},i.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)^N.i(P);return new f(C,this.h^N.h)};function ce(N){const A=N.g.length+1,C=[];for(let P=0;P<A;P++)C[P]=N.i(P)<<1|N.i(P-1)>>>31;return new f(C,N.h)}function ye(N,A){const C=A>>5;A%=32;const P=N.g.length-C,O=[];for(let j=0;j<P;j++)O[j]=A>0?N.i(j+C)>>>A|N.i(j+C+1)<<32-A:N.i(j+C);return new f(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Qi=f}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qE,zl,HE,Zc,Cm,FE,GE,KE;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var z=c[x];if(!(z in _))break e;_=_[z]}c=c[c.length-1],x=_[c],y=y(x),y!=x&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&_.push([x,y[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function w(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(x,z,Q){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return y.prototype[z].apply(x,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const y=c.length;if(y>0){const _=Array(y);for(let x=0;x<y;x++)_[x]=c[x];return _}return[]}function G(c,y){for(let x=1;x<arguments.length;x++){const z=arguments[x];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=c.length||0;const Q=z.length||0;c.length=_+Q;for(let re=0;re<Q;re++)c[_+re]=z[re]}else c.push(z)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,_){const x=ie.get();x.set(y,_),this.h?this.h.next=x:this.g=x,this.h=x}}var ie=new Y(()=>new xe,c=>c.reset());class xe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ye=!1,N=new te,A=()=>{const c=Promise.resolve(void 0);ce=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(_){F(_)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ye=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function ve(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}w(ve,O),ve.prototype.init=function(c,y){const _=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),q=0;function se(c,y,_,x,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!x,this.ha=z,this.key=++q,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c,y,_){for(const x in c)y.call(_,c[x],x,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function ee(c){const y={};for(const _ in c)y[_]=c[_];return y}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let _,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(_ in x)c[_]=x[_];for(let Q=0;Q<ae.length;Q++)_=ae[Q],Object.prototype.hasOwnProperty.call(x,_)&&(c[_]=x[_])}}function me(c){this.src=c,this.g={},this.h=0}me.prototype.add=function(c,y,_,x,z){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const re=Te(c,y,x,z);return re>-1?(y=c[re],_||(y.fa=!1)):(y=new se(y,this.src,Q,!!x,z),y.fa=_,c.push(y)),y};function Ve(c,y){const _=y.type;if(_ in c.g){var x=c.g[_],z=Array.prototype.indexOf.call(x,y,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(x,z,1),Q&&(fe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Te(c,y,_,x){for(let z=0;z<c.length;++z){const Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==x)return z}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Qe={};function Ln(c,y,_,x,z){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Ln(c,y[Q],_,x,z);return null}return _=xu(_),c&&c[Se]?c.J(y,_,m(x)?!!x.capture:!1,z):Ro(c,y,_,!1,x,z)}function Ro(c,y,_,x,z,Q){if(!y)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let Re=Co(c);if(Re||(c[Pt]=Re=new me(c)),_=Re.add(y,_,x,re,Q),_.proxy)return _;if(x=oa(),_.proxy=x,x.src=c,x.listener=_,c.addEventListener)j||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),x,z);else if(c.attachEvent)c.attachEvent(ua(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function oa(){function c(_){return y.call(c.src,c.listener,_)}const y=tf;return c}function la(c,y,_,x,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)la(c,y[Q],_,x,z);else x=m(x)?!!x.capture:!!x,_=xu(_),c&&c[Se]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],_=Te(y,_,x,z),_>-1&&(fe(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Co(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Te(y,_,x,z)),(_=c>-1?y[c]:null)&&ls(_))}function ls(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Se])Ve(y.i,c);else{var _=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(_,x,c.capture):y.detachEvent?y.detachEvent(ua(_),x):y.addListener&&y.removeListener&&y.removeListener(x),(_=Co(y))?(Ve(_,c),_.h==0&&(_.src=null,y[Pt]=null)):fe(c)}}}function ua(c){return c in Qe?Qe[c]:Qe[c]="on"+c}function tf(c,y){if(c.da)c=!0;else{y=new ve(y,this);const _=c.listener,x=c.ha||c.src;c.fa&&ls(c),c=_.call(x,y)}return c}function Co(c){return c=c[Pt],c instanceof me?c:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function xu(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(y){return c.handleEvent(y)}),c[sn])}function xt(){P.call(this),this.i=new me(this),this.M=this,this.G=null}w(xt,P),xt.prototype[Se]=!0,xt.prototype.removeEventListener=function(c,y,_,x){la(this,c,y,_,x)};function Nt(c,y){var _,x=c.G;if(x)for(_=[];x;x=x.G)_.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(x,c),oe(y,z)}z=!0;let Q,re;if(_)for(re=_.length-1;re>=0;re--)Q=y.g=_[re],z=Tr(Q,x,!0,y)&&z;if(Q=y.g=c,z=Tr(Q,x,!0,y)&&z,z=Tr(Q,x,!1,y)&&z,_)for(re=0;re<_.length;re++)Q=y.g=_[re],z=Tr(Q,x,!1,y)&&z}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let x=0;x<_.length;x++)fe(_[x]);delete c.g[y],c.h--}}this.G=null},xt.prototype.J=function(c,y,_,x){return this.i.add(String(c),y,!1,_,x)},xt.prototype.K=function(c,y,_,x){return this.i.add(String(c),y,!0,_,x)};function Tr(c,y,_,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Q=0;Q<y.length;++Q){const re=y[Q];if(re&&!re.da&&re.capture==_){const Re=re.listener,nt=re.ha||re.src;re.fa&&Ve(c.i,re),z=Re.call(nt,x)!==!1&&z}}return z&&!x.defaultPrevented}function nf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Io(c){c.g=nf(()=>{c.g=null,c.i&&(c.i=!1,Io(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rf extends P{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){P.call(this),this.h=c,this.g={}}w(us,P);var ti=[];function Ft(c){Ne(c.g,function(y,_){this.g.hasOwnProperty(_)&&ls(y)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),Ft(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=f.JSON.stringify,Zt=f.JSON.parse,sf=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Su(){}function Au(){}var tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ni(){O.call(this,"d")}w(ni,O);function jn(){O.call(this,"c")}w(jn,O);var wn={},ri=null;function ca(){return ri=ri||new xt}wn.Ia="serverreachability";function No(c){O.call(this,wn.Ia,c)}w(No,O);function ii(c){const y=ca();Nt(y,new No(y))}wn.STAT_EVENT="statevent";function ha(c,y){O.call(this,wn.STAT_EVENT,c),this.stat=y}w(ha,O);function ht(c){const y=ca();Nt(y,new ha(y,c))}wn.Ja="timingevent";function Ru(c,y){O.call(this,wn.Ja,c),this.size=y}w(Ru,O);function si(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Do(c,y,_,x,z,Q){c.info(function(){if(c.g)if(Q){var re="",Re=Q.split("&");for(let Fe=0;Fe<Re.length;Fe++){var nt=Re[Fe].split("=");if(nt.length>1){const mt=nt[0];nt=nt[1];const hn=mt.split("_");re=hn.length>=2&&hn[1]=="type"?re+(mt+"="+nt+"&"):re+(mt+"=redacted&")}}}else re=null;else re=Q;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+y+`
`+_+`
`+re})}function ko(c,y,_,x,z,Q,re){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+y+`
`+_+`
`+Q+" "+re})}function wr(c,y,_,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+nr(c,_)+(x?" "+x:"")})}function af(c,y){c.info(function(){return"TIMEOUT: "+y})}ai.prototype.info=function(){};function nr(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var _=Q[c];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var z=x[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<x.length;re++)x[re]=""}}}}return Tn(Q)}catch{return y}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xr;function cs(){}w(cs,Su),cs.prototype.g=function(){return new XMLHttpRequest},xr=new cs;function hs(c){return encodeURIComponent(String(c))}function of(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function Un(c,y,_,x){this.j=c,this.i=y,this.l=_,this.S=x||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var fa={},rr={};function ir(c,y,_){c.M=1,c.A=Ar(at(y)),c.u=_,c.R=!0,li(c,null)}function li(c,y){c.F=Date.now(),fs(c),c.B=at(c.A);var _=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),Du(_.i,"t",x),c.C=0,_=c.j.L,c.h=new oi,c.g=Ta(c.j,_?y:null,!c.u),c.P>0&&(c.O=new rf(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,x=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(ti[0]=z.toString()),z=ti);for(let Q=0;Q<z.length;Q++){const re=Ln(_,z[Q],x||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?ee(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ii(),Do(c.i,c.v,c.B,c.l,c.S,c.u)}Un.prototype.ba=function(c){c=c.target;const y=this.O;y&&Gt(c)==3?y.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Gt(this.g),nt=this.g.ya(),Fe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||ws(this.g)))){this.K||Re!=4||nt==7||(nt==8||Fe<=0?ii(3):ii(2)),ar(this);var y=this.g.ca();this.X=y;var _=ui(this);if(this.o=y==200,ko(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var x,z=this.g;if((x=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(x)){var Q=x;break t}}Q=null}if(c=Q)wr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,da(this,c);else{this.o=!1,this.m=3,ht(12),or(this),ds(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<_.length;)if(mt=Cu(this,_),mt==rr){Re==4&&(this.m=4,ht(14),c=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==fa){this.m=4,ht(15),wr(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else wr(this.i,this.l,mt,null),da(this,mt);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||_.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)wr(this.i,this.l,_,"[Invalid Chunked Response]"),or(this),ds(this);else if(_.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),qo(re),re.P=!0,ht(11))}}else wr(this.i,this.l,_,null),da(this,_);Re==4&&or(this),this.o&&!this.K&&(Re==4?Ho(this.j,this):(this.o=!1,fs(this)))}else xs(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),or(this),ds(this)}}}catch{}finally{}};function ui(c){if(!dt(c))return c.g.la();const y=ws(c.g);if(y==="")return"";let _="";const x=y.length,z=Gt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return or(c),ds(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<x;Q++)c.h.h=!0,_+=c.h.i.decode(y[Q],{stream:!(z&&Q==x-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function dt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,y){var _=c.C,x=y.indexOf(`
`,_);return x==-1?rr:(_=Number(y.substring(_,x)),isNaN(_)?fa:(x+=1,x+_>y.length?rr:(y=y.slice(x,x+_),c.C=x+_,y)))}Un.prototype.cancel=function(){this.K=!0,or(this)};function fs(c){c.T=Date.now()+c.H,sr(c,c.H)}function sr(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(p(c.aa,c),y)}function ar(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Un.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(af(this.i,this.B),this.M!=2&&(ii(),ht(17)),or(this),this.m=2,ds(this)):sr(this,this.T-c)};function ds(c){c.j.I==0||c.K||Ho(c.j,c)}function or(c){ar(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ft(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function da(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||ps(_.h,c))){if(!c.L&&ps(_.h,c)&&_.I==3){try{var x=_.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ba(_),lr(_);else break e;Bo(_),ht(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=si(p(_.Va,_),6e3));xn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ir(_,11)}else if((c.L||_.g==c)&&ba(_),!R(y))for(z=_.Ba.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];const mt=Fe[0];if(!(mt<=_.K))if(_.K=mt,Fe=Fe[1],_.I==2)if(Fe[0]=="c"){_.M=Fe[1],_.ba=Fe[2];const hn=Fe[3];hn!=null&&(_.ka=hn,_.j.info("VER="+_.ka));const ur=Fe[4];ur!=null&&(_.za=ur,_.j.info("SVER="+_.za));const qn=Fe[5];qn!=null&&typeof qn=="number"&&qn>0&&(x=1.5*qn,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const Hn=c.g;if(Hn){const Fn=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var Q=x.h;Q.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ma(Q,Q.h),Q.h=null))}if(x.G){const Go=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(x.wa=Go,Ye(x.J,x.G,Go))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var re=c;if(x.na=zu(x,x.L?x.ba:null,x.W),re.L){Sr(x.h,re);var Re=re,nt=x.O;nt&&(Re.H=nt),Re.D&&(ar(Re),fs(Re)),x.g=re}else Pu(x);_.i.length>0&&Cs(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Ir(_,7);else _.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ir(_,7):As(_):Fe[0]!="noop"&&_.l&&_.l.qa(Fe),_.A=0)}}ii(4)}catch{}}var lf=class{constructor(c,y){this.g=c,this.map=y}};function ms(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xn(c){return c.h?1:c.g?c.g.size:0}function ps(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function Sr(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ms.prototype.cancel=function(){if(this.i=ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ga(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return V(c.i)}var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uf(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const x=c[_].indexOf("=");let z,Q=null;x>=0?(z=c[_].substring(0,x),Q=c[_].substring(x+1)):z=c[_],y(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function zn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof zn?(this.l=c.l,ci(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.u),this.h=c.h,hi(this,ku(c.i)),this.m=c.m):c&&(y=String(c).match(pa))?(this.l=!1,ci(this,y[1]||"",!0),this.o=vs(y[2]||""),this.g=vs(y[3]||"",!0),ys(this,y[4]),this.h=vs(y[5]||"",!0),hi(this,y[6]||"",!0),this.m=vs(y[7]||"")):(this.l=!1,this.i=new Sn(null,this.l))}zn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Dt(y,Mo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dt(y,Mo,!0),"@"),c.push(hs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Dt(_,_.charAt(0)=="/"?fi:Vo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Dt(_,Nu)),c.join("")},zn.prototype.resolve=function(c){const y=at(this);let _=!!c.j;_?ci(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var x=c.h;if(_)ys(y,c.u);else if(_=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var z=y.h.lastIndexOf("/");z!=-1&&(x=y.h.slice(0,z+1)+x)}if(z=x,z==".."||z==".")x="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){x=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let re=0;re<z.length;){const Re=z[re++];Re=="."?x&&re==z.length&&Q.push(""):Re==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),x&&re==z.length&&Q.push("")):(Q.push(Re),x=!0)}x=Q.join("/")}else x=z}return _?y.h=x:_=c.i.toString()!=="",_?hi(y,ku(c.i)):_=!!c.m,_&&(y.m=c.m),y};function at(c){return new zn(c)}function ci(c,y,_){c.j=_?vs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function hi(c,y,_){y instanceof Sn?(c.i=y,jo(c.i,c.l)):(_||(y=Dt(y,Iu)),c.i=new Sn(y,c.l))}function Ye(c,y,_){c.i.set(y,_)}function Ar(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dt(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Oo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Oo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,Vo=/[#\?:]/g,fi=/[#\?]/g,Iu=/[#\?@]/g,Nu=/#/g;function Sn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rr(c){c.g||(c.g=new Map,c.h=0,c.i&&uf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Sn.prototype,i.add=function(c,y){Rr(this),this.i=null,c=Bn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Po(c,y){Rr(c),y=Bn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Lo(c,y){return Rr(c),y=Bn(c,y),c.g.has(y)}i.forEach=function(c,y){Rr(this),this.g.forEach(function(_,x){_.forEach(function(z){c.call(y,z,x,this)},this)},this)};function ya(c,y){Rr(c);let _=[];if(typeof y=="string")Lo(c,y)&&(_=_.concat(c.g.get(Bn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}i.set=function(c,y){return Rr(this),this.i=null,c=Bn(this,c),Lo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=ya(this,c),c.length>0?String(c[0]):y):y};function Du(c,y,_){Po(c,y),_.length>0&&(c.i=null,c.g.set(Bn(c,y),V(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var _=y[x];const z=hs(_);_=ya(this,_);for(let Q=0;Q<_.length;Q++){let re=z;_[Q]!==""&&(re+="="+hs(_[Q])),c.push(re)}}return this.i=c.join("&")};function ku(c){const y=new Sn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Bn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function jo(c,y){y&&!c.j&&(Rr(c),c.i=null,c.g.forEach(function(_,x){const z=x.toLowerCase();x!=z&&(Po(this,x),Du(this,z,_))},c)),c.j=y}function Uo(c,y){const _=new ai;if(f.Image){const x=new Image;x.onload=E(Jt,_,"TestLoadImage: loaded",!0,y,x),x.onerror=E(Jt,_,"TestLoadImage: error",!1,y,x),x.onabort=E(Jt,_,"TestLoadImage: abort",!1,y,x),x.ontimeout=E(Jt,_,"TestLoadImage: timeout",!1,y,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function di(c,y){const _=new ai,x=new AbortController,z=setTimeout(()=>{x.abort(),Jt(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(Q=>{clearTimeout(z),Q.ok?Jt(_,"TestPingServer: ok",!0,y):Jt(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Jt(_,"TestPingServer: error",!1,y)})}function Jt(c,y,_,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(_)}catch{}}function Ou(){this.g=new sf}function _s(c){this.i=c.Sb||null,this.h=c.ab||!1}w(_s,Su),_s.prototype.g=function(){return new Es(this.i,this.h)};function Es(c,y){xt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Es,xt),i=Es.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Cr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,en(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mi(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function mi(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?en(this):Cr(this),this.readyState==3&&mi(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,en(this))},i.Na=function(c){this.g&&(this.response=c,en(this))},i.ga=function(){this.g&&en(this)};function en(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Cr(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gi(c){let y="";return Ne(c,function(_,x){y+=x,y+=":",y+=_,y+=`\r
`}),y}function An(c,y,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=gi(_),typeof c=="string"?_!=null&&hs(_):Ye(c,y,_))}function Je(c){xt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,xt);var va=/^https?$/i,Mu=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xr.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){bs(this,Q);return}if(c=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)_.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())_.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Mu,y,void 0)>=0)||x||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,re]of _)this.g.setRequestHeader(Q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){bs(this,Q)}};function bs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ts(c),St(c)}function Ts(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Nt(this,"complete"),Nt(this,"abort"),St(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),St(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?zo(this):this.Xa())},i.Xa=function(){zo(this)};function zo(c){if(c.h&&typeof u<"u"){if(c.v&&Gt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Nt(c,"readystatechange"),Gt(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var x;if(x=Q===0){let re=String(c.D).match(pa)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),x=!va.test(re?re.toLowerCase():"")}_=x}if(_)Nt(c,"complete"),Nt(c,"success");else{c.o=6;try{var z=Gt(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Ts(c)}}finally{St(c)}}}}function St(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Nt(c,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Gt(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Gt(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Zt(y)}};function ws(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(c){const y={};c=(c.g&&Gt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(R(c[x]))continue;var _=of(c[x]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[z]||[];y[z]=Q,Q.push(_)}k(y,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function _a(c){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ss("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ss("baseRetryDelayMs",5e3,c),this.Za=Ss("retryDelaySeedMs",1e4,c),this.Ta=Ss("forwardChannelMaxRetries",2,c),this.va=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ms(c&&c.concurrentRequestLimit),this.Ba=new Ou,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=_a.prototype,i.ka=8,i.I=1,i.connect=function(c,y,_,x){ht(0),this.W=c,this.H=y||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=zu(this,null,this.W),Cs(this)};function As(c){if(Rs(c),c.I==3){var y=c.V++,_=at(c.J);if(Ye(_,"SID",c.M),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),Is(c,_),y=new Un(c,c.j,y),y.M=2,y.A=Ar(at(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Ta(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fs(y)}Uu(c)}function lr(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function Rs(c){lr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ba(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Cs(c){if(!gs(c.h)&&!c.m){c.m=!0;var y=c.Ea;ce||A(),ye||(ce(),ye=!0),N.add(y,c),c.D=0}}function cf(c,y){return xn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(p(c.Ea,c,y),ju(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Un(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=ee(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ea(this,z,y),_=at(this.J),Ye(_,"RID",c),Ye(_,"CVER",22),this.G&&Ye(_,"X-HTTP-Session-Id",this.G),Is(this,_),Q&&(this.R?y="headers="+hs(gi(Q))+"&"+y:this.u&&An(_,this.u,Q)),ma(this.h,z),this.Ra&&Ye(_,"TYPE","init"),this.S?(Ye(_,"$req",y),Ye(_,"SID","null"),z.U=!0,ir(z,_,null)):ir(z,_,y),this.I=2}}else this.I==3&&(c?Vu(this,c):this.i.length==0||gs(this.h)||Vu(this))};function Vu(c,y){var _;y?_=y.l:_=c.V++;const x=at(c.J);Ye(x,"SID",c.M),Ye(x,"RID",_),Ye(x,"AID",c.K),Is(c,x),c.u&&c.o&&An(x,c.u,c.o),_=new Un(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ea(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ma(c.h,_),ir(_,x,y)}function Is(c,y){c.H&&Ne(c.H,function(_,x){Ye(y,x,_)}),c.l&&Ne({},function(_,x){Ye(y,x,_)})}function Ea(c,y,_){_=Math.min(c.i.length,_);const x=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let Re=-1;for(;;){const nt=["count="+_];Re==-1?_>0?(Re=z[0].g,nt.push("ofs="+Re)):Re=0:nt.push("ofs="+Re);let Fe=!0;for(let mt=0;mt<_;mt++){var Q=z[mt].g;const hn=z[mt].map;if(Q-=Re,Q<0)Re=Math.max(0,z[mt].g-100),Fe=!1;else try{Q="req"+Q+"_"||"";try{var re=hn instanceof Map?hn:Object.entries(hn);for(const[ur,qn]of re){let Hn=qn;m(qn)&&(Hn=Tn(qn)),nt.push(Q+ur+"="+encodeURIComponent(Hn))}}catch(ur){throw nt.push(Q+"type="+encodeURIComponent("_badmap")),ur}}catch{x&&x(hn)}}if(Fe){re=nt.join("&");break e}}re=void 0}return c=c.i.splice(0,_),y.G=c,re}function Pu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ce||A(),ye||(ce(),ye=!0),N.add(y,c),c.A=0}}function Bo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(p(c.Da,c),ju(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),lr(this),Lu(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=at(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Is(c,y),c.u&&c.o&&An(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ar(at(y)),_.u=null,_.R=!0,li(_,c)}i.Va=function(){this.C!=null&&(this.C=null,lr(this),Bo(this),ht(19))};function ba(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ho(c,y){var _=null;if(c.g==y){ba(c),qo(c),c.g=null;var x=2}else if(ps(c.h,y))_=y.G,Sr(c.h,y),x=1;else return;if(c.I!=0){if(y.o)if(x==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;x=ca(),Nt(x,new Ru(x,_)),Cs(c)}else Pu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(x==1&&cf(c,y)||x==2&&Bo(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function ju(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Ir(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),x=c.Ua;const z=!x;x=new zn(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ci(x,"https"),Ar(x),z?Uo(x.toString(),_):di(x.toString(),_)}else ht(2);c.I=0,c.l&&c.l.pa(y),Uu(c),Rs(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const y=ga(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function zu(c,y,_){var x=_ instanceof zn?at(_):new zn(_);if(x.g!="")y&&(x.g=y+"."+x.g),ys(x,x.u);else{var z=f.location;x=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Q=new zn(null);x&&ci(Q,x),y&&(Q.g=y),z&&ys(Q,z),_&&(Q.h=_),x=Q}return _=c.G,y=c.wa,_&&y&&Ye(x,_,y),Ye(x,"VER",c.ka),Is(c,x),x}function Ta(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new _s({ab:_})):new Je(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}i=Bu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function wa(){}wa.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){xt.call(this),this.g=new _a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!R(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new pi(this)}w(tn,xt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){As(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=Tn(c),c=_);y.i.push(new lf(y.Ya++,c)),y.I==3&&Cs(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,As(this.g),delete this.g,tn.Z.N.call(this)};function Fo(c){ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}w(Fo,ni);function qu(){jn.call(this),this.status=1}w(qu,jn);function pi(c){this.g=c}w(pi,Bu),pi.prototype.ra=function(){Nt(this.g,"a")},pi.prototype.qa=function(c){Nt(this.g,new Fo(c))},pi.prototype.pa=function(c){Nt(this.g,new qu)},pi.prototype.oa=function(){Nt(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,KE=function(){return new wa},GE=function(){return ca()},FE=wn,Cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,Zc=ft,Lt.COMPLETE="complete",HE=Lt,Au.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",xt.prototype.listen=xt.prototype.J,zl=Au,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,qE=Je}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",Fv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new sg("@firebase/firestore");function Za(){return Zs.logLevel}function ue(i,...e){if(Zs.logLevel<=Pe.DEBUG){const n=e.map(lg);Zs.debug(`Firestore (${bo}): ${i}`,...n)}}function Xr(i,...e){if(Zs.logLevel<=Pe.ERROR){const n=e.map(lg);Zs.error(`Firestore (${bo}): ${i}`,...n)}}function uo(i,...e){if(Zs.logLevel<=Pe.WARN){const n=e.map(lg);Zs.warn(`Firestore (${bo}): ${i}`,...n)}}function lg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,QE(i,s,n)}function QE(i,e,n){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xr(s),new Error(s)}function He(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||QE(e,o,s)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class XS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WS{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ys,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ys)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new YE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class ZS{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JS{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ZS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tA(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(i,e){return i<e?-1:i>e?1:0}function Im(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return mm(o)===mm(u)?Le(o,u):mm(o)?1:-1}return Le(i.length,e.length)}const nA=55296,rA=57343;function mm(i){const e=i.charCodeAt(0);return e>=nA&&e<=rA}function co(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__name__";class gr{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=gr.isNumericId(e),o=gr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(n)):Im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class tt extends gr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const iA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends gr{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return iA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new qt([Kv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(i,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function sA(i,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Qv(i){if(!ge.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Yv(i){if(ge.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function XE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Vh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function Yi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,e){const n={typeString:i};return e&&(n.value=e),n}function mu(i,e){if(!XE(i))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=-62135596800,Xv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Xv);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$v)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Tt("string",rt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new rt(0,0))}static max(){return new Ae(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function aA(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new Xi(o,ge.empty(),e)}function oA(i){return new Xi(i.readTime,i.key,Zl)}class Xi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xi(Ae.min(),ge.empty(),Zl)}static max(){return new Xi(Ae.max(),ge.empty(),Zl)}}function lA(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==uA)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,s)=>{n(e)}))}static reject(e){return new J(((n,s)=>{s(e)}))}static waitFor(e){return new J(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next((o=>o?J.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new J(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new J(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function hA(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function Lh(i){return i==null}function fh(i){return i===0&&1/i==-1/0}function fA(i){return typeof i=="number"&&Number.isInteger(i)&&!fh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="";function dA(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Wv(e)),e=mA(i.get(n),e);return Wv(e)}function mA(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case WE:n+="";break;default:n+=u}}return n}function Wv(i){return i+WE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function rs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ZE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(e){return new Jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class Jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new En([])}unionWith(e){let n=new Ct(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JE("Invalid base64 string: "+u):u}})(e);return new Ht(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const gA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(i){if(He(!!i,39018),typeof i=="string"){let e=0;const n=gA.exec(i);if(He(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zi(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="server_timestamp",tb="__type__",nb="__previous_value__",rb="__local_write_time__";function hg(i){return(i?.mapValue?.fields||{})[tb]?.stringValue===eb}function jh(i){const e=i.mapValue.fields[nb];return hg(e)?jh(e):e}function Jl(i){const e=Wi(i.mapValue.fields[rb].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,s,o,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const dh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="__type__",yA="__max__",Kc={mapValue:{}},sb="__vector__",mh="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hg(i)?4:_A(i)?9007199254740991:vA(i)?10:11:be(28295,{value:i})}function br(i,e){if(i===e)return!0;const n=Ji(i);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jl(i).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wi(o.timestampValue),m=Wi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Zi(o.bytesValue).isEqual(Zi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return co(i.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Zv(f)!==Zv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!br(f[g],m[g])))return!1;return!0})(i,e);default:return be(52216,{left:i})}}function tu(i,e){return(i.values||[]).find((n=>br(n,e)))!==void 0}function ho(i,e){if(i===e)return 0;const n=Ji(i),s=Ji(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),g=yt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return e_(i.timestampValue,e.timestampValue);case 4:return e_(Jl(i),Jl(e));case 5:return Im(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=Zi(u),g=Zi(f);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Le(m[p],g[p]);if(E!==0)return E}return Le(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(yt(u.latitude),yt(f.latitude));return m!==0?m:Le(yt(u.longitude),yt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return t_(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[mh]?.arrayValue,E=g[mh]?.arrayValue,w=Le(p?.values?.length||0,E?.values?.length||0);return w!==0?w:t_(p,E)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const S=Im(g[w],E[w]);if(S!==0)return S;const V=ho(m[g[w]],p[E[w]]);if(V!==0)return V}return Le(g.length,E.length)})(i.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function e_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=Wi(i),s=Wi(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function t_(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function fo(i){return Nm(i)}function Nm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Wi(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Zi(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Nm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"})(i.mapValue):be(61005,{value:i})}function Jc(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(i);return e?16+Jc(e):16;case 5:return 2*i.stringValue.length;case 6:return Zi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Jc(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return rs(s.fields,((u,f)=>{o+=u.length+Jc(f)})),o})(i.mapValue);default:throw be(13486,{value:i})}}function n_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Dm(i){return!!i&&"integerValue"in i}function fg(i){return!!i&&"arrayValue"in i}function r_(i){return!!i&&"nullValue"in i}function i_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function eh(i){return!!i&&"mapValue"in i}function vA(i){return(i?.mapValue?.fields||{})[ib]?.stringValue===sb}function Gl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return rs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Gl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(i.arrayValue.values[n]);return e}return{...i}}function _A(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){rs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new cn(Gl(this.value))}}function ab(i){const e=[];return rs(i.fields,((n,s)=>{const o=new qt([n]);if(eh(s)){const u=ab(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,Ae.min(),Ae.min(),Ae.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,Ae.min(),Ae.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Ae.min(),Ae.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function s_(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=ho(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function a_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!br(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function EA(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{}class bt extends ob{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new TA(e,n,s):n==="array-contains"?new SA(e,s):n==="in"?new AA(e,s):n==="not-in"?new RA(e,s):n==="array-contains-any"?new CA(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wA(e,s):new xA(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends ob{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return lb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lb(i){return i.op==="and"}function ub(i){return bA(i)&&lb(i)}function bA(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function km(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+fo(i.value);if(ub(i))return i.filters.map((e=>km(e))).join(",");{const e=i.filters.map((n=>km(n))).join(",");return`${i.op}(${e})`}}function cb(i,e){return i instanceof bt?(function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&br(s.value,o.value)})(i,e):i instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&cb(f,o.filters[m])),!0):!1})(i,e):void be(19439)}function hb(i){return i instanceof bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(i):i instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(hb).join(" ,")+"}"})(i):"Filter"}class TA extends bt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class wA extends bt{constructor(e,n){super(e,"in",n),this.keys=fb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xA extends bt{constructor(e,n){super(e,"not-in",n),this.keys=fb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fb(i,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class SA extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&tu(n.arrayValue,this.value)}}class AA extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class RA extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class CA extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function o_(i,e=null,n=[],s=[],o=null,u=null,f=null){return new IA(i,e,n,s,o,u,f)}function dg(i){const e=Ce(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>fo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>fo(s))).join(",")),e.Te=n}return e.Te}function mg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!EA(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!cb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!a_(i.startAt,e.startAt)&&a_(i.endAt,e.endAt)}function Om(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NA(i,e,n,s,o,u,f,m){return new xo(i,e,n,s,o,u,f,m)}function gg(i){return new xo(i)}function l_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function db(i){return i.collectionGroup!==null}function Kl(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(qt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nu(u,s))})),n.has(qt.keyField().canonicalString())||e.Ie.push(new nu(qt.keyField(),s))}return e.Ie}function pr(i){const e=Ce(i);return e.Ee||(e.Ee=DA(e,Kl(i))),e.Ee}function DA(i,e){if(i.limitType==="F")return o_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nu(o.field,u)}));const n=i.endAt?new gh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new gh(i.startAt.position,i.startAt.inclusive):null;return o_(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Mm(i,e){const n=i.filters.concat([e]);return new xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Vm(i,e,n){return new xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Uh(i,e){return mg(pr(i),pr(e))&&i.limitType===e.limitType}function mb(i){return`${dg(pr(i))}|lt:${i.limitType}`}function Ja(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>hb(o))).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${s})`})(pr(i))}; limitType=${i.limitType})`}function zh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=s_(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(f,m,g){const p=s_(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Kl(s),o))})(i,e)}function kA(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function gb(i){return(e,n)=>{let s=!1;for(const o of Kl(i)){const u=OA(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function OA(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?ho(g,p):be(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new lt(ge.comparator);function Wr(){return MA}const pb=new lt(ge.comparator);function Bl(...i){let e=pb;for(const n of i)e=e.insert(n.key,n);return e}function yb(i){let e=pb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ks(){return Ql()}function vb(){return Ql()}function Ql(){return new ra((i=>i.toString()),((i,e)=>i.isEqual(e)))}const VA=new lt(ge.comparator),PA=new Ct(ge.comparator);function je(...i){let e=PA;for(const n of i)e=e.add(n);return e}const LA=new Ct(Le);function jA(){return LA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function _b(i){return{integerValue:""+i}}function UA(i,e){return fA(e)?_b(e):pg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function zA(i,e,n){return i instanceof ru?(function(o,u){const f={fields:{[tb]:{stringValue:eb},[rb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hg(u)&&(u=jh(u)),u&&(f.fields[nb]=u),{mapValue:f}})(n,e):i instanceof iu?bb(i,e):i instanceof su?Tb(i,e):(function(o,u){const f=Eb(o,u),m=u_(f)+u_(o.Ae);return Dm(f)&&Dm(o.Ae)?_b(m):pg(o.serializer,m)})(i,e)}function BA(i,e,n){return i instanceof iu?bb(i,e):i instanceof su?Tb(i,e):n}function Eb(i,e){return i instanceof ph?(function(s){return Dm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ru extends Bh{}class iu extends Bh{constructor(e){super(),this.elements=e}}function bb(i,e){const n=wb(e);for(const s of i.elements)n.some((o=>br(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Bh{constructor(e){super(),this.elements=e}}function Tb(i,e){let n=wb(e);for(const s of i.elements)n=n.filter((o=>!br(o,s)));return{arrayValue:{values:n}}}class ph extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function u_(i){return yt(i.integerValue||i.doubleValue)}function wb(i){return fg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.field=e,this.transform=n}}function HA(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof iu&&o instanceof iu||s instanceof su&&o instanceof su?co(s.elements,o.elements,br):s instanceof ph&&o instanceof ph?br(s.Ae,o.Ae):s instanceof ru&&o instanceof ru})(i.transform,e.transform)}class FA{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class qh{}function xb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new yg(i.key,$n.none()):new gu(i.key,i.data,$n.none());{const n=i.data,s=cn.empty();let o=new Ct(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new is(i.key,s,new En(o.toArray()),$n.none())}}function GA(i,e,n){i instanceof gu?(function(o,u,f){const m=o.value.clone(),g=h_(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof is?(function(o,u,f){if(!th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=h_(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(Sb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Yl(i,e,n,s){return i instanceof gu?(function(u,f,m,g){if(!th(u.precondition,f))return m;const p=u.value.clone(),E=f_(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof is?(function(u,f,m,g){if(!th(u.precondition,f))return m;const p=f_(u.fieldTransforms,g,f),E=f.data;return E.setAll(Sb(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(i,e,n,s):(function(u,f,m){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function KA(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Eb(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function c_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,((u,f)=>HA(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Sb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function h_(i,e,n){const s=new Map;He(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,BA(f,m,n[o]))}return s}function f_(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,zA(u,f,e))}return s}class yg extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QA extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&GA(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=xb(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((n,s)=>c_(n,s)))&&co(this.baseMutations,e.baseMutations,((n,s)=>c_(n,s)))}}class vg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return VA})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new vg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,ze;function WA(i){switch(i){case W.OK:return be(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function Ab(i){if(i===void 0)return Xr("GRPC error has no .code"),W.UNKNOWN;switch(i){case Et.OK:return W.OK;case Et.CANCELLED:return W.CANCELLED;case Et.UNKNOWN:return W.UNKNOWN;case Et.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Et.INTERNAL:return W.INTERNAL;case Et.UNAVAILABLE:return W.UNAVAILABLE;case Et.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Et.NOT_FOUND:return W.NOT_FOUND;case Et.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Et.ABORTED:return W.ABORTED;case Et.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Et.DATA_LOSS:return W.DATA_LOSS;default:return be(39323,{code:i})}}(ze=Et||(Et={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Qi([4294967295,4294967295],0);function d_(i){const e=ZA().encode(i),n=new BE;return n.update(e),new Uint8Array(n.digest())}function m_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qi([n,s],0),new Qi([o,u],0)]}class _g{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Qi.fromNumber(s)));return o.compare(JA)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=d_(e),[s,o]=m_(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new _g(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=d_(e),[s,o]=m_(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hh(Ae.min(),o,new lt(Le),Wr(),je())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Rb{constructor(e,n){this.targetId=e,this.Ce=n}}class Cb{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class g_{constructor(){this.ve=0,this.Fe=p_(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=p_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wr(),this.Je=Qc(),this.He=Qc(),this.Ye=new lt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Om(u))if(s===0){const f=new ge(u.path);this.et(n,f,Xt.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Zi(s).toUint8Array()}catch(g){if(g instanceof JE)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new _g(f,o,u)}catch(g){return uo(g instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Om(m.target)){const g=new ge(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Xt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=je();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Hh(e,n,this.Ye,this.je,s);return this.je=Wr(),this.Je=Qc(),this.He=Qc(),this.Ye=new lt(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new g_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new lt(ge.comparator)}function p_(){return new lt(ge.comparator)}const tR={asc:"ASCENDING",desc:"DESCENDING"},nR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rR={and:"AND",or:"OR"};class iR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ib(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function sR(i,e){return yh(i,e.toTimestamp())}function yr(i){return He(!!i,49232),Ae.fromTimestamp((function(n){const s=Wi(n);return new rt(s.seconds,s.nanos)})(i))}function Eg(i,e){return Lm(i,e).canonicalString()}function Lm(i,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Nb(i){const e=tt.fromString(i);return He(Vb(e),10190,{key:e.toString()}),e}function jm(i,e){return Eg(i.databaseId,e.path)}function gm(i,e){const n=Nb(e);if(n.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(kb(n))}function Db(i,e){return Eg(i.databaseId,e)}function aR(i){const e=Nb(i);return e.length===4?tt.emptyPath():kb(e)}function Um(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kb(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function y_(i,e,n){return{name:jm(i,e),fields:n.value.mapValue.fields}}function oR(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(He(E===void 0||typeof E=="string",58123),Ht.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ht.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?W.UNKNOWN:Ab(p.code);return new le(E,p.message||"")})(f);n=new Cb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(i,s.document.name),u=yr(s.document.updateTime),f=s.document.createTime?yr(s.document.createTime):Ae.min(),m=new cn({mapValue:{fields:s.document.fields}}),g=Xt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new nh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gm(i,s.document),u=s.readTime?yr(s.readTime):Ae.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new nh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gm(i,s.document),u=s.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new XA(o,u),m=s.targetId;n=new Rb(m,f)}}return n}function lR(i,e){let n;if(e instanceof gu)n={update:y_(i,e.key,e.value)};else if(e instanceof yg)n={delete:jm(i,e.key)};else if(e instanceof is)n={update:y_(i,e.key,e.data),updateMask:yR(e.fieldMask)};else{if(!(e instanceof QA))return be(16599,{Vt:e.type});n={verify:jm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof ru)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ph)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:sR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(i,e.precondition)),n}function uR(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?yr(o.updateTime):yr(u);return f.isEqual(Ae.min())&&(f=yr(u)),new FA(f,o.transformResults||[])})(n,e)))):[]}function cR(i,e){return{documents:[Db(i,e.path)]}}function hR(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Db(i,o);const u=(function(p){if(p.length!==0)return Mb(Wn.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(S){return{field:eo(S.field),direction:mR(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function fR(i){let e=aR(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const S=Ob(w);return S instanceof Wn&&ub(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((S=>(function(G){return new nu(to(G.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let S;return S=typeof w=="object"?w.value:w,Lh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(w){const S=!!w.before,V=w.values||[];return new gh(V,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const S=!w.before,V=w.values||[];return new gh(V,S)})(n.endAt)),NA(e,o,f,u,m,"F",g,p)}function dR(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ob(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(i):i.fieldFilter!==void 0?(function(n){return bt.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((s=>Ob(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(i):be(30097,{filter:i})}function mR(i){return tR[i]}function gR(i){return nR[i]}function pR(i){return rR[i]}function eo(i){return{fieldPath:i.canonicalString()}}function to(i){return qt.fromServerFormat(i.fieldPath)}function Mb(i){return i instanceof bt?(function(n){if(n.op==="=="){if(i_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(r_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(r_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:gR(n.op),value:n.value}}})(i):i instanceof Wn?(function(n){const s=n.getFilters().map((o=>Mb(o)));return s.length===1?s[0]:{compositeFilter:{op:pR(n.op),filters:s}}})(i):be(54877,{filter:i})}function yR(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Vb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ht.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.yt=e}}function _R(i){const e=fR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.Cn=new bR}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Xi.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class bR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pb=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Pb,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LruGarbageCollector",TR=1048576;function E_([i,e],[n,s]){const o=Le(i,n);return o===0?Le(e,s):o}class wR{constructor(e){this.Ir=e,this.buffer=new Ct(E_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();E_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(__,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ue(__,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.Vr(3e5)}))}}class SR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Ph.ce);const s=new wR(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(v_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(p=Date.now(),Za()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function AR(i,e){return new SR(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.changes=new ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Yl(s.mutation,o,En.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=Ks();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Bl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ks();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Wr();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof is)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Yl(E.mutation,p,E.mutation.getFieldMask(),rt.now())):f.set(p.key,En.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new CR(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new lt(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||En.empty();E=m.applyToLocalView(p,E),s.set(g,E);const w=(o.get(m.batchId)||je()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,w=vb();E.forEach((S=>{if(!u.has(S)){const V=xb(n.get(S),s.get(S));V!==null&&w.set(S,V),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,w))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):db(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Ks());let m=Zl,g=u;return f.next((p=>J.forEach(p,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,je()))).next((E=>({batchId:m,changes:yb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>J.forEach(m,(g=>{const p=(function(w,S){return new xo(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((w,S)=>{f=f.insert(w,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))}));let m=Bl();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Yl(E.mutation,p,En.empty(),rt.now()),zh(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:yr(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:_R(o.bundledQuery),readTime:yr(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.overlays=new lt(ge.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ks();return J.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Ks(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Ks(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Ks(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $A(n,s));let u=this.qr.get(n);u===void 0&&(u=je(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.Qr=new Ct(Vt.$r),this.Ur=new Ct(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new tt([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=je();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Vt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Vt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new YA(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?cg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Le);return n.forEach((o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new ge(u),0);let m=new Ct(Le);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.ri=e,this.docs=(function(){return new lt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=Wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Wr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||lA(oA(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new VR(this)}getSize(e){return J.resolve(this.size)}}class VR extends RR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.persistence=e,this.si=new ra((n=>dg(n)),mg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new bg,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new kR,this.referenceDelegate=e(this),this.Pi=new PR(this),this.indexManager=new ER,this.remoteDocumentCache=(function(o){return new MR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new vR(n),this.Ii=new NR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new OR(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new LR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class LR extends cA{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new bg,this.Vi=null}static mi(e){return new Tg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.pi=new ra((s=>dA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=AR(this,n)}static mi(e,n){return new vh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?J.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Sx()?8:hA(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new jR;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Za()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Za()<=Pe.DEBUG&&ue("QueryEngine","Query:",Ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Za()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):J.resolve())}ys(e,n){if(l_(n))return J.resolve(null);let s=pr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),s=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=je(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,Vm(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return l_(n)||o.isEqual(Ae.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(Za()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.vs(e,f,n,aA(o,Zl)).next((m=>m)))}))}Ds(e,n){let s=new Ct(gb(e));return n.forEach(((o,u)=>{zh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Za()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ps.getDocumentsMatchingQuery(e,n,Xi.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LocalStore",zR=3e8;class BR{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Le),this.xs=new ra((u=>dg(u)),mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qR(i,e,n,s){return new BR(i,e,n,s)}async function jb(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=je();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function HR(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const w=p.batch,S=w.keys();let V=J.resolve();return S.forEach((G=>{V=V.next((()=>E.getEntry(g,G))).next((Y=>{const F=p.docVersions.get(G);He(F!==null,48541),Y.version.compareTo(F)<0&&(w.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(g,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=je();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Ub(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function FR(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w))));let V=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(Ht.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(w,V),(function(Y,F,ne){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=zR?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,V,E)&&m.push(n.Pi.updateTargetData(u,V))}));let g=Wr(),p=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(GR(u,f,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function GR(i,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=Wr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ue(xg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function KR(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function QR(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new qi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function zm(i,e,n){const s=Ce(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;ue(xg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function b_(i,e,n){const s=Ce(i);let o=Ae.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const w=Ce(g),S=w.xs.get(E);return S!==void 0?J.resolve(w.Ms.get(S)):w.Pi.getTargetData(p,E)})(s,f,pr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:je()))).next((m=>(YR(s,kA(e),m),{documents:m,Qs:u})))))}function YR(i,e,n){let s=i.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class T_{constructor(){this.activeTargetIds=jA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $R{constructor(){this.Mo=new T_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new T_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(w_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(w_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Bm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="RestConnection",WR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Bm(),m=this.zo(e,n.toUriEncodedString());ue(pm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=_o(p);return this.Jo(e,m,g,s,E).then((w=>(ue(pm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw uo(pm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=WR[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class eC extends ZR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Bm();return new Promise(((m,g)=>{const p=new qE;p.setWithCredentials(!0),p.listenOnce(HE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const w=p.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Zc.TIMEOUT:ue(Yt,`RPC '${e}' ${f} timed out`),g(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const S=p.getStatus();if(ue(Yt,`RPC '${e}' ${f} failed with status:`,S,"response text:",p.getResponseText()),S>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const G=V?.error;if(G&&G.status&&G.message){const Y=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(te)>=0?te:W.UNKNOWN})(G.status);g(new le(Y,G.message))}else g(new le(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le(W.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Yt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(Yt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Bm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=KE(),m=GE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=f.createWebChannel(E,g);this.I_(w);let S=!1,V=!1;const G=new JR({Yo:F=>{V?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Zo:()=>w.close()}),Y=(F,ne,te)=>{F.listen(ne,(ie=>{try{te(ie)}catch(xe){setTimeout((()=>{throw xe}),0)}}))};return Y(w,zl.EventType.OPEN,(()=>{V||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),Y(w,zl.EventType.CLOSE,(()=>{V||(V=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(w))})),Y(w,zl.EventType.ERROR,(F=>{V||(V=!0,uo(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),G.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),Y(w,zl.EventType.MESSAGE,(F=>{if(!V){const ne=F.data[0];He(!!ne,16349);const te=ne,ie=te?.error||te[0]?.error;if(ie){ue(Yt,`RPC '${e}' stream ${o} received error:`,ie);const xe=ie.status;let ce=(function(A){const C=Et[A];if(C!==void 0)return Ab(C)})(xe),ye=ie.message;ce===void 0&&(ce=W.INTERNAL,ye="Unknown error status: "+xe+" with message "+ie.message),V=!0,G.a_(new le(ce,ye)),w.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,ne),G.u_(ne)}})),Y(m,FE.STAT_EVENT,(F=>{F.stat===Cm.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Cm.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(i){return new iR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="PersistentStream";class Bb{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(S_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(S_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tC extends Bb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oR(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?yr(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Um(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Om(g)?{documents:cR(u,g)}:{query:hR(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ib(u,f.resumeToken);const p=Pm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const p=Pm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=dR(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.q_(n)}}class nC extends Bb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uR(e.writeResults,e.commitTime),s=yr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Um(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>lR(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{}class iC extends rC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Lm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Lm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class aC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ia(this)&&(ue(Js,"Restarting streams for network reachability change."),await(async function(g){const p=Ce(g);p.Ea.add(4),await yu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Gh(p)})(this))}))})),this.Ra=new sC(s,o)}}async function Gh(i){if(ia(i))for(const e of i.da)await e(!0)}async function yu(i){for(const e of i.da)await e(!1)}function qb(i,e){const n=Ce(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cg(n)?Rg(n):So(n).O_()&&Ag(n,e))}function Sg(i,e){const n=Ce(i),s=So(n);n.Ia.delete(e),s.O_()&&Hb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ia(n)&&n.Ra.set("Unknown"))}function Ag(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(i).Y_(e)}function Hb(i,e){i.Va.Ue(e),So(i).Z_(e)}function Rg(i){i.Va=new eR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),So(i).start(),i.Ra.ua()}function Cg(i){return ia(i)&&!So(i).x_()&&i.Ia.size>0}function ia(i){return Ce(i).Ea.size===0}function Fb(i){i.Va=void 0}async function oC(i){i.Ra.set("Online")}async function lC(i){i.Ia.forEach(((e,n)=>{Ag(i,e)}))}async function uC(i,e){Fb(i),Cg(i)?(i.Ra.ha(e),Rg(i)):i.Ra.set("Unknown")}async function cC(i,e,n){if(i.Ra.set("Online"),e instanceof Cb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _h(i,s)}else if(e instanceof nh?i.Va.Ze(e):e instanceof Rb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Ub(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),Hb(u,g);const w=new qi(E.target,g,p,E.sequenceNumber);Ag(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(Js,"Failed to raise snapshot:",s),await _h(i,s)}}async function _h(i,e,n){if(!wo(e))throw e;i.Ea.add(1),await yu(i),i.Ra.set("Offline"),n||(n=()=>Ub(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Js,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Gh(i)}))}function Gb(i,e){return e().catch((n=>_h(i,n,e)))}async function Kh(i){const e=Ce(i),n=es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cg;for(;hC(e);)try{const o=await KR(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,fC(e,o)}catch(o){await _h(e,o)}Kb(e)&&Qb(e)}function hC(i){return ia(i)&&i.Ta.length<10}function fC(i,e){i.Ta.push(e);const n=es(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Kb(i){return ia(i)&&!es(i).x_()&&i.Ta.length>0}function Qb(i){es(i).start()}async function dC(i){es(i).ra()}async function mC(i){const e=es(i);for(const n of i.Ta)e.ea(n.mutations)}async function gC(i,e,n){const s=i.Ta.shift(),o=vg.from(s,e,n);await Gb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Kh(i)}async function pC(i,e){e&&es(i).X_&&await(async function(s,o){if((function(f){return WA(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();es(s).B_(),await Gb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Kh(s)}})(i,e),Kb(i)&&Qb(i)}async function A_(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),ue(Js,"RemoteStore received new credentials");const s=ia(n);n.Ea.add(3),await yu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function yC(i,e){const n=Ce(i);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await yu(n),n.Ra.set("Unknown"))}function So(i){return i.ma||(i.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new tC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:oC.bind(null,i),t_:lC.bind(null,i),r_:uC.bind(null,i),H_:cC.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Cg(i)?Rg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Fb(i))}))),i.ma}function es(i){return i.fa||(i.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new nC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:dC.bind(null,i),r_:pC.bind(null,i),ta:mC.bind(null,i),na:gC.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Kh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Js,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ig(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(i,e){if(Xr("AsyncQueue",`${e}: ${i}`),wo(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.ga=new lt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class go{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new go(e,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _C{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=C_(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function C_(){return new ra((i=>mb(i)),Uh)}async function EC(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new vC,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ng(f,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Dg(n)}async function bC(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TC(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Dg(n)}function wC(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Dg(i){i.Ca.forEach((e=>{e.next()}))}var qm,I_;(I_=qm||(qm={})).Ma="default",I_.Cache="cache";class xC{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.key=e}}class $b{constructor(e){this.key=e}}class SC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=gb(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new R_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const S=o.get(E),V=zh(this.query,w)?w:null,G=!!S&&this.mutatedKeys.has(S.key),Y=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;S&&V?S.data.isEqual(V.data)?G!==Y&&(s.track({type:3,doc:V}),F=!0):this.su(S,V)||(s.track({type:2,doc:V}),F=!0,(g&&this.eu(V,g)>0||p&&this.eu(V,p)<0)&&(m=!0)):!S&&V?(s.track({type:0,doc:V}),F=!0):S&&!V&&(s.track({type:1,doc:S}),F=!0,(g||p)&&(m=!0)),F&&(V?(f=f.add(V),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(V,G){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:F})}};return Y(V)-Y(G)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new go(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new $b(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Yb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kg="SyncEngine";class AC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RC{constructor(e){this.key=e,this.hu=!1}}class CC{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ra((m=>mb(m)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ge.comparator),this.Au=new Map,this.Ru=new bg,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IC(i,e,n=!0){const s=tT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Xb(s,e,n,!0),o}async function NC(i,e){const n=tT(i);await Xb(n,e,!0,!1)}async function Xb(i,e,n,s){const o=await QR(i.localStore,pr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await DC(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&qb(i.remoteStore,o),m}async function DC(i,e,n,s,o){i.pu=(w,S,V)=>(async function(Y,F,ne,te){let ie=F.view.ru(ne);ie.Cs&&(ie=await b_(Y.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,ie))));const xe=te&&te.targetChanges.get(F.targetId),ce=te&&te.targetMismatches.get(F.targetId)!=null,ye=F.view.applyChanges(ie,Y.isPrimaryClient,xe,ce);return D_(Y,F.targetId,ye.au),ye.snapshot})(i,w,S,V);const u=await b_(i.localStore,e,!0),f=new SC(e,u.Qs),m=f.ru(u.documents),g=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=f.applyChanges(m,i.isPrimaryClient,g);D_(i,n,p.au);const E=new AC(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function kC(i,e,n){const s=Ce(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Uh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sg(s.remoteStore,o.targetId),Hm(s,o.targetId)})).catch(To)):(Hm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function OC(i,e){const n=Ce(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(n.remoteStore,s.targetId))}async function MC(i,e,n){const s=BC(i);try{const o=await(function(f,m){const g=Ce(f),p=rt.now(),E=m.reduce(((V,G)=>V.add(G.key)),je());let w,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let G=Wr(),Y=je();return g.Ns.getEntries(V,E).next((F=>{G=F,G.forEach(((ne,te)=>{te.isValidDocument()||(Y=Y.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,G))).next((F=>{w=F;const ne=[];for(const te of m){const ie=KA(te,w.get(te.key).overlayedDocument);ie!=null&&ne.push(new is(te.key,ie,ab(ie.value.mapValue),$n.exists(!0)))}return g.mutationQueue.addMutationBatch(V,p,ne,m)})).next((F=>{S=F;const ne=F.applyToLocalDocumentSet(w,Y);return g.documentOverlayCache.saveOverlays(V,F.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:yb(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new lt(Le)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await vu(s,o.changes),await Kh(s.remoteStore)}catch(o){const u=Ng(o,"Failed to persist write");n.reject(u)}}async function Wb(i,e){const n=Ce(i);try{const s=await FR(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))})),await vu(n,s,e)}catch(s){await To(s)}}function N_(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ce(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,w)=>{for(const S of w.Sa)S.va(m)&&(p=!0)})),p&&Dg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VC(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new lt(ge.comparator);f=f.insert(u,Xt.newNoDocument(u,Ae.min()));const m=je().add(u),g=new Hh(Ae.min(),new Map,new lt(Le),f,m);await Wb(s,g),s.du=s.du.remove(u),s.Au.delete(e),Og(s)}else await zm(s.localStore,e,!1).then((()=>Hm(s,e,n))).catch(To)}async function PC(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await HR(n.localStore,e);Jb(n,s,null),Zb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await To(o)}}async function LC(i,e,n){const s=Ce(i);try{const o=await(function(f,m){const g=Ce(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((w=>(He(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(p,w)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);Jb(s,e,n),Zb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await vu(s,o)}catch(o){await To(o)}}function Zb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Jb(i,e,n){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Hm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||eT(i,s)}))}function eT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Sg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Og(i))}function D_(i,e,n){for(const s of n)s instanceof Yb?(i.Ru.addReference(s.key,e),jC(i,s)):s instanceof $b?(ue(kg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||eT(i,s.key)):be(19791,{wu:s})}function jC(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(kg,"New document in limbo: "+n),i.Eu.add(s),Og(i))}function Og(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new RC(n)),i.du=i.du.insert(n,s),qb(i.remoteStore,new qi(pr(gg(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function vu(i,e,n){const s=Ce(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=wg.As(g.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,p){const E=Ce(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(p,(S=>J.forEach(S.Es,(V=>E.persistence.referenceDelegate.addReference(w,S.targetId,V))).next((()=>J.forEach(S.ds,(V=>E.persistence.referenceDelegate.removeReference(w,S.targetId,V)))))))))}catch(w){if(!wo(w))throw w;ue(xg,"Failed to update sequence numbers: "+w)}for(const w of p){const S=w.targetId;if(!w.fromCache){const V=E.Ms.get(S),G=V.snapshotVersion,Y=V.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(S,Y)}}})(s.localStore,u))}async function UC(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){ue(kg,"User change. New user:",e.toKey());const s=await jb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Ls)}}function zC(i,e){const n=Ce(i),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function tT(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VC.bind(null,e),e.Pu.H_=TC.bind(null,e.eventManager),e.Pu.yu=wC.bind(null,e.eventManager),e}function BC(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LC.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qR(this.persistence,new UR,e.initialUser,this.serializer)}Cu(e){return new Lb(Tg.mi,this.serializer)}Du(e){return new $R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class qC extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xR(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Lb((s=>vh.mi(s,n)),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>N_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UC.bind(null,this.syncEngine),await yC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _C})()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),s=(function(u){return new eC(u)})(e.databaseInfo);return(function(u,f,m,g){return new iC(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new aC(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>N_(this.syncEngine,n,0)),(function(){return x_.v()?new x_:new XR})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,E){const w=new CC(o,u,f,m,g,p);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);ue(Js,"RemoteStore shutting down."),s.Ea.add(5),await yu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class FC{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ng(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function vm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await jb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function k_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await GC(i);ue(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>A_(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>A_(e.remoteStore,o))),i._onlineComponents=e}async function GC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ts,"Using user provided OfflineComponentProvider");try{await vm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await vm(i,new Eh)}}else ue(ts,"Using default OfflineComponentProvider"),await vm(i,new qC(void 0));return i._offlineComponents}async function nT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ts,"Using user provided OnlineComponentProvider"),await k_(i,i._uninitializedComponentsProvider._online)):(ue(ts,"Using default OnlineComponentProvider"),await k_(i,new Fm))),i._onlineComponents}function KC(i){return nT(i).then((e=>e.syncEngine))}async function O_(i){const e=await nT(i),n=e.eventManager;return n.onListen=IC.bind(null,e.syncEngine),n.onUnlisten=kC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="firestore.googleapis.com",V_=!0;class P_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iT,this.ssl=V_}else this.host=e.host,this.ssl=e.ssl??V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TR)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new $S;switch(s.type){case"firstParty":return new JS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=M_.get(n);s&&(ue("ComponentProvider","Removing Datastore"),M_.delete(n),s.terminate())})(this),Promise.resolve()}}function QC(i,e,n,s={}){i=Yi(i,Qh);const o=_o(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(NE(`https://${m}`),DE("Firestore",!0)),u.host!==iT&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Xs(g,f)&&(i._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=$t.MOCK_USER;else{p=px(s.mockUserToken,i._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(w)}i._authCredentials=new XS(new YE(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(mu(n,wt._jsonSchema))return new wt(e,s||null,new ge(tt.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Tt("string",wt._jsonSchemaVersion),referencePath:Tt("string")};class $i extends sa{constructor(e,n,s){super(e,n,gg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new ge(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function bh(i,e,...n){if(i=It(i),$E("collection","path",e),i instanceof Qh){const s=tt.fromString(e,...n);return Yv(s),new $i(i,null,s)}{if(!(i instanceof wt||i instanceof $i))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return Yv(s),new $i(i.firestore,null,s)}}function au(i,e,...n){if(i=It(i),arguments.length===1&&(e=ug.newId()),$E("doc","path",e),i instanceof Qh){const s=tt.fromString(e,...n);return Qv(s),new wt(i,null,new ge(s))}{if(!(i instanceof wt||i instanceof $i))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return Qv(s),new wt(i.firestore,i instanceof $i?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zb(this,"async_queue_retry"),this._c=()=>{const s=ym();s&&ue(L_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ue(L_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",U_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ig.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:U_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function U_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class po extends Qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new j_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function YC(i,e){const n=typeof i=="object"?i:VE(),s=typeof i=="string"?i:dh,o=og(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=mx("firestore");u&&QC(o,...u)}return o}function sT(i){if(i._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$C(i),i._firestoreClient}function $C(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new pA(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,rT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new FC(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ht.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Tt("string",Mn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(mu(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:Tt("string",vr._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _r(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:Tt("string",_r._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/^__.*__$/;class WC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class aT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:i})}}class Mg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&XC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(e)}Cc(e,n,s,o=!1){return new Mg({Ac:e,methodName:n,Dc:s,path:qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vg(i){const e=i._freezeSettings(),n=Fh(i._databaseId);return new ZC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function JC(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Lg("Data must be an object, but it was:",f,s);const m=lT(s,f);let g,p;if(u.merge)g=new En(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=Gm(e,w,n);if(!f.contains(S))throw new le(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);cT(E,S)||E.push(S)}g=new En(E),p=f.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,p=f.fieldTransforms;return new WC(new cn(m),g,p)}class Xh extends $h{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}class Pg extends $h{_toFieldTransform(e){return new qA(e.path,new ru)}isEqual(e){return e instanceof Pg}}function eI(i,e,n,s){const o=i.Cc(1,e,n);Lg("Data must be an object, but it was:",o,s);const u=[],f=cn.empty();rs(s,((g,p)=>{const E=jg(e,g,n);p=It(p);const w=o.yc(E);if(p instanceof Xh)u.push(E);else{const S=_u(p,w);S!=null&&(u.push(E),f.set(E,S))}}));const m=new En(u);return new aT(f,m,o.fieldTransforms)}function tI(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[Gm(e,s,n)],g=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Gm(e,u[S])),g.push(u[S+1]);const p=[],E=cn.empty();for(let S=m.length-1;S>=0;--S)if(!cT(p,m[S])){const V=m[S];let G=g[S];G=It(G);const Y=f.yc(V);if(G instanceof Xh)p.push(V);else{const F=_u(G,Y);F!=null&&(p.push(V),E.set(V,F))}}const w=new En(p);return new aT(E,w,f.fieldTransforms)}function nI(i,e,n,s=!1){return _u(n,i.Cc(s?4:3,e))}function _u(i,e){if(uT(i=It(i)))return Lg("Unsupported field value:",e,i),lT(i,e);if(i instanceof $h)return(function(s,o){if(!oT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=_u(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return UA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof vr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:Ib(o.serializer,s._byteString)};if(s instanceof wt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _r)return(function(f,m){return{mapValue:{fields:{[ib]:{stringValue:sb},[mh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return pg(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Vh(s)}`)})(i,e)}function lT(i,e){const n={};return ZE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(i,((s,o)=>{const u=_u(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function uT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof vr||i instanceof Mn||i instanceof wt||i instanceof $h||i instanceof _r)}function Lg(i,e,n){if(!uT(n)||!XE(n)){const s=Vh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Gm(i,e,n){if((e=It(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return jg(i,e);throw Th("Field path arguments must be of type string or ",i,!1,void 0,n)}const rI=new RegExp("[~\\*/\\[\\]]");function jg(i,e,n){if(e.search(rI)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Yh(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Th(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new le(W.INVALID_ARGUMENT,m+i+g)}function cT(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iI extends hT{data(){return super.data()}}function Ug(i,e){return typeof e=="string"?jg(i,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class fT extends zg{}function dT(i,e,...n){let s=[];e instanceof zg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof qg)).length,m=u.filter((g=>g instanceof Bg)).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Bg extends fT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Bg(e,n,s)}_apply(e){const n=this._parse(e);return gT(e._query,n),new sa(e.firestore,e.converter,Mm(e._query,n))}_parse(e){const n=Vg(e.firestore);return(function(u,f,m,g,p,E,w){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){q_(w,E);const G=[];for(const Y of w)G.push(B_(g,u,Y));S={arrayValue:{values:G}}}else S=B_(g,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||q_(w,E),S=nI(m,f,w,E==="in"||E==="not-in");return bt.create(p,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qg extends zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)gT(f,g),f=Mm(f,g)})(e._query,n),new sa(e.firestore,e.converter,Mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hg extends fT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(u,f)})(e._query,this._field,this._direction);return new sa(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new xo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function mT(i,e="asc"){const n=e,s=Ug("orderBy",i);return Hg._create(s,n)}function B_(i,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!db(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return n_(i,new ge(s))}if(n instanceof wt)return n_(i,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function q_(i,e){if(!Array.isArray(i)||i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gT(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aI{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return rs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[mh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new _r(n)}convertGeoPoint(e){return new vr(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(Vb(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||Xr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends hT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ug("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Tt("string",$s._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class rh extends $s{data(e={}){return super.data(e)}}class io{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:lI(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Tt("string",io._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class pT extends aI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function yT(i,e,n,...s){i=Yi(i,wt);const o=Yi(i.firestore,po),u=Vg(o);let f;return f=typeof(e=It(e))=="string"||e instanceof Yh?tI(u,"updateDoc",i._key,e,n,s):eI(u,"updateDoc",i._key,e),Fg(o,[f.toMutation(i._key,$n.exists(!0))])}function vT(i){return Fg(Yi(i.firestore,po),[new yg(i._key,$n.none())])}function _T(i,e){const n=Yi(i.firestore,po),s=au(i),o=oI(i.converter,e);return Fg(n,[JC(Vg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then((()=>s))}function ET(i,...e){i=It(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||z_(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(z_(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,m;if(i instanceof wt)f=Yi(i.firestore,po),m=gg(i._key.path),u={next:g=>{e[s]&&e[s](uI(f,i,g))},error:e[s+1],complete:e[s+2]};else{const g=Yi(i,sa);f=Yi(g.firestore,po),m=g._query;const p=new pT(f);u={next:E=>{e[s]&&e[s](new io(f,p,g,E))},error:e[s+1],complete:e[s+2]},sI(i._query)}return(function(p,E,w,S){const V=new HC(S),G=new xC(E,V,w);return p.asyncQueue.enqueueAndForget((async()=>EC(await O_(p),G))),()=>{V.Nu(),p.asyncQueue.enqueueAndForget((async()=>bC(await O_(p),G)))}})(sT(f),m,o,u)}function Fg(i,e){return(function(s,o){const u=new Ys;return s.asyncQueue.enqueueAndForget((async()=>MC(await KC(s),o,u))),u.promise})(sT(i),e)}function uI(i,e,n){const s=n.docs.get(e._key),o=new pT(i);return new $s(i,o,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}function wh(){return new Pg("serverTimestamp")}(function(e,n=!0){(function(o){bo=o})(Eo),lo(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new po(new WS(s.getProvider("auth-internal")),new eA(f,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ki(Hv,Fv,e),Ki(Hv,Fv,"esm2020")})();function bT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cI=bT,TT=new fu("auth","Firebase",bT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new sg("@firebase/auth");function hI(i,...e){xh.logLevel<=Pe.WARN&&xh.warn(`Auth (${Eo}): ${i}`,...e)}function ih(i,...e){xh.logLevel<=Pe.ERROR&&xh.error(`Auth (${Eo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(i,...e){throw Kg(i,...e)}function Xn(i,...e){return Kg(i,...e)}function Gg(i,e,n){const s={...cI(),[e]:n};return new fu("auth","Firebase",s).create(e,{appName:i.name})}function Qr(i){return Gg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Pn(i,"argument-error"),Gg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return TT.create(i,...e)}function Ee(i,e,...n){if(!i)throw Kg(e,...n)}function Fr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ih(e),new Error(e)}function Zr(i,e){i||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){return typeof self<"u"&&self.location?.href||""}function dI(){return H_()==="http:"||H_()==="https:"}function H_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dI()||Tx()||"connection"in navigator)?navigator.onLine:!0}function gI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=_x()||wx()}get(){return mI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(i,e){Zr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vI=new Eu(3e4,6e4);function ss(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function as(i,e,n,s,o={}){return xT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=du({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return bx()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&_o(i.emulatorConfig.host)&&(p.credentials="include"),wT.fetch()(await ST(i,i.config.apiHost,n,m),p)})}async function xT(i,e,n){i._canInitEmulator=!1;const s={...pI,...e};try{const o=new EI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw $c(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw $c(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw $c(i,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Gg(i,E,p);Pn(i,E)}}catch(o){if(o instanceof er)throw o;Pn(i,"network-request-failed",{message:String(o)})}}async function bu(i,e,n,s,o={}){const u=await as(i,e,n,s,o);return"mfaPendingCredential"in u&&Pn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ST(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Qg(i.config,o):`${i.config.apiScheme}://${o}`;return yI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function _I(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),vI.get())})}}function $c(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Xn(i,e,s);return o.customData._tokenResponse=n,o}function F_(i){return i!==void 0&&i.enterprise!==void 0}class bI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _I(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TI(i,e){return as(i,"GET","/v2/recaptchaConfig",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,e){return as(i,"POST","/v1/accounts:delete",e)}async function Sh(i,e){return as(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xI(i,e=!1){const n=It(i),s=await n.getIdToken(e),o=Yg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:$l(_m(o.auth_time)),issuedAtTime:$l(_m(o.iat)),expirationTime:$l(_m(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function _m(i){return Number(i)*1e3}function Yg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=AE(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function G_(i){const e=Yg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof er&&SI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function SI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(i){const e=i.auth,n=await i.getIdToken(),s=await ou(i,Sh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?AT(o.providerUserInfo):[],f=CI(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function RI(i){const e=It(i);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function AT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(i,e){const n=await xT(i,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await ST(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&_o(i.emulatorConfig.host)&&(g.credentials="include"),wT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NI(i,e){return as(i,"POST","/v2/accounts:revokeToken",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=G_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await II(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new AI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xI(this,e)}reload(){return RI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await ou(this,wI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:V,providerData:G,stsTokenManager:Y}=n;Ee(w&&Y,e,"internal-error");const F=so.fromJSON(this.name,Y);Ee(typeof w=="string",e,"internal-error"),ji(s,e.name),ji(o,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof V=="boolean",e,"internal-error"),ji(u,e.name),ji(f,e.name),ji(m,e.name),ji(g,e.name),ji(p,e.name),ji(E,e.name);const ne=new Yn({uid:w,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(ne.providerData=G.map(te=>({...te}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?AT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new so;m.updateFromIdToken(s);const g=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function Gr(i){Zr(i instanceof Function,"Expected a class definition");let e=K_.get(i);return e?(Zr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,K_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RT.type="NONE";const Q_=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(i,e,n){return`firebase:${i}:${e}:${n}`}class ao{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ao(Gr(Q_),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Gr(Q_);const f=sh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let w;if(typeof E=="string"){const S=await Sh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Yn._fromGetAccountInfoResponse(e,S,E)}else w=Yn._fromJSON(e,E);p!==u&&(m=w),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ao(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OT(e))return"Blackberry";if(MT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||NT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function CT(i=Wt()){return/firefox\//i.test(i)}function IT(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NT(i=Wt()){return/crios\//i.test(i)}function DT(i=Wt()){return/iemobile/i.test(i)}function kT(i=Wt()){return/android/i.test(i)}function OT(i=Wt()){return/blackberry/i.test(i)}function MT(i=Wt()){return/webos/i.test(i)}function $g(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function DI(i=Wt()){return $g(i)&&!!window.navigator?.standalone}function kI(){return xx()&&document.documentMode===10}function VT(i=Wt()){return $g(i)||kT(i)||MT(i)||OT(i)||/windows phone/i.test(i)||DT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(i,e=[]){let n;switch(i){case"Browser":n=Y_(Wt());break;case"Worker":n=`${Y_(Wt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,e={}){return as(i,"GET","/v2/passwordPolicy",ss(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=6;class PI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??VI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new OI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Qr(this));const n=e?It(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MI(this),n=new PI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function os(i){return It(i)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=kx(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jI(i){Wh=i}function LT(i){return Wh.loadJS(i)}function UI(){return Wh.recaptchaEnterpriseScript}function zI(){return Wh.gapiScript}function BI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class qI{constructor(){this.enterprise=new HI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FI="recaptcha-enterprise",jT="NO_RECAPTCHA";class GI{constructor(e){this.type=FI,this.auth=os(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{TI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new bI(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;F_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(jT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&F_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=UI();g.length!==0&&(g+=m),LT(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function X_(i,e,n,s=!1,o=!1){const u=new GI(i);let f;if(o)f=jT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ym(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await X_(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await X_(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(i,e){const n=og(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return o;Pn(o,"already-initialized")}return n.initialize({options:e})}function QI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Gr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function YI(i,e,n){const s=os(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=UT(e),{host:f,port:m}=$I(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Xs(p,s.config.emulator)&&Xs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_o(f)?(NE(`${u}//${f}${g}`),DE("Auth",!0)):XI()}function UT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function $I(i){const e=UT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:W_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:W_(f)}}}function W_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function XI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function WI(i,e){return as(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(i,e){return bu(i,"POST","/v1/accounts:signInWithPassword",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(i,e){return bu(i,"POST","/v1/accounts:signInWithEmailLink",ss(i,e))}async function eN(i,e){return bu(i,"POST","/v1/accounts:signInWithEmailLink",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Xg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",ZI);case"emailLink":return JI(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,s,"signUpPassword",WI);case"emailLink":return eN(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(i,e){return bu(i,"POST","/v1/accounts:signInWithIdp",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="http://localhost";class ea extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:tN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rN(i){const e=jl(Ul(i)).link,n=e?jl(Ul(e)).deep_link_id:null,s=jl(Ul(i)).deep_link_id;return(s?jl(Ul(s)).link:null)||s||n||e||i}class Wg{constructor(e){const n=jl(Ul(e)),s=n.apiKey??null,o=n.oobCode??null,u=nN(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rN(e);try{return new Wg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Wg.parseLink(n);return Ee(s,"argument-error"),lu._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Zg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Tu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Tu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Tu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(i,e){return bu(i,"POST","/v1/accounts:signUp",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),f=Z_(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Z_(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Z_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends er{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Rh(e,n,s,o)}}function zT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,u,e,s):u})}async function sN(i,e,n=!1){const s=await ou(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(i,e,n=!1){const{auth:s}=i;if(_n(s.app))return Promise.reject(Qr(s));const o="reauthenticate";try{const u=await ou(i,zT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=Yg(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Pn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(i,e,n=!1){if(_n(i.app))return Promise.reject(Qr(i));const s="signIn",o=await zT(i,s,e),u=await ta._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function oN(i,e){return BT(os(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(i){const e=os(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lN(i,e,n){if(_n(i.app))return Promise.reject(Qr(i));const s=os(i),f=await Ym(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&qT(i),g}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function uN(i,e,n){return _n(i.app)?Promise.reject(Qr(i)):oN(It(i),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&qT(i),s})}function cN(i,e,n,s){return It(i).onIdTokenChanged(e,n,s)}function hN(i,e,n){return It(i).beforeAuthStateChanged(e,n)}function fN(i,e,n,s){return It(i).onAuthStateChanged(e,n,s)}function dN(i){return It(i).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1e3,gN=10;class FT extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);kI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FT.type="LOCAL";const pN=FT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GT.type="SESSION";const KT=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await yN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Jg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function _N(i){Er().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function EN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bN(){return navigator?.serviceWorker?.controller||null}function TN(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",wN=1,Ih="firebaseLocalStorage",$T="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(i,e){return i.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function xN(){const i=indexedDB.deleteDatabase(YT);return new wu(i).toPromise()}function $m(){const i=indexedDB.open(YT,wN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ih,{keyPath:$T})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await xN(),e(await $m()))})})}async function J_(i,e,n){const s=Jh(i,!0).put({[$T]:e,value:n});return new wu(s).toPromise()}async function SN(i,e){const n=Jh(i,!1).get(e),s=await new wu(n).toPromise();return s===void 0?null:s.value}function eE(i,e){const n=Jh(i,!0).delete(e);return new wu(n).toPromise()}const AN=800,RN=3;class XT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(TN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EN(),!this.activeServiceWorker)return;this.sender=new vN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await J_(e,Ch,"1"),await eE(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>J_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>SN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XT.type="LOCAL";const CN=XT;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(i,e){return e?Gr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IN(i){return BT(i.auth,new ep(i),i.bypassAuthState)}function NN(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),aN(n,new ep(i),i.bypassAuthState)}async function DN(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),sN(n,new ep(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IN;case"linkViaPopup":case"linkViaRedirect":return DN;case"reauthViaPopup":case"reauthViaRedirect":return NN;default:Pn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Eu(2e3,1e4);async function ON(i,e,n){if(_n(i.app))return Promise.reject(Xn(i,"operation-not-supported-in-this-environment"));const s=os(i);fI(i,e,Zg);const o=WT(s,n);return new Qs(s,"signInViaPopup",e,o).executeNotNull()}class Qs extends ZT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kN.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="pendingRedirect",ah=new Map;class VN extends ZT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await PN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PN(i,e){const n=UN(e),s=jN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function LN(i,e){ah.set(i._key(),e)}function jN(i){return Gr(i._redirectPersistence)}function UN(i){return sh(MN,i.config.apiKey,i.name)}async function zN(i,e,n=!1){if(_n(i.app))return Promise.reject(Qr(i));const s=os(i),o=WT(s,e),f=await new VN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=600*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!JT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BN&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function JT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function HN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(i,e={}){return as(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KN=/^https?/;async function QN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await FN(i);for(const n of e)try{if(YN(n))return}catch{}Pn(i,"unauthorized-domain")}function YN(i){const e=Km(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!KN.test(n))return!1;if(GN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Eu(3e4,6e4);function nE(){const i=Er().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function XN(i){return new Promise((e,n)=>{function s(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),n(Xn(i,"network-request-failed"))},timeout:$N.get()})}if(Er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Er().gapi?.load)s();else{const o=BI("iframefcb");return Er()[o]=()=>{gapi.load?s():n(Xn(i,"network-request-failed"))},LT(`${zI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw oh=null,e})}let oh=null;function WN(i){return oh=oh||XN(i),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Eu(5e3,15e3),JN="__/auth/iframe",e4="emulator/auth/iframe",t4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r4(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Qg(e,e4):`https://${i.config.authDomain}/${JN}`,s={apiKey:e.apiKey,appName:i.name,v:Eo},o=n4.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${du(s).slice(1)}`}async function i4(i){const e=await WN(i),n=Er().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:r4(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Xn(i,"network-request-failed"),m=Er().setTimeout(()=>{u(f)},ZN.get());function g(){Er().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a4=500,o4=600,l4="_blank",u4="http://localhost";class rE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c4(i,e,n,s=a4,o=o4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...s4,width:s.toString(),height:o.toString(),top:u,left:f},p=Wt().toLowerCase();n&&(m=NT(p)?l4:n),CT(p)&&(e=e||u4,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[V,G])=>`${S}${V}=${G},`,"");if(DI(p)&&m!=="_self")return h4(e||"",m),new rE(null);const w=window.open(e||"",m,E);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new rE(w)}function h4(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="__/auth/handler",d4="emulator/auth/handler",m4=encodeURIComponent("fac");async function iE(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Eo,eventId:o};if(e instanceof Zg){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Dx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Tu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${m4}=${encodeURIComponent(g)}`:"";return`${g4(i)}?${du(m).slice(1)}${p}`}function g4({config:i}){return i.emulator?Qg(i,d4):`https://${i.authDomain}/${f4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class p4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=zN,this._overrideRedirectResult=LN}async _openPopup(e,n,s,o){Zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await iE(e,n,s,Km(),o);return c4(e,u,Jg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await iE(e,n,s,Km(),o);return _N(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await i4(e),s=new qN(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},o=>{const u=o?.[0]?.[Em];u!==void 0&&n(!!u),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VT()||IT()||$g()}}const y4=p4;var sE="@firebase/auth",aE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E4(i){lo(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(i)},p=new LI(s,o,u,g);return QI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new Ws("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(s=>new v4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(sE,aE,_4(i)),Ki(sE,aE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=300,T4=IE("authIdTokenMaxAge")||b4;let oE=null;const w4=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>T4)return;const o=n?.token;oE!==o&&(oE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function x4(i=VE()){const e=og(i,"auth");if(e.isInitialized())return e.getImmediate();const n=KI(i,{popupRedirectResolver:y4,persistence:[CN,pN,KT]}),s=IE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=w4(u.toString());hN(n,f,()=>f(n.currentUser)),cN(n,m=>f(m))}}const o=RE("auth");return o&&YI(n,`http://${o}`),n}function S4(){return document.getElementsByTagName("head")?.[0]??document}jI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Xn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",S4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E4("Browser");const A4={apiKey:"AIzaSyAZMh2Q_QBKb6y6RJFPkYZOz_ntJYKqgrQ",authDomain:"idea-board-c0239.firebaseapp.com",databaseURL:"https://idea-board-c0239-default-rtdb.firebaseio.com",projectId:"idea-board-c0239",storageBucket:"idea-board-c0239.firebasestorage.app",messagingSenderId:"560114265833",appId:"1:560114265833:web:d5c01ff5a75b0ba2d80a78"},e1=ME(A4),Hi=YC(e1),Ll=x4(e1),ef=i=>{const[e,n]=D.useState([]);return D.useEffect(()=>{if(!i){n([]);return}try{const f=bh(Hi,"users",i,"notes"),m=dT(f,mT("createdAt","desc")),g=ET(m,p=>{const E=p.docs.map(w=>{const S=w.data();return{id:w.id,title:S.title,content:S.content,color:S.color,createdAt:S.createdAt,updatedAt:S.updatedAt}});n(E)},p=>{console.error("Error loading notes:",p)});return()=>g()}catch(f){console.error("Firebase configuration error:",f)}},[i]),{notes:e,addNote:async(f,m,g)=>{if(!i)throw new Error("User must be logged in to add notes");try{const p=bh(Hi,"users",i,"notes");await _T(p,{title:f,content:m,color:g,createdAt:wh(),updatedAt:null})}catch(p){throw console.error("Error adding note:",p),new Error("Failed to add note: "+p.message)}},editNote:async(f,m,g,p)=>{if(!i)throw new Error("User must be logged in to update notes");try{const E=au(Hi,"users",i,"notes",f);await yT(E,{title:m,content:g,color:p,updatedAt:wh()})}catch(E){throw console.error("Error updating note:",E),new Error("Failed to update note: "+E.message)}},deleteNote:async f=>{if(!i)throw new Error("User must be logged in to delete notes");try{const m=au(Hi,"users",i,"notes",f);await vT(m)}catch(m){throw console.error("Error deleting note:",m),new Error("Failed to delete note: "+m.message)}}}},aa=()=>{const[i,e]=D.useState([]),{user:n}=ei(),s=D.useMemo(()=>n?.uid,[n?.uid]);return D.useEffect(()=>{if(!s){e([]);return}try{const m=bh(Hi,"users",s,"tasks"),g=dT(m,mT("createdAt","desc")),p=ET(g,E=>{const w=E.docs.map(S=>{const V=S.data();return{id:S.id,title:V.title,description:V.description,status:V.status,priority:V.priority,createdAt:V.createdAt,updatedAt:V.updatedAt}});e(w)},E=>{console.error("Error loading tasks:",E)});return()=>p()}catch(m){console.error("Firebase configuration error:",m)}},[s]),{tasks:i,addTask:async(m,g,p)=>{if(!s)throw new Error("User must be logged in to add notes");try{const E=bh(Hi,"users",s,"tasks");await _T(E,{title:m,description:g,status:"open",priority:p,createdAt:wh(),updatedAt:null})}catch(E){throw console.error("Error adding note:",E),new Error("Failed to add note: "+E.message)}},editTask:async(m,g,p,E,w)=>{if(!s)throw new Error("User must be logged in to update notes");try{const S=au(Hi,"users",s,"tasks",m);await yT(S,{title:g,description:p,status:E,priority:w,updatedAt:wh()})}catch(S){throw console.error("Error updating task:",S),new Error("Failed to update task: "+S.message)}},deleteTask:async m=>{if(!s)throw new Error("User must be logged in to delete tasks");try{const g=au(Hi,"users",s,"tasks",m);await vT(g)}catch(g){throw console.error("Error deleting task:",g),new Error("Failed to delete task: "+g.message)}}}},R4=({onClick:i})=>v.jsx("button",{onClick:i,className:"cursor-pointer lg:hidden",children:v.jsxs("svg",{width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M4 18L20 18",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),v.jsx("path",{d:"M4 12L20 12",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),v.jsx("path",{d:"M4 6L20 6",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"})]})}),t1=D.createContext(void 0),tp=()=>{const i=D.useContext(t1);if(i===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return i},Jr=({children:i,title:e,className:n,fullscreenMobile:s=!1})=>{const{openSidebar:o}=tp();return v.jsxs("div",{className:`flex flex-col gap-6 ${s?"p-0 sm:p-6 lg:ml-0 sm:lg:ml-64":"p-6 lg:ml-64"} ${n}`,children:[v.jsxs("div",{className:`flex items-center gap-3 ${s?"px-4 pt-4 sm:px-0 sm:pt-0":""}`,children:[v.jsx(R4,{onClick:o}),v.jsx("h1",{className:"text-3xl font-bold",children:e})]}),i]})},C4=()=>v.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})});function I4(){const{user:i}=ei(),{notes:e}=ef(i?.uid||null),{tasks:n}=aa(),s=D.useMemo(()=>({open:n.filter(u=>u.status==="open").length,inProgress:n.filter(u=>u.status==="in-progress").length,done:n.filter(u=>u.status==="done").length}),[n]),o=D.useMemo(()=>[{id:"sticky-wall",path:"/sticky-wall",label:"Sticky Wall",count:e.length,itemName:e.length===1?"nota":"note",icon:v.jsx(QS,{}),bgColor:"bg-blue-100"},{id:"tasks",path:"/tasks",label:"Tasks",count:n.length,itemName:n.length===1?"task":"tasks",icon:v.jsx(C4,{}),bgColor:"bg-indigo-100",subtitle:`${s.open} da fare · ${s.inProgress} in corso · ${s.done} fatti`}],[e.length,n.length,s]);return v.jsx(Jr,{title:"Dashboard",className:"lg:w-2/3",children:v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-gray-200",children:v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:v.jsx(YS,{})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Benvenuto!"}),v.jsx("p",{className:"text-gray-600 text-sm sm:text-base truncate",children:i?.email}),v.jsxs("p",{className:"text-gray-400 text-xs font-mono truncate",children:["ID: ",i?.uid]})]})]})}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:o.map(u=>v.jsx(no,{to:u.path,className:"bg-white rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-all hover:border-indigo-200 group",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:`flex-shrink-0 ${u.bgColor} rounded-lg p-3 group-hover:scale-110 transition-transform`,children:u.icon}),v.jsxs("div",{className:"ml-4 flex-1",children:[v.jsx("p",{className:"text-sm font-medium text-gray-500",children:u.label}),v.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[u.count," ",u.itemName]}),u.subtitle&&v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u.subtitle})]})]})},u.id))}),v.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Azioni Rapide"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[v.jsx(no,{to:"/note/create",className:"bg-white rounded-lg p-4 hover:shadow-md transition-all border border-gray-200 hover:border-blue-300 group",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:v.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),v.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-700",children:"Nuova Nota"})]})}),v.jsx(no,{to:"/task/create",className:"bg-white rounded-lg p-4 hover:shadow-md transition-all border border-gray-200 hover:border-indigo-300 group",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:v.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),v.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-indigo-700",children:"Nuovo Task"})]})})]})]})]})})}const N4=({onClick:i})=>v.jsx("button",{onClick:i,className:"cursor-pointer p-1 hover:bg-gray-100 rounded lg:hidden",children:v.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:v.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),D4=()=>{const{isSidebarOpen:i,closeSidebar:e}=tp(),n=[{title:"Sticky Wall",path:"/sticky-wall"},{title:"Tasks",path:"/tasks"}],{logout:s}=ei(),o=bn(),u=D.useCallback(async()=>{try{await s(),o("/login")}catch(f){console.error("Error during logout:",f)}},[s,o]);return v.jsxs("div",{className:`
        fixed top-0 left-0 h-screen bg-white shadow-2xl z-50
        transform transition-transform duration-300 ease-in-out
        w-80 lg:w-64 flex flex-col justify-between
        ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between p-4",children:[v.jsx("h2",{className:"text-xl font-semibold",children:"Idea Board"}),v.jsx(N4,{onClick:e})]}),v.jsx("nav",{className:"px-4",children:v.jsxs("ul",{className:"space-y-3",children:[v.jsx(no,{to:"/dashboard",className:({isActive:f})=>`block px-4 py-2 rounded transition-colors ${f?"bg-gray-100":"text-gray-700 hover:bg-gray-100"}`,onClick:e,children:"Dashboard"},0),v.jsx("hr",{className:"text-gray-300"}),n.map((f,m)=>v.jsx(no,{to:f.path,className:({isActive:g})=>`block px-4 py-2 rounded transition-colors ${g?"bg-gray-100":"text-gray-700 hover:bg-gray-100"}`,onClick:e,children:f.title},m))]})})]}),v.jsx("button",{onClick:u,className:"cursor-pointer px-4 py-3 m-4 text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200",children:"Logout"})]})},np=({onClick:i,className:e=""})=>v.jsx("button",{onClick:i,className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer flex-shrink-0 ${e}`,children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),uu={yellow:"bg-yellow-100",rose:"bg-rose-100",sky:"bg-sky-100",emerald:"bg-emerald-100",violet:"bg-violet-100",amber:"bg-amber-100"},k4=[{value:"bassa",label:"Bassa",color:"bg-white text-green-600 border-green-300 hover:border-green-400",activeColor:"bg-green-50 text-green-700 border-green-500",icon:"↓"},{value:"media",label:"Media",color:"bg-white text-yellow-600 border-yellow-300 hover:border-yellow-400",activeColor:"bg-yellow-50 text-yellow-700 border-yellow-500",icon:"→"},{value:"alta",label:"Alta",color:"bg-white text-red-600 border-red-300 hover:border-red-400",activeColor:"bg-red-50 text-red-700 border-red-500",icon:"↑"}],O4=()=>{const[i,e]=D.useState(""),[n,s]=D.useState(""),[o,u]=D.useState("yellow"),{user:f}=ei(),{addNote:m}=ef(f?.uid||null),g=bn(),p=D.useMemo(()=>!i.trim()&&!n.trim(),[i,n]),E=D.useCallback(()=>{g("/sticky-wall")},[g]),w=D.useCallback(async()=>{if(!(!i.trim()&&!n.trim()))try{await m(i,n,o),g("/sticky-wall")}catch(S){console.error("Error creating note:",S)}},[m,o,n,g,i]);return v.jsx(Jr,{title:"Nuova Nota",className:"lg:w-2/3",fullscreenMobile:!0,children:v.jsxs("div",{className:`${uu[o]} sm:rounded-2xl shadow-xl overflow-hidden flex flex-col min-h-[calc(100vh-8rem)] sm:min-h-[600px]`,children:[v.jsx("div",{className:"p-4 sm:p-6 flex items-center justify-between border-b border-gray-200/50 flex-shrink-0 gap-3",children:v.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[v.jsx(np,{onClick:E,className:"hover:bg-white/30 text-gray-700 flex-shrink-0"}),v.jsx("input",{type:"text",value:i,onChange:S=>e(S.target.value),maxLength:50,title:i,className:"flex-1 px-3 py-2 bg-white/70 border-2 border-gray-300 rounded-lg outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-800 text-lg font-bold min-w-0",placeholder:"Titolo..."})]})}),v.jsx("div",{className:"p-6 sm:p-8 flex-1 overflow-y-auto",children:v.jsx("textarea",{value:n,onChange:S=>s(S.target.value),className:"w-full px-4 py-3 bg-white/70 border-2 border-gray-300 rounded-xl resize-none outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-700 text-base leading-relaxed min-h-[300px]",placeholder:"Contenuto..."})}),v.jsx("div",{className:"p-6 bg-white/30 backdrop-blur-sm border-t border-gray-200/50 flex-shrink-0",children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Colore:"}),v.jsx("div",{className:"flex gap-2",children:Object.entries(uu).map(([S,V])=>v.jsx("button",{type:"button",onClick:()=>u(S),className:`w-8 h-8 rounded-full ${V} border-2 transition-transform hover:scale-110 cursor-pointer ${o===S?"border-slate-800 scale-110":"border-slate-300"}`,title:S},S))})]}),v.jsxs("div",{className:"flex items-center justify-end gap-3",children:[v.jsx("button",{onClick:E,className:"px-5 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition-colors cursor-pointer text-sm",children:"Annulla"}),v.jsx("button",{onClick:w,disabled:p,title:p?"Aggiungi titolo o contenuto":"Crea nota",className:"px-5 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none text-sm",children:"Salva Nota"})]})]})})]})})},Xm=(i,e="short")=>{if(!i)return"Data non disponibile";const n=i.toDate(),o=new Date().getTime()-n.getTime(),u=Math.floor(o/(1e3*60*60*24));if(e==="relative"){const f=Math.floor(o/6e4),m=Math.floor(o/(1e3*60*60));if(f<1)return"Adesso";if(f<60)return`${f} ${f===1?"minuto":"minuti"} fa`;if(m<24)return`${m} ${m===1?"ora":"ore"} fa`;if(u===0)return"Oggi";if(u===1)return"Ieri";if(u<7)return`${u} giorni fa`;if(u<30){const p=Math.floor(u/7);return`${p} ${p===1?"settimana":"settimane"} fa`}if(u<365){const p=Math.floor(u/30);return`${p} ${p===1?"mese":"mesi"} fa`}const g=Math.floor(u/365);return`${g} ${g===1?"anno":"anni"} fa`}if(e==="short"){const f=n.getDate(),m=n.toLocaleDateString("it-IT",{month:"short"}),g=n.getFullYear();return`${f} ${m.charAt(0).toUpperCase()+m.slice(1)} ${g}`}return e==="full"?n.toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString("it-IT")},M4=()=>{const{noteId:i}=pE(),e=bn(),{user:n}=ei(),{notes:s,editNote:o,deleteNote:u}=ef(n?.uid||null),[f,m]=D.useState(null),[g,p]=D.useState(!1),[E,w]=D.useState(""),[S,V]=D.useState(""),[G,Y]=D.useState("yellow"),[F,ne]=D.useState(!1);D.useEffect(()=>{const N=s.find(A=>A.id===i);N&&(m(N),w(N.title),V(N.content),Y(N.color))},[i,s]);const te=D.useCallback(()=>{e("/sticky-wall")},[e]),ie=D.useCallback(()=>{p(!0)},[]),xe=D.useCallback(()=>{f&&(w(f.title),V(f.content),Y(f.color)),p(!1)},[f]),ce=D.useCallback(async()=>{if(f&&(E.trim()||S.trim()))try{await o(f.id,E,S,G),p(!1)}catch(N){console.error("Error updating note:",N)}},[f,E,S,G,o]),ye=D.useCallback(async()=>{if(F&&f)try{await u(f.id),e("/sticky-wall")}catch(N){console.error("Error deleting note:",N)}else ne(!0),setTimeout(()=>ne(!1),3e3)},[F,f,u,e]);return f?v.jsx(Jr,{title:"Dettaglio Nota",className:"lg:w-2/3",fullscreenMobile:!0,children:v.jsxs("div",{className:`${uu[G]} sm:rounded-2xl shadow-xl overflow-hidden flex flex-col min-h-[calc(100vh-8rem)] sm:min-h-[600px]`,children:[v.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between border-b border-gray-200/50 flex-shrink-0 gap-3",children:[v.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[v.jsx(np,{onClick:te,className:"hover:bg-white/30 text-gray-700 flex-shrink-0"}),g?v.jsx("input",{type:"text",value:E,onChange:N=>w(N.target.value),className:"flex-1 px-3 py-2 bg-white/70 border-2 border-gray-300 rounded-lg outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-800 text-lg font-bold min-w-0",placeholder:"Titolo..."}):v.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 truncate flex-1 min-w-0",children:f.title||"Senza titolo"})]}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!g&&v.jsx("button",{onClick:ie,className:"flex items-center justify-center w-10 h-10 bg-white/50 hover:bg-white/70 rounded-lg transition-colors cursor-pointer",children:v.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),v.jsx("button",{onClick:ye,className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer ${F?"bg-red-600 hover:bg-red-700 text-white":"bg-white/50 hover:bg-white/70 text-gray-700"}`,children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),v.jsx("div",{className:"p-6 sm:p-8 flex-1 overflow-y-auto",children:g?v.jsx("textarea",{value:S,onChange:N=>V(N.target.value),className:"w-full px-4 py-3 bg-white/70 border-2 border-gray-300 rounded-xl resize-none outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-700 text-base leading-relaxed min-h-[300px]",placeholder:"Contenuto..."}):v.jsx("div",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-wrap",children:f.content||"Nessun contenuto"})}),v.jsx("div",{className:"p-6 bg-white/30 backdrop-blur-sm border-t border-gray-200/50 flex-shrink-0",children:g?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Colore:"}),v.jsx("div",{className:"flex gap-2",children:Object.entries(uu).map(([N,A])=>v.jsx("button",{type:"button",onClick:()=>Y(N),className:`w-8 h-8 rounded-full ${A} border-2 transition-transform hover:scale-110 cursor-pointer ${G===N?"border-slate-800 scale-110":"border-slate-300"}`,title:N},N))})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("span",{children:Xm(f.createdAt)})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:xe,className:"px-5 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition-colors cursor-pointer text-sm",children:"Annulla"}),v.jsx("button",{onClick:ce,disabled:!E.trim()&&!S.trim(),className:"px-5 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none text-sm",children:"Salva"})]})]})]}):v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("span",{children:Xm(f.createdAt)})]})})]})}):v.jsx(Jr,{title:"Nota non trovata",className:"lg:w-2/3",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Nota non trovata"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"La nota che stai cercando non esiste o è stata eliminata."}),v.jsx("button",{onClick:te,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors cursor-pointer",children:"Torna alle note"})]})})},V4=()=>{const{user:i}=ei(),{notes:e}=ef(i?.uid||null),n=bn(),s=D.useCallback(u=>{n(`/note/${u.id}`)},[n]),o=D.useCallback(()=>{n("/note/create")},[n]);return v.jsx(Jr,{title:"Sticky Wall",children:v.jsx("div",{className:"flex",children:v.jsx("main",{className:"flex-1",children:v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:[v.jsx("div",{onClick:o,className:`\r
                bg-white border-2 border-dashed border-gray-300 \r
                hover:border-gray-400 hover:bg-gray-50\r
                rounded-md shadow-md sm:aspect-square\r
                flex items-center justify-center\r
                cursor-pointer transition-colors duration-200 pt-2 pb-6\r
              `,children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-4xl text-gray-400 mb-2",children:"+"}),v.jsx("p",{className:"text-gray-500 font-medium",children:"Aggiungi nuova nota"})]})}),e.map(u=>v.jsxs("div",{onClick:()=>s(u),className:`${uu[u.color]} p-4 rounded-md shadow-md cursor-pointer min-h-[10rem] sm:aspect-square`,children:[v.jsx("h3",{className:"text-lg font-semibold mb-2 truncate",children:u.title}),v.jsx("div",{className:"text-sm text-gray-700 line-clamp-7 whitespace-pre-wrap",children:u.content})]},u.id))]})})})})},P4=()=>{const[i,e]=D.useState(""),[n,s]=D.useState(""),[o,u]=D.useState("media"),{addTask:f}=aa(),m=bn(),g=D.useMemo(()=>!i.trim(),[i]),p=D.useCallback(()=>{m("/task-list")},[m]),E=D.useCallback(async()=>{if(i.trim())try{await f(i,n,o),m("/task-list")}catch(w){console.error("Error creating task:",w)}},[f,n,m,o,i]);return v.jsx(Jr,{title:"Nuovo Task",className:"lg:w-2/3",fullscreenMobile:!0,children:v.jsxs("div",{className:"bg-white sm:rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[v.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6",children:v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(np,{onClick:p,className:"text-white hover:bg-white/10"}),v.jsxs("div",{children:[v.jsx("span",{className:"text-white font-bold text-xl",children:"Nuova Attività"}),v.jsx("p",{className:"text-white/90 text-sm mt-0.5",children:"Crea un nuovo task per il tuo progetto"})]})]})})}),v.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"group",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[v.jsx("div",{className:"w-5 h-5 bg-indigo-100 rounded-lg flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:v.jsx("svg",{className:"w-3 h-3 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),"Titolo",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",value:i,onChange:w=>e(w.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:bg-white transition-all duration-200 text-gray-800 font-medium placeholder:text-gray-400",placeholder:"Es: Implementare nuovo design..."})]}),v.jsxs("div",{className:"group",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[v.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:v.jsx("svg",{className:"w-3 h-3 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),v.jsx("span",{children:"Descrizione"})]}),v.jsx("textarea",{value:n,onChange:w=>s(w.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl resize-none outline-none focus:border-purple-500 focus:bg-white transition-all duration-200 text-gray-700 placeholder:text-gray-400",rows:6,placeholder:"Aggiungi una descrizione dettagliata del task..."})]}),v.jsxs("div",{className:"group",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[v.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-lg flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:v.jsx("svg",{className:"w-3 h-3 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),v.jsx("span",{children:"Priorità"})]}),v.jsx("div",{className:"grid grid-cols-3 gap-3",children:k4.map(w=>v.jsxs("button",{type:"button",onClick:()=>u(w.value),className:`px-4 py-3 rounded-xl border-2 font-semibold text-sm transition-all duration-200 cursor-pointer flex items-center justify-center gap-2 ${o===w.value?w.activeColor:w.color}`,children:[v.jsx("span",{className:"text-lg",children:w.icon}),v.jsx("span",{children:w.label})]},w.value))})]})]})}),v.jsx("div",{className:"p-6 bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200 flex-shrink-0",children:v.jsxs("div",{className:"flex items-center justify-end gap-3",children:[v.jsx("button",{onClick:p,className:"px-6 py-2.5 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition-colors cursor-pointer",children:"Annulla"}),v.jsxs("button",{onClick:E,disabled:g,title:g?"Aggiungi titolo":"Crea task",className:"px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-600 hover:to-purple-700 shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Crea Task"]})]})})]})})},Nh=i=>{switch(i.toLowerCase().trim()){case"done":case"completato":return"bg-green-100 text-green-700 border-green-200";case"in progress":case"in corso":return"bg-orange-100 text-orange-700 border-orange-200";case"open":case"aperto":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-blue-100 text-blue-700 border-blue-200"}},lh=i=>{switch((i||"media").toLowerCase().trim()){case"bassa":return{color:"text-green-600 bg-white border-green-300",icon:"↓",label:"Bassa"};case"alta":return{color:"text-red-600 bg-white border-red-300",icon:"↑",label:"Alta"};case"media":default:return{color:"text-yellow-600 bg-white border-yellow-300",icon:"→",label:"Media"}}},L4=()=>{const{taskId:i}=pE(),e=bn(),{tasks:n,editTask:s,deleteTask:o}=aa(),[u,f]=D.useState(null),[m,g]=D.useState(!1),[p,E]=D.useState(""),[w,S]=D.useState(""),[V,G]=D.useState("open"),[Y,F]=D.useState("media"),[ne,te]=D.useState(!1);D.useEffect(()=>{const A=n.find(C=>C.id===i);A&&(f(A),E(A.title),S(A.description),G(A.status),F(A.priority))},[i,n]);const ie=D.useCallback(()=>{e("/task-list")},[e]),xe=D.useCallback(()=>{g(!0)},[]),ce=D.useCallback(()=>{u&&(E(u.title),S(u.description),G(u.status),F(u.priority)),g(!1)},[u]),ye=D.useCallback(async()=>{if(u&&p.trim())try{await s(u.id,p,w,V,Y),g(!1)}catch(A){console.error("Error updating task:",A)}},[u,p,w,V,Y,s]),N=D.useCallback(async()=>{if(ne&&u)try{await o(u.id),e("/task-list")}catch(A){console.error("Error deleting task:",A)}else te(!0),setTimeout(()=>te(!1),3e3)},[ne,u,o,e]);return u?v.jsx(Jr,{title:"Dettaglio Task",className:"lg:w-2/3",fullscreenMobile:!0,children:v.jsxs("div",{className:"bg-white sm:rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6",children:[v.jsxs("div",{className:"hidden sm:flex items-center justify-between mb-4",children:[v.jsxs("button",{onClick:ie,className:"flex items-center gap-2 text-white hover:bg-white/10 px-3 py-2 rounded-lg transition-colors cursor-pointer",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),v.jsx("span",{children:"Indietro"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[m?null:v.jsxs("button",{onClick:xe,className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition-colors cursor-pointer",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),v.jsx("span",{children:"Modifica"})]}),v.jsxs("button",{onClick:N,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors cursor-pointer ${ne?"bg-red-600 hover:bg-red-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),v.jsx("span",{children:ne?"Conferma":"Elimina"})]})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:ie,className:"sm:hidden flex items-center justify-center w-10 h-10 text-white hover:bg-white/10 rounded-lg transition-colors cursor-pointer flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),v.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm flex-shrink-0",children:v.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),v.jsxs("div",{children:[v.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Dettagli Attività"}),v.jsx("div",{className:"flex items-center gap-2 mt-1",children:m?v.jsxs(v.Fragment,{children:[v.jsxs("select",{value:Y,onChange:A=>F(A.target.value),className:`px-2 py-0.5 text-xs font-medium rounded-full border backdrop-blur-sm cursor-pointer ${Y==="bassa"?"bg-green-100 text-green-700 border-green-200":Y==="alta"?"bg-red-100 text-red-700 border-red-200":"bg-yellow-100 text-yellow-700 border-yellow-200"}`,children:[v.jsx("option",{value:"bassa",children:"↓ Bassa"}),v.jsx("option",{value:"media",children:"→ Media"}),v.jsx("option",{value:"alta",children:"↑ Alta"})]}),v.jsxs("select",{value:V,onChange:A=>G(A.target.value),className:`px-2 py-0.5 text-xs font-medium rounded-full border backdrop-blur-sm cursor-pointer ${Nh(V)}`,children:[v.jsx("option",{value:"open",children:"Aperto"}),v.jsx("option",{value:"in-progress",children:"In Corso"}),v.jsx("option",{value:"done",children:"Fatto"})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:`px-2 py-0.5 ${Y==="bassa"?"bg-green-100 text-green-700 border-green-200":Y==="alta"?"bg-red-100 text-red-700 border-red-200":"bg-yellow-100 text-yellow-700 border-yellow-200"} backdrop-blur-sm rounded-full text-xs font-medium border flex items-center gap-1`,children:v.jsx("span",{className:"font-bold",children:Y==="bassa"?"↓":Y==="alta"?"↑":"→"})}),v.jsx("span",{className:`px-2 py-0.5 ${Nh(u.status)} backdrop-blur-sm rounded-full text-xs font-medium`,children:u.status})]})})]})]}),v.jsxs("div",{className:"flex sm:hidden items-center gap-2",children:[m?null:v.jsx("button",{onClick:xe,className:"flex items-center justify-center w-10 h-10 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors cursor-pointer",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),v.jsx("button",{onClick:N,className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer ${ne?"bg-red-600 hover:bg-red-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]}),v.jsx("div",{className:"p-6 flex-1 overflow-y-auto bg-white",children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"group",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[v.jsx("div",{className:"w-5 h-5 bg-indigo-100 rounded-lg flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:v.jsx("svg",{className:"w-3 h-3 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),"Titolo",v.jsx("span",{className:"text-red-500",children:"*"})]}),m?v.jsx("input",{type:"text",value:p,onChange:A=>E(A.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:bg-white transition-all duration-200 text-gray-800 font-medium",placeholder:"Nome attività"}):v.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:u.title})]}),v.jsxs("div",{className:"group",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[v.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:v.jsx("svg",{className:"w-3 h-3 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),"Descrizione"]}),m?v.jsx("textarea",{value:w,onChange:A=>S(A.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl resize-none outline-none focus:border-indigo-500 focus:bg-white transition-all duration-200 text-gray-700",rows:5,placeholder:"Aggiungi una descrizione dettagliata..."}):v.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:u.description||"Nessuna descrizione disponibile"})]})]})}),v.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex-shrink-0",children:v.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("span",{children:Xm(u.createdAt)})]}),m&&v.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[v.jsx("button",{onClick:ce,className:"flex-1 sm:flex-none px-6 py-2.5 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition-colors cursor-pointer",children:"Annulla"}),v.jsx("button",{onClick:ye,disabled:!p.trim(),className:"flex-1 sm:flex-none px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-600 hover:to-purple-700 shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",children:"Aggiorna"})]})]})})]})}):v.jsx(Jr,{title:"Task non trovato",className:"lg:w-2/3",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Task non trovato"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Il task che stai cercando non esiste o è stato eliminato."}),v.jsx("button",{onClick:ie,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors cursor-pointer",children:"Torna alla lista"})]})})};function n1(i,e){const[n,s]=D.useState(()=>{try{const u=localStorage.getItem(i);return u?JSON.parse(u):e}catch(u){return console.error(`Error loading ${i} from localStorage:`,u),e}});return[n,u=>{try{const f=u instanceof Function?u(n):u;s(f),localStorage.setItem(i,JSON.stringify(f))}catch(f){console.error(`Error saving ${i} to localStorage:`,f)}}]}const j4=[{id:"open",title:"Da Fare",color:"bg-gray-50 border-gray-200",icon:"📋"},{id:"in-progress",title:"In Corso",color:"bg-blue-50 border-blue-200",icon:"⚡"},{id:"done",title:"Completato",color:"bg-green-50 border-green-200",icon:"✅"}],U4=()=>{const{tasks:i,editTask:e}=aa(),n=bn(),[s,o]=D.useState(null),[u,f]=D.useState(null),[m,g]=D.useState(null),[p,E]=D.useState(null),w=D.useRef(new Map),S=D.useRef(null),V=D.useRef(null),[G,Y]=D.useState(!1),F=D.useCallback((R,ve)=>{o(ve),R.dataTransfer.effectAllowed="move"},[]),ne=D.useCallback((R,ve)=>{R.preventDefault(),R.dataTransfer.dropEffect="move",f(ve)},[]),te=D.useCallback(R=>{R.preventDefault();const ve=R.currentTarget.getBoundingClientRect(),Se=R.clientX,q=R.clientY;(Se<ve.left||Se>=ve.right||q<ve.top||q>=ve.bottom)&&f(null)},[]),ie=D.useCallback(()=>{o(null),f(null)},[]),xe=D.useCallback(async(R,ve)=>{if(R.preventDefault(),R.stopPropagation(),!s||s.status===ve){o(null),f(null);return}try{await e(s.id,s.title,s.description,ve,s.priority)}catch(Se){console.error("Error updating task:",Se)}finally{o(null),f(null)}},[s,e]),ce=D.useCallback(R=>{if(S.current)return;const ve=100,Se=8,q=window.innerHeight;S.current=window.setInterval(()=>{R<ve?window.scrollBy({top:-Se,behavior:"auto"}):R>q-ve&&window.scrollBy({top:Se,behavior:"auto"})},16)},[]),ye=D.useCallback(()=>{S.current&&(clearInterval(S.current),S.current=null)},[]),N=D.useCallback((R,ve)=>{const Se=R.touches[0];g({x:Se.clientX,y:Se.clientY}),E({x:Se.clientX,y:Se.clientY}),V.current=window.setTimeout(()=>{Y(!0),o(ve),navigator.vibrate?.(50)},300)},[]),A=D.useCallback(R=>{const ve=R.touches[0],Se=ve.clientX,q=ve.clientY;if(V.current&&!G){const k=Math.abs(Se-(m?.x||0)),ee=Math.abs(q-(m?.y||0));(k>10||ee>10)&&(clearTimeout(V.current),V.current=null)}if(!s||!m)return;R.preventDefault(),E({x:Se,y:q});const se=100,fe=window.innerHeight;q<se||q>fe-se?ce(q):ye();let Ne=null;w.current.forEach((k,ee)=>{const ae=k.getBoundingClientRect();Se>=ae.left&&Se<=ae.right&&q>=ae.top&&q<=ae.bottom&&(Ne=ee)}),f(Ne)},[s,m,G,ce,ye]),C=D.useCallback(async R=>{if(V.current&&(clearTimeout(V.current),V.current=null),ye(),!G){Y(!1);return}if(R.preventDefault(),!s||!u||s.status===u){o(null),f(null),g(null),E(null),Y(!1);return}try{await e(s.id,s.title,s.description,u,s.priority),navigator.vibrate?.(100)}catch(ve){console.error("Error updating task:",ve)}finally{o(null),f(null),g(null),E(null),Y(!1)}},[s,u,e,G,ye]),P=D.useCallback(()=>{V.current&&(clearTimeout(V.current),V.current=null),ye(),o(null),f(null),g(null),E(null),Y(!1)},[ye]);D.useEffect(()=>()=>{V.current&&clearTimeout(V.current),ye()},[ye]);const O=D.useCallback(R=>i.filter(ve=>ve.status===R),[i]),j=D.useCallback(R=>{s||n(`/task/${R}`)},[n,s]);return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:j4.map(R=>{const ve=O(R.id),Se=u===R.id;return v.jsxs("div",{className:"flex flex-col",children:[v.jsx("div",{className:`${R.color} rounded-t-xl border-2 p-4 flex items-center justify-between`,children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-2xl",children:R.icon}),v.jsx("h3",{className:"font-bold text-gray-800",children:R.title}),v.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs font-semibold text-gray-600",children:ve.length})]})}),v.jsx("div",{ref:q=>{q&&w.current.set(R.id,q)},className:`flex-1 ${R.color} rounded-b-xl border-2 border-t-0 p-4 min-h-[500px] max-h-[calc(100vh-300px)] overflow-y-auto transition-all duration-200 ${Se?"ring-4 ring-indigo-400 ring-offset-2 bg-opacity-80":""}`,onDragOver:q=>ne(q,R.id),onDragLeave:te,onDrop:q=>xe(q,R.id),children:v.jsx("div",{className:"space-y-3",children:ve.length===0?v.jsxs("div",{className:"text-center py-8 text-gray-400",children:[v.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),v.jsx("p",{className:"text-sm",children:Se?"Rilascia qui":"Nessun task"})]}):ve.map(q=>{const se=lh(q.priority),fe=s?.id===q.id;return v.jsxs("div",{draggable:!0,onDragStart:Ne=>F(Ne,q),onDragEnd:ie,onTouchStart:Ne=>N(Ne,q),onTouchMove:A,onTouchEnd:C,onTouchCancel:P,onClick:()=>j(q.id),className:`bg-white rounded-lg p-4 shadow-sm border-2 border-gray-200 hover:border-indigo-300 hover:shadow-md transition-all duration-200 select-none touch-none group ${fe?"opacity-30 scale-95":""} ${fe?"":"cursor-grab active:cursor-grabbing"}`,children:[v.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[v.jsx("h4",{className:"font-semibold text-gray-800 group-hover:text-indigo-700 transition-colors flex-1 line-clamp-2",children:q.title}),v.jsx("div",{className:`w-6 h-6 rounded-md border flex items-center justify-center flex-shrink-0 font-semibold text-xs ${se.color}`,title:`Priorità ${se.label}`,children:se.icon})]}),q.description&&v.jsx("p",{className:"text-sm text-gray-600 line-clamp-3 mb-3 whitespace-pre-wrap",children:q.description}),v.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[v.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("span",{children:q.createdAt?.toDate().toLocaleDateString("it-IT")})]}),v.jsxs("div",{className:"flex items-center gap-0.5 text-gray-400 group-hover:text-indigo-400 transition-colors",children:[v.jsxs("svg",{className:"w-1 h-4",fill:"currentColor",viewBox:"0 0 4 16",children:[v.jsx("circle",{cx:"2",cy:"2",r:"1"}),v.jsx("circle",{cx:"2",cy:"8",r:"1"}),v.jsx("circle",{cx:"2",cy:"14",r:"1"})]}),v.jsxs("svg",{className:"w-1 h-4",fill:"currentColor",viewBox:"0 0 4 16",children:[v.jsx("circle",{cx:"2",cy:"2",r:"1"}),v.jsx("circle",{cx:"2",cy:"8",r:"1"}),v.jsx("circle",{cx:"2",cy:"14",r:"1"})]})]})]})]},q.id)})})})]},R.id)})}),p&&s&&v.jsx("div",{className:"fixed pointer-events-none z-50 opacity-80",style:{left:p.x-50,top:p.y-30,transform:"rotate(-5deg)"},children:v.jsx("div",{className:"bg-white rounded-lg p-3 shadow-2xl border-2 border-indigo-500 max-w-[200px]",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:`w-5 h-5 rounded-md border flex items-center justify-center flex-shrink-0 font-semibold text-xs ${lh(s.priority).color}`,children:lh(s.priority).icon}),v.jsx("h4",{className:"font-semibold text-gray-800 text-sm line-clamp-1",children:s.title})]})})})]})},lE={sortBy:"date-desc",filterPriority:"all",filterStatus:"all"};function z4(i){const[e,n]=n1("taskListFilters",lE),s=g=>{n(p=>({...p,sortBy:g}))},o=g=>{n(p=>({...p,filterPriority:g}))},u=g=>{n(p=>({...p,filterStatus:g}))},f=()=>{n(lE)},m=D.useMemo(()=>{let g=[...i];return e.filterPriority!=="all"&&(g=g.filter(p=>p.priority===e.filterPriority)),e.filterStatus!=="all"&&(g=g.filter(p=>p.status===e.filterStatus)),g.sort((p,E)=>{switch(e.sortBy){case"date-desc":{const w=p.createdAt?.toMillis()??0;return(E.createdAt?.toMillis()??0)-w}case"date-asc":{const w=p.createdAt?.toMillis()??0,S=E.createdAt?.toMillis()??0;return w-S}case"priority":{const w={alta:0,media:1,bassa:2};return w[p.priority]-w[E.priority]}case"status":{const w={open:0,"in-progress":1,done:2};return w[p.status]-w[E.status]}default:return 0}}),g},[i,e]);return{sortBy:e.sortBy,filterPriority:e.filterPriority,filterStatus:e.filterStatus,setSortBy:s,setFilterPriority:o,setFilterStatus:u,resetFilters:f,filteredAndSortedTasks:m}}const B4=({task:i})=>{const[e,n]=D.useState(!1),s=bn(),{deleteTask:o}=aa(),u=lh(i.priority),f=D.useCallback(()=>{s(`/task/${i.id}`)},[s,i.id]),m=D.useCallback(async g=>{if(g.stopPropagation(),e)try{await o(i.id)}catch(p){console.error("Error deleting task:",p)}else n(!0),setTimeout(()=>n(!1),3e3)},[o,i.id,e]);return v.jsx(v.Fragment,{children:v.jsxs("div",{onClick:f,className:"group bg-white border border-gray-200 hover:border-indigo-300 rounded-xl p-3 sm:p-4 hover:shadow-lg transition-all duration-300 cursor-pointer",children:[v.jsxs("div",{className:"sm:hidden",children:[v.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[v.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[v.jsx("div",{className:`w-6 h-6 rounded-lg border flex items-center justify-center flex-shrink-0 font-semibold text-xs ${u.color}`,title:`Priorità ${u.label}`,children:u.icon}),v.jsx("h3",{className:"text-sm font-semibold text-gray-800 group-hover:text-indigo-700 transition-colors duration-300 line-clamp-2 flex-1",children:i.title})]}),v.jsx("button",{onClick:m,className:`p-1 rounded-lg transition-all duration-200 cursor-pointer flex-shrink-0 ${e?"bg-red-500 text-white hover:bg-red-600":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:e?"Clicca per confermare":"Elimina task",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),i.description&&v.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed mb-2 ml-8 whitespace-pre-wrap",children:i.description}),v.jsx("div",{className:"flex items-center justify-end gap-2 ml-8",children:v.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full border ${Nh(i.status)}`,children:i.status})})]}),v.jsxs("div",{className:"hidden sm:flex gap-4 items-start",children:[v.jsx("div",{className:`w-7 h-7 rounded-lg border flex items-center justify-center flex-shrink-0 font-semibold text-sm ${u.color}`,title:`Priorità ${u.label}`,children:u.icon}),v.jsxs("div",{className:"flex flex-col gap-2 flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-start justify-between gap-3",children:[v.jsx("h3",{className:"text-base font-semibold text-gray-800 group-hover:text-indigo-700 transition-colors duration-300",children:i.title}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[v.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-full border ${Nh(i.status)}`,children:i.status}),v.jsx("button",{onClick:m,className:`p-1.5 rounded-lg transition-all duration-200 cursor-pointer ${e?"bg-red-500 text-white hover:bg-red-600":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:e?"Clicca per confermare":"Elimina task",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),v.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed whitespace-pre-wrap",children:i.description})]}),v.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-500 transition-all duration-300 group-hover:translate-x-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})},q4=()=>{const{tasks:i}=aa(),{sortBy:e,filterPriority:n,filterStatus:s,setSortBy:o,setFilterPriority:u,setFilterStatus:f,resetFilters:m,filteredAndSortedTasks:g}=z4(i),p={all:"Tutte",alta:"Alta",media:"Media",bassa:"Bassa"},E={all:"Tutti",open:"Aperto","in-progress":"In Corso",done:"Fatto"},w={"date-desc":"Più recenti","date-asc":"Meno recenti",priority:"Priorità",status:"Stato"};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-200 space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2 pb-3 border-b border-gray-200",children:[v.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),v.jsx("h3",{className:"font-semibold text-gray-800",children:"Filtra e Ordina"})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Priorità"}),v.jsx("select",{value:n,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["all","alta","media","bassa"].map(S=>v.jsx("option",{value:S,children:p[S]},S))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Stato"}),v.jsx("select",{value:s,onChange:S=>f(S.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["all","open","in-progress","done"].map(S=>v.jsx("option",{value:S,children:E[S]},S))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Ordina per"}),v.jsx("select",{value:e,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["date-desc","date-asc","priority","status"].map(S=>v.jsx("option",{value:S,children:w[S]},S))})]})]}),(n!=="all"||s!=="all")&&v.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-2 border-t border-gray-200",children:[v.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Filtri attivi:"}),n!=="all"&&v.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium",children:["Priorità: ",p[n],v.jsx("button",{onClick:()=>u("all"),className:"hover:bg-indigo-200 rounded-full p-0.5 cursor-pointer",children:v.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s!=="all"&&v.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:["Stato: ",E[s],v.jsx("button",{onClick:()=>f("all"),className:"hover:bg-purple-200 rounded-full p-0.5 cursor-pointer",children:v.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),v.jsx("button",{onClick:m,className:"text-xs text-gray-500 hover:text-gray-700 underline cursor-pointer ml-auto",children:"Rimuovi tutti"})]})]}),v.jsx("div",{className:"flex flex-col gap-4",children:g.length>0?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"text-sm text-gray-600 px-2",children:[g.length," ",g.length===1?"task trovato":"tasks trovati",(n!=="all"||s!=="all")&&v.jsxs("span",{className:"ml-1",children:["(",i.length," totali)"]})]}),g.map(S=>v.jsx(B4,{task:S},S.id))]}):i.length===0?v.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[v.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),v.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Nessun task presente"}),v.jsx("p",{className:"text-gray-500",children:"Inizia creando il tuo primo task!"})]}):v.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[v.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),v.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Nessun task trovato"}),v.jsx("p",{className:"text-gray-500 mb-4",children:"Prova a modificare i filtri di ricerca"}),v.jsx("button",{onClick:m,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer text-sm font-medium",children:"Rimuovi filtri"})]})})]})},H4=()=>{const i=bn(),{tasks:e}=aa(),[n,s]=n1("tasks-view-mode","kanban"),o=D.useMemo(()=>({total:e.length,open:e.filter(f=>f.status==="open").length,inProgress:e.filter(f=>f.status==="in-progress").length,done:e.filter(f=>f.status==="done").length,highPriority:e.filter(f=>f.priority==="alta").length}),[e]),u=D.useCallback(()=>{i("/task/create")},[i]);return v.jsxs(Jr,{title:"Tasks",className:n==="kanban"?"":"lg:w-2/3",children:[v.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[v.jsxs("div",{className:"grid grid-cols-5 gap-4 p-4 border-b border-gray-200",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.total}),v.jsx("div",{className:"text-xs text-gray-600",children:"Totali"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-gray-500",children:o.open}),v.jsx("div",{className:"text-xs text-gray-600",children:"Da Fare"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.inProgress}),v.jsx("div",{className:"text-xs text-gray-600",children:"In Corso"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.done}),v.jsx("div",{className:"text-xs text-gray-600",children:"Completati"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.highPriority}),v.jsx("div",{className:"text-xs text-gray-600",children:"Alta Priorità"})]})]}),v.jsxs("div",{className:"flex items-center justify-between p-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-gray-800",children:"Visualizza Tasks"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Scegli la vista che preferisci"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[v.jsxs("button",{onClick:()=>s("list"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all duration-200 cursor-pointer ${n==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),v.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Lista"})]}),v.jsxs("button",{onClick:()=>s("kanban"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all duration-200 cursor-pointer ${n==="kanban"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})}),v.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Kanban"})]})]}),v.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),v.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Nuovo Task"})]})]})]})]}),v.jsx("div",{className:"mt-6",children:n==="list"?v.jsx(q4,{}):v.jsx(U4,{})}),v.jsx("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-4",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-semibold text-indigo-900 mb-1",children:n==="kanban"?"Vista Kanban":"Vista Lista"}),v.jsx("p",{className:"text-sm text-indigo-700",children:n==="kanban"?v.jsxs(v.Fragment,{children:["Trascina i task tra le colonne per cambiare stato. Usa la"," ",v.jsx("span",{className:"font-semibold",children:"Vista Lista"})," per filtri avanzati e ricerca dettagliata."]}):v.jsxs(v.Fragment,{children:["Filtra e ordina i task come preferisci. Usa la"," ",v.jsx("span",{className:"font-semibold",children:"Vista Kanban"})," per una panoramica visuale del workflow."]})})]})]})})]})},F4=()=>{const{isSidebarOpen:i,closeSidebar:e}=tp(),{user:n}=ei();return n?v.jsxs("div",{className:"flex h-screen",children:[i&&v.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 animate-fadeIn",onClick:e}),v.jsx(D4,{}),v.jsx("div",{className:"flex-1 overflow-auto",children:v.jsxs(Iv,{children:[v.jsx(rn,{path:"/",element:v.jsx(Vl,{to:"/dashboard",replace:!0})}),v.jsx(rn,{path:"/dashboard",element:v.jsx(I4,{})}),v.jsx(rn,{path:"/sticky-wall",element:v.jsx(V4,{})}),v.jsx(rn,{path:"/note/create",element:v.jsx(O4,{})}),v.jsx(rn,{path:"/note/:noteId",element:v.jsx(M4,{})}),v.jsx(rn,{path:"/tasks",element:v.jsx(H4,{})}),v.jsx(rn,{path:"/task/create",element:v.jsx(P4,{})}),v.jsx(rn,{path:"/task/:taskId",element:v.jsx(L4,{})}),v.jsx(rn,{path:"/task-list",element:v.jsx(Vl,{to:"/tasks",replace:!0})}),v.jsx(rn,{path:"/kanban-board",element:v.jsx(Vl,{to:"/tasks",replace:!0})}),v.jsx(rn,{path:"*",element:v.jsx(Vl,{to:"/dashboard",replace:!0})})]})})]}):v.jsxs(Iv,{children:[v.jsx(rn,{path:"/login",element:v.jsx(GS,{})}),v.jsx(rn,{path:"/signup",element:v.jsx(KS,{})}),v.jsx(rn,{path:"*",element:v.jsx(Vl,{to:"/login",replace:!0})})]})},G4=({children:i})=>{const[e,n]=D.useState(null),[s,o]=D.useState(!0),u=async(E,w)=>{await lN(Ll,E,w)},f=async(E,w)=>{await uN(Ll,E,w)},m=async()=>{const E=new Hr;await ON(Ll,E)},g=async()=>{await dN(Ll)};D.useEffect(()=>fN(Ll,w=>{n(w),o(!1)}),[]);const p={user:e,signup:u,login:f,loginWithGoogle:m,logout:g};return v.jsx(zE.Provider,{value:p,children:!s&&i})},K4=({children:i})=>{const[e,n]=D.useState(!1),s=D.useCallback(()=>{n(!0),document.body.style.overflow="hidden"},[]),o=D.useCallback(()=>{n(!1),document.body.style.overflow="unset"},[]);return v.jsx(t1.Provider,{value:{isSidebarOpen:e,openSidebar:s,closeSidebar:o},children:i})};Uw.createRoot(document.getElementById("root")).render(v.jsx(D.StrictMode,{children:v.jsx(W2,{children:v.jsx(G4,{children:v.jsx(K4,{children:v.jsx(F4,{})})})})}));
