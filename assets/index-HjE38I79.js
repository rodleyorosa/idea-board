(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var em={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function Aw(){if(f0)return Nl;f0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var d0;function Sw(){return d0||(d0=1,em.exports=Aw()),em.exports}var T=Sw(),tm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function Rw(){if(m0)return Re;m0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,K={};function H(N,ee,oe){this.props=N,this.context=ee,this.refs=K,this.updater=oe||V}H.prototype.isReactComponent={},H.prototype.setState=function(N,ee){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ee,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ne(){}ne.prototype=H.prototype;function te(N,ee,oe){this.props=N,this.context=ee,this.refs=K,this.updater=oe||V}var ie=te.prototype=new ne;ie.constructor=te,j(ie,H.prototype),ie.isPureReactComponent=!0;var Se=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},xe=Object.prototype.hasOwnProperty;function D(N,ee,oe,se,de,Oe){return oe=Oe.ref,{$$typeof:i,type:N,key:ee,ref:oe!==void 0?oe:null,props:Oe}}function R(N,ee){return D(N.type,ee,void 0,void 0,void 0,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function k(N){var ee={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return ee[oe]})}var O=/\/+/g;function U(N,ee){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):ee.toString(36)}function I(){}function lt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(ee){N.status==="pending"&&(N.status="fulfilled",N.value=ee)},function(ee){N.status==="pending"&&(N.status="rejected",N.reason=ee)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function nt(N,ee,oe,se,de){var Oe=typeof N;(Oe==="undefined"||Oe==="boolean")&&(N=null);var Ee=!1;if(N===null)Ee=!0;else switch(Oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(N.$$typeof){case i:case e:Ee=!0;break;case E:return Ee=N._init,nt(Ee(N._payload),ee,oe,se,de)}}if(Ee)return de=de(N),Ee=se===""?"."+U(N,0):se,Se(de)?(oe="",Ee!=null&&(oe=Ee.replace(O,"$&/")+"/"),nt(de,ee,oe,"",function(Pn){return Pn})):de!=null&&(x(de)&&(de=R(de,oe+(de.key==null||N&&N.key===de.key?"":(""+de.key).replace(O,"$&/")+"/")+Ee)),ee.push(de)),1;Ee=0;var Pt=se===""?".":se+":";if(Se(N))for(var Ge=0;Ge<N.length;Ge++)se=N[Ge],Oe=Pt+U(se,Ge),Ee+=nt(se,ee,oe,Oe,de);else if(Ge=S(N),typeof Ge=="function")for(N=Ge.call(N),Ge=0;!(se=N.next()).done;)se=se.value,Oe=Pt+U(se,Ge++),Ee+=nt(se,ee,oe,Oe,de);else if(Oe==="object"){if(typeof N.then=="function")return nt(lt(N),ee,oe,se,de);throw ee=String(N),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Y(N,ee,oe){if(N==null)return N;var se=[],de=0;return nt(N,se,"","",function(Oe){return ee.call(oe,Oe,de++)}),se}function ae(N){if(N._status===-1){var ee=N._result;ee=ee(),ee.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=ee)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ue(){}return Re.Children={map:Y,forEach:function(N,ee,oe){Y(N,function(){ee.apply(this,arguments)},oe)},count:function(N){var ee=0;return Y(N,function(){ee++}),ee},toArray:function(N){return Y(N,function(ee){return ee})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=H,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=te,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return he.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,ee,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=j({},N.props),de=N.key,Oe=void 0;if(ee!=null)for(Ee in ee.ref!==void 0&&(Oe=void 0),ee.key!==void 0&&(de=""+ee.key),ee)!xe.call(ee,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ee.ref===void 0||(se[Ee]=ee[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=oe;else if(1<Ee){for(var Pt=Array(Ee),Ge=0;Ge<Ee;Ge++)Pt[Ge]=arguments[Ge+2];se.children=Pt}return D(N.type,de,void 0,void 0,Oe,se)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,ee,oe){var se,de={},Oe=null;if(ee!=null)for(se in ee.key!==void 0&&(Oe=""+ee.key),ee)xe.call(ee,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(de[se]=ee[se]);var Ee=arguments.length-2;if(Ee===1)de.children=oe;else if(1<Ee){for(var Pt=Array(Ee),Ge=0;Ge<Ee;Ge++)Pt[Ge]=arguments[Ge+2];de.children=Pt}if(N&&N.defaultProps)for(se in Ee=N.defaultProps,Ee)de[se]===void 0&&(de[se]=Ee[se]);return D(N,Oe,void 0,void 0,null,de)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=x,Re.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ae}},Re.memo=function(N,ee){return{$$typeof:g,type:N,compare:ee===void 0?null:ee}},Re.startTransition=function(N){var ee=he.T,oe={};he.T=oe;try{var se=N(),de=he.S;de!==null&&de(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ue,pe)}catch(Oe){pe(Oe)}finally{he.T=ee}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(N){return he.H.use(N)},Re.useActionState=function(N,ee,oe){return he.H.useActionState(N,ee,oe)},Re.useCallback=function(N,ee){return he.H.useCallback(N,ee)},Re.useContext=function(N){return he.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,ee){return he.H.useDeferredValue(N,ee)},Re.useEffect=function(N,ee,oe){var se=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(N,ee)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(N,ee,oe){return he.H.useImperativeHandle(N,ee,oe)},Re.useInsertionEffect=function(N,ee){return he.H.useInsertionEffect(N,ee)},Re.useLayoutEffect=function(N,ee){return he.H.useLayoutEffect(N,ee)},Re.useMemo=function(N,ee){return he.H.useMemo(N,ee)},Re.useOptimistic=function(N,ee){return he.H.useOptimistic(N,ee)},Re.useReducer=function(N,ee,oe){return he.H.useReducer(N,ee,oe)},Re.useRef=function(N){return he.H.useRef(N)},Re.useState=function(N){return he.H.useState(N)},Re.useSyncExternalStore=function(N,ee,oe){return he.H.useSyncExternalStore(N,ee,oe)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.1",Re}var p0;function $m(){return p0||(p0=1,tm.exports=Rw()),tm.exports}var P=$m(),nm={exports:{}},Dl={},rm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function xw(){return g0||(g0=1,(function(i){function e(Y,ae){var pe=Y.length;Y.push(ae);e:for(;0<pe;){var Ue=pe-1>>>1,N=Y[Ue];if(0<o(N,ae))Y[Ue]=ae,Y[pe]=N,pe=Ue;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],pe=Y.pop();if(pe!==ae){Y[0]=pe;e:for(var Ue=0,N=Y.length,ee=N>>>1;Ue<ee;){var oe=2*(Ue+1)-1,se=Y[oe],de=oe+1,Oe=Y[de];if(0>o(se,pe))de<N&&0>o(Oe,se)?(Y[Ue]=Oe,Y[de]=pe,Ue=de):(Y[Ue]=se,Y[oe]=pe,Ue=oe);else if(de<N&&0>o(Oe,pe))Y[Ue]=Oe,Y[de]=pe,Ue=de;else break e}}return ae}function o(Y,ae){var pe=Y.sortIndex-ae.sortIndex;return pe!==0?pe:Y.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,S=3,V=!1,j=!1,K=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Se(Y){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Y)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function he(Y){if(K=!1,Se(Y),!j)if(n(p)!==null)j=!0,xe||(xe=!0,U());else{var ae=n(g);ae!==null&&nt(he,ae.startTime-Y)}}var xe=!1,D=-1,R=5,x=-1;function k(){return H?!0:!(i.unstable_now()-x<R)}function O(){if(H=!1,xe){var Y=i.unstable_now();x=Y;var ae=!0;try{e:{j=!1,K&&(K=!1,te(D),D=-1),V=!0;var pe=S;try{t:{for(Se(Y),w=n(p);w!==null&&!(w.expirationTime>Y&&k());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,S=w.priorityLevel;var N=Ue(w.expirationTime<=Y);if(Y=i.unstable_now(),typeof N=="function"){w.callback=N,Se(Y),ae=!0;break t}w===n(p)&&s(p),Se(Y)}else s(p);w=n(p)}if(w!==null)ae=!0;else{var ee=n(g);ee!==null&&nt(he,ee.startTime-Y),ae=!1}}break e}finally{w=null,S=pe,V=!1}ae=void 0}}finally{ae?U():xe=!1}}}var U;if(typeof ie=="function")U=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,lt=I.port2;I.port1.onmessage=O,U=function(){lt.postMessage(null)}}else U=function(){ne(O,0)};function nt(Y,ae){D=ne(function(){Y(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var pe=S;S=ae;try{return Y()}finally{S=pe}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=S;S=Y;try{return ae()}finally{S=pe}},i.unstable_scheduleCallback=function(Y,ae,pe){var Ue=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pe+N,Y={id:E++,callback:ae,priorityLevel:Y,startTime:pe,expirationTime:N,sortIndex:-1},pe>Ue?(Y.sortIndex=pe,e(g,Y),n(p)===null&&Y===n(g)&&(K?(te(D),D=-1):K=!0,nt(he,pe-Ue))):(Y.sortIndex=N,e(p,Y),j||V||(j=!0,xe||(xe=!0,U()))),Y},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(Y){var ae=S;return function(){var pe=S;S=ae;try{return Y.apply(this,arguments)}finally{S=pe}}}})(im)),im}var y0;function Cw(){return y0||(y0=1,rm.exports=xw()),rm.exports}var sm={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function Iw(){if(_0)return Kt;_0=1;var i=$m();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Kt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Kt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Kt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,g){return p(g)},Kt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.1",Kt}var v0;function Nw(){if(v0)return sm.exports;v0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sm.exports=Iw(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function Dw(){if(E0)return Dl;E0=1;var i=Cw(),e=$m(),n=Nw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case H:return"Profiler";case K:return"StrictMode";case he:return"Suspense";case xe:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case Se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:lt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return lt(t(r))}catch{}}return null}var nt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],N=-1;function ee(t){return{current:t}}function oe(t){0>N||(t.current=Ue[N],Ue[N]=null,N--)}function se(t,r){N++,Ue[N]=t.current,t.current=r}var de=ee(null),Oe=ee(null),Ee=ee(null),Pt=ee(null);function Ge(t,r){switch(se(Ee,r),se(Oe,t),se(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?z_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=z_(r),t=B_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(de),se(de,t)}function Pn(){oe(de),oe(Oe),oe(Ee)}function Ao(t){t.memoizedState!==null&&se(Pt,t);var r=de.current,a=B_(r,t.type);r!==a&&(se(Oe,t),se(de,a))}function sa(t){Oe.current===t&&(oe(de),oe(Oe)),Pt.current===t&&(oe(Pt),Sl._currentValue=pe)}var aa=Object.prototype.hasOwnProperty,os=i.unstable_scheduleCallback,oa=i.unstable_cancelCallback,ef=i.unstable_shouldYield,So=i.unstable_requestPaint,rn=i.unstable_now,wu=i.unstable_getCurrentPriorityLevel,At=i.unstable_ImmediatePriority,Nt=i.unstable_UserBlockingPriority,br=i.unstable_NormalPriority,tf=i.unstable_LowPriority,Ro=i.unstable_IdlePriority,nf=i.log,ls=i.unstable_setDisableYieldValue,Jr=null,Ft=null;function En(t){if(typeof nf=="function"&&ls(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Jr,t)}catch{}}var Zt=Math.clz32?Math.clz32:Su,rf=Math.log,Au=Math.LN2;function Su(t){return t>>>=0,t===0?32:31-(rf(t)/Au|0)|0}var er=256,ei=4194304;function Ln(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Ln(l):(v&=b,v!==0?h=Ln(v):a||(a=b&~t,a!==0&&(h=Ln(a))))):(b=l&~d,b!==0?h=Ln(b):v!==0?h=Ln(v):a||(a=l&~t,a!==0&&(h=Ln(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ti(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function la(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=er;return er<<=1,(er&4194048)===0&&(er=256),t}function ni(){var t=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),t}function ua(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ht(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ru(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Zt(a),Z=1<<$;b[$]=0,C[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var G=F[$];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&ri(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function ri(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Zt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ii(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Co(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Io(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:a0(t.type))}function sf(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var tr=Math.random().toString(36).slice(2),ft="__reactFiber$"+tr,Lt="__reactProps$"+tr,Ar="__reactContainer$"+tr,us="__reactEvents$"+tr,cs="__reactListeners$"+tr,af="__reactHandles$"+tr,Un="__reactResources$"+tr,si="__reactMarker$"+tr;function ca(t){delete t[ft],delete t[Lt],delete t[us],delete t[cs],delete t[af]}function nr(t){var r=t[ft];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ar]||a[ft]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=G_(t);t!==null;){if(a=t[ft])return a;t=G_(t)}return r}t=a,a=t.parentNode}return null}function rr(t){if(t=t[ft]||t[Ar]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ai(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function oi(t){var r=t[Un];return r||(r=t[Un]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(t){t[si]=!0}var xu=new Set,hs={};function ir(t,r){sr(t,r),sr(t+"Capture",r)}function sr(t,r){for(hs[t]=r,t=0;t<r.length;t++)xu.add(r[t])}var fs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ar={},ha={};function of(t){return aa.call(ha,t)?!0:aa.call(ar,t)?!1:fs.test(t)?ha[t]=!0:(ar[t]=!0,!1)}function ds(t,r,a){if(of(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ms(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function bn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ps,fa;function Sr(t){if(ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ps=r&&r[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+fa}var da=!1;function ma(t,r){if(!t||da)return"";da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var F=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){F=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){F=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var C=v.split(`
`),q=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{da=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Sr(a):""}function lf(t){switch(t.tag){case 26:case 27:case 5:return Sr(t.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 15:return ma(t.type,!1);case 11:return ma(t.type.render,!1);case 1:return ma(t.type,!0);case 31:return Sr("Activity");default:return""}}function jn(t){try{var r="";do r+=lf(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function st(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function li(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gs(t){var r=li(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ui(t){t._valueTracker||(t._valueTracker=gs(t))}function Qe(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=li(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ys=/[\n"\\]/g;function Dt(t){return t.replace(ys,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function No(t,r,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+st(r)):t.value!==""+st(r)&&(t.value=""+st(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Oo(t,v,st(r)):a!=null?Oo(t,v,st(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+st(b):t.removeAttribute("name")}function Do(t,r,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+st(a):"",r=r!=null?""+st(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Oo(t,r,a){r==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ci(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+st(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Cu(t,r,a){if(r!=null&&(r=""+st(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+st(a):""}function Iu(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=st(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||xr.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ko(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Mo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Mo(t,d,r[d])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Du=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zn(t){return Du.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vo=null;function Po(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,Jt=null;function Ou(t){var r=rr(t);if(r&&(t=r.stateNode)){var a=t[Lt]||null;e:switch(t=r.stateNode,r.type){case"input":if(No(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));No(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Qe(l)}break e;case"textarea":Cu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ci(t,!!a.multiple,r,!1)}}}var _s=!1;function vs(t,r,a){if(_s)return t(r,a);_s=!0;try{var l=t(r);return l}finally{if(_s=!1,(hi!==null||Jt!==null)&&(Tc(),hi&&(r=hi,t=Jt,Jt=hi=null,Ou(r),t)))for(r=0;r<t.length;r++)Ou(t[r])}}function fi(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(en)try{var di={};Object.defineProperty(di,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Cr=!1}var An=null,We=null,ga=null;function Mu(){if(ga)return ga;var t,r=We,a=r.length,l,h="value"in An?An.value:An.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return ga=h.slice(t,1<l?1-l:void 0)}function Es(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function Lo(){return!1}function St(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ts:Lo,this.isPropagationStopped=Lo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),r}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=St(Gt),ws=E({},Gt,{view:0,detail:0}),As=St(ws),ya,Ss,or,Rs=E({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==or&&(or&&t.type==="mousemove"?(ya=t.screenX-or.screenX,Ss=t.screenY-or.screenY):Ss=ya=0,or=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:Ss}}),xs=St(Rs),uf=E({},Rs,{dataTransfer:0}),ku=St(uf),Cs=E({},ws,{relatedTarget:0}),_a=St(Cs),Vu=E({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Uo=St(Vu),jo=E({},Gt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pu=St(jo),va=E({},Gt,{data:0}),zo=St(va),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ir={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Uu[t])?!!r[t]:!1}function Ea(){return ju}var zu=E({},ws,{key:function(t){if(t.key){var r=Lu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ir[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ta=St(zu),tn=E({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=St(tn),Bu=E({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),mi=St(Bu),c=E({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=St(c),_=E({},Rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A=St(_),B=E({},Gt,{newState:0,oldState:0}),Q=St(B),re=[9,13,27,32],we=en&&"CompositionEvent"in window,et=null;en&&"documentMode"in document&&(et=document.documentMode);var qe=en&&"TextEvent"in window&&!et,mt=en&&(!we||et&&8<et&&11>=et),cn=" ",lr=!1;function Bn(t,r){switch(t){case"keyup":return re.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function qo(t,r){switch(t){case"compositionend":return qn(r);case"keypress":return r.which!==32?null:(lr=!0,cn);case"textInput":return t=r.data,t===cn&&lr?null:t;default:return null}}function W1(t,r){if(Hn)return t==="compositionend"||!we&&Bn(t,r)?(t=Mu(),ga=We=An=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return mt&&r.locale!=="ko"?null:r.data;default:return null}}var Z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Z1[t.type]:r==="textarea"}function tg(t,r,a,l){hi?Jt?Jt.push(l):Jt=[l]:hi=l,r=xc(r,"onChange"),0<r.length&&(a=new bs("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ho=null,Fo=null;function J1(t){V_(t,0)}function qu(t){var r=ai(t);if(Qe(r))return t}function ng(t,r){if(t==="change")return r}var rg=!1;if(en){var cf;if(en){var hf="oninput"in document;if(!hf){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),hf=typeof ig.oninput=="function"}cf=hf}else cf=!1;rg=cf&&(!document.documentMode||9<document.documentMode)}function sg(){Ho&&(Ho.detachEvent("onpropertychange",ag),Fo=Ho=null)}function ag(t){if(t.propertyName==="value"&&qu(Fo)){var r=[];tg(r,Fo,t,Po(t)),vs(J1,r)}}function eb(t,r,a){t==="focusin"?(sg(),Ho=r,Fo=a,Ho.attachEvent("onpropertychange",ag)):t==="focusout"&&sg()}function tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(Fo)}function nb(t,r){if(t==="click")return qu(r)}function rb(t,r){if(t==="input"||t==="change")return qu(r)}function ib(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var hn=typeof Object.is=="function"?Object.is:ib;function Go(t,r){if(hn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!aa.call(r,h)||!hn(t[h],r[h]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lg(t,r){var a=og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=og(a)}}function ug(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ug(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Rr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Rr(t.document)}return r}function ff(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var sb=en&&"documentMode"in document&&11>=document.documentMode,ba=null,df=null,Qo=null,mf=!1;function hg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||ba==null||ba!==Rr(l)||(l=ba,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Go(Qo,l)||(Qo=l,l=xc(df,"onSelect"),0<l.length&&(r=new bs("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ba)))}function Is(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var wa={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},pf={},fg={};en&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ns(t){if(pf[t])return pf[t];if(!wa[t])return t;var r=wa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in fg)return pf[t]=r[a];return t}var dg=Ns("animationend"),mg=Ns("animationiteration"),pg=Ns("animationstart"),ab=Ns("transitionrun"),ob=Ns("transitionstart"),lb=Ns("transitioncancel"),gg=Ns("transitionend"),yg=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function Fn(t,r){yg.set(t,r),ir(r,[t])}var _g=new WeakMap;function Sn(t,r){if(typeof t=="object"&&t!==null){var a=_g.get(t);return a!==void 0?a:(r={value:t,source:r,stack:jn(r)},_g.set(t,r),r)}return{value:t,source:r,stack:jn(r)}}var Rn=[],Aa=0,yf=0;function Hu(){for(var t=Aa,r=yf=Aa=0;r<t;){var a=Rn[r];Rn[r++]=null;var l=Rn[r];Rn[r++]=null;var h=Rn[r];Rn[r++]=null;var d=Rn[r];if(Rn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&vg(a,h,d)}}function Fu(t,r,a,l){Rn[Aa++]=t,Rn[Aa++]=r,Rn[Aa++]=a,Rn[Aa++]=l,yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,r,a,l){return Fu(t,r,a,l),Gu(t)}function Sa(t,r){return Fu(t,null,null,r),Gu(t)}function vg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Zt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Gu(t){if(50<yl)throw yl=0,Ad=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ra={};function ub(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,r,a,l){return new ub(t,r,a,l)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nr(t,r){var a=t.alternate;return a===null?(a=fn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Eg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Qu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")vf(t)&&(v=1);else if(typeof t=="string")v=hw(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=fn(31,a,r,h),t.elementType=x,t.lanes=d,t;case j:return Ds(a.children,h,d,r);case K:v=8,h|=24;break;case H:return t=fn(12,a,r,h|2),t.elementType=H,t.lanes=d,t;case he:return t=fn(13,a,r,h),t.elementType=he,t.lanes=d,t;case xe:return t=fn(19,a,r,h),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case ie:v=10;break e;case te:v=9;break e;case Se:v=11;break e;case D:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=fn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ds(t,r,a,l){return t=fn(7,t,l,r),t.lanes=a,t}function Ef(t,r,a){return t=fn(6,t,null,r),t.lanes=a,t}function Tf(t,r,a){return r=fn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var xa=[],Ca=0,Ku=null,Yu=0,xn=[],Cn=0,Os=null,Dr=1,Or="";function Ms(t,r){xa[Ca++]=Yu,xa[Ca++]=Ku,Ku=t,Yu=r}function Tg(t,r,a){xn[Cn++]=Dr,xn[Cn++]=Or,xn[Cn++]=Os,Os=t;var l=Dr;t=Or;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Dr=1<<32-Zt(r)+h|a<<h|l,Or=d+t}else Dr=1<<d|a<<h|l,Or=t}function bf(t){t.return!==null&&(Ms(t,1),Tg(t,1,0))}function wf(t){for(;t===Ku;)Ku=xa[--Ca],xa[Ca]=null,Yu=xa[--Ca],xa[Ca]=null;for(;t===Os;)Os=xn[--Cn],xn[Cn]=null,Or=xn[--Cn],xn[Cn]=null,Dr=xn[--Cn],xn[Cn]=null}var nn=null,ut=null,ze=!1,ks=null,ur=!1,Af=Error(s(519));function Vs(t){var r=Error(s(418,""));throw $o(Sn(r,t)),Af}function bg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[ft]=t,r[Lt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<vl.length;a++)De(vl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),Do(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ui(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Iu(r,l.value,l.defaultValue,l.children),ui(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||j_(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=Cc),r=!0):r=!1,r||Vs(t)}function wg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:nn=nn.return}}function Ko(t){if(t!==nn)return!1;if(!ze)return wg(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||zd(t.type,t.memoizedProps)),a=!a),a&&ut&&Vs(t),wg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,Ni(t.type)?(t=Fd,Fd=null,ut=t):ut=r):ut=nn?Qn(t.stateNode.nextSibling):null;return!0}function Yo(){ut=nn=null,ze=!1}function Ag(){var t=ks;return t!==null&&(on===null?on=t:on.push.apply(on,t),ks=null),t}function $o(t){ks===null?ks=[t]:ks.push(t)}var Sf=ee(null),Ps=null,Mr=null;function pi(t,r,a){se(Sf,r._currentValue),r._currentValue=a}function kr(t){t._currentValue=Sf.current,oe(Sf)}function Rf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function xf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<r.length;C++)if(b.context===r[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Rf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Xo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Pt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&xf(r,t,a,l),r.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ls(t){Ps=t,Mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Sg(Ps,t)}function Xu(t,r){return Ps===null&&Ls(t),Sg(t,r)}function Sg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Mr===null){if(t===null)throw Error(s(308));Mr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Mr=Mr.next=r;return a}var cb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},hb=i.unstable_scheduleCallback,fb=i.unstable_NormalPriority,Rt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new cb,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&hb(fb,function(){t.controller.abort()})}var Zo=null,If=0,Ia=0,Na=null;function db(t,r){if(Zo===null){var a=Zo=[];If=0,Ia=Dd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return If++,r.then(Rg,Rg),r}function Rg(){if(--If===0&&Zo!==null){Na!==null&&(Na.status="fulfilled");var t=Zo;Zo=null,Ia=0,Na=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function mb(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xg=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&db(t,r),xg!==null&&xg(t,r)};var Us=ee(null);function Nf(){var t=Us.current;return t!==null?t:Ze.pooledCache}function Wu(t,r){r===null?se(Us,Us.current):se(Us,r.pool)}function Cg(){var t=Nf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Jo=Error(s(460)),Ig=Error(s(474)),Zu=Error(s(542)),Df={then:function(){}};function Ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ju(){}function Dg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Ju,Ju),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Mg(t),t;default:if(typeof r.status=="string")r.then(Ju,Ju);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Mg(t),t}throw el=r,Jo}}var el=null;function Og(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function Mg(t){if(t===Jo||t===Zu)throw Error(s(483))}var gi=!1;function Of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _i(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Gu(t),vg(t,null,a),r}return Fu(t,l,r,a),Gu(t)}function tl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ii(t,a)}}function kf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Vf=!1;function nl(){if(Vf){var t=Na;if(t!==null)throw t}}function rl(t,r,a,l){Vf=!1;var h=t.updateQueue;gi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,q=C.next;C.next=null,v===null?d=q:v.next=q,v=C;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==v&&(b===null?$.firstBaseUpdate=q:b.next=q,$.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,$=q=C=null,b=d;do{var F=b.lane&-536870913,G=F!==b.lane;if(G?(Pe&F)===F:(l&F)===F){F!==0&&F===Ia&&(Vf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=t,ge=b;F=r;var $e=a;switch(ge.tag){case 1:if(Te=ge.payload,typeof Te=="function"){Z=Te.call($e,Z,F);break e}Z=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ge.payload,F=typeof Te=="function"?Te.call($e,Z,F):Te,F==null)break e;Z=E({},Z,F);break e;case 2:gi=!0}}F=b.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(q=$=G,C=Z):$=$.next=G,v|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Ri|=v,t.lanes=v,t.memoizedState=Z}}function kg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Vg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)kg(a[t],r)}var Da=ee(null),ec=ee(0);function Pg(t,r){t=Br,se(ec,t),se(Da,r),Br=t|r.baseLanes}function Pf(){se(ec,Br),se(Da,Da.current)}function Lf(){Br=ec.current,oe(Da),oe(ec)}var vi=0,Ce=null,Ke=null,_t=null,tc=!1,Oa=!1,js=!1,nc=0,il=0,Ma=null,pb=0;function pt(){throw Error(s(321))}function Uf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!hn(t[a],r[a]))return!1;return!0}function jf(t,r,a,l,h,d){return vi=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?vy:Ey,js=!1,d=a(l,h),js=!1,Oa&&(d=Ug(r,a,l,h)),Lg(t),d}function Lg(t){Y.H=lc;var r=Ke!==null&&Ke.next!==null;if(vi=0,_t=Ke=Ce=null,tc=!1,il=0,Ma=null,r)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&$u(t)&&(Ot=!0))}function Ug(t,r,a,l){Ce=t;var h=0;do{if(Oa&&(Ma=null),il=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,_t=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=bb,d=r(a,l)}while(Oa);return d}function gb(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ce.flags|=1024),r}function zf(){var t=nc!==0;return nc=0,t}function Bf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function qf(t){if(tc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}tc=!1}vi=0,_t=Ke=Ce=null,Oa=!1,il=nc=0,Ma=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ce.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Ke===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var r=_t===null?Ce.memoizedState:_t.next;if(r!==null)_t=r,Ke=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},_t===null?Ce.memoizedState=_t=t:_t=_t.next=t}return _t}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var r=il;return il+=1,Ma===null&&(Ma=[]),t=Dg(Ma,t,r),r=Ce,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?vy:Ey),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===ie)return Qt(t)}throw Error(s(438,String(t)))}function Ff(t){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Hf(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=k;return r.index++,a}function Vr(t,r){return typeof r=="function"?r(t):r}function ic(t){var r=vt();return Gf(r,Ke,t)}function Gf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=v=null,C=null,q=r,$=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Pe&Z)===Z:(vi&Z)===Z){var F=q.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Ia&&($=!0);else if((vi&F)===F){q=q.next,F===Ia&&($=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(b=C=Z,v=d):C=C.next=Z,Ce.lanes|=F,Ri|=F;Z=q.action,js&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else F={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(b=C=F,v=d):C=C.next=F,Ce.lanes|=Z,Ri|=Z;q=q.next}while(q!==null&&q!==r);if(C===null?v=d:C.next=b,!hn(d,t.memoizedState)&&(Ot=!0,$&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,r.memoizedState)||(Ot=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function jg(t,r,a){var l=Ce,h=vt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!hn((Ke||h).memoizedState,a);v&&(h.memoizedState=a,Ot=!0),h=h.queue;var b=qg.bind(null,l,h,t);if(al(2048,8,b,[t]),h.getSnapshot!==r||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,ka(9,sc(),Bg.bind(null,l,h,a,r),null),Ze===null)throw Error(s(349));d||(vi&124)!==0||zg(l,r,a)}return a}function zg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=Hf(),Ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Bg(t,r,a,l){r.value=a,r.getSnapshot=l,Hg(r)&&Fg(t)}function qg(t,r,a){return a(function(){Hg(r)&&Fg(t)})}function Hg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!hn(t,a)}catch{return!0}}function Fg(t){var r=Sa(t,2);r!==null&&yn(r,t,2)}function Kf(t){var r=sn();if(typeof t=="function"){var a=t;if(t=a(),js){En(!0);try{a()}finally{En(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:t},r}function Gg(t,r,a,l){return t.baseState=a,Gf(t,Ke,typeof l=="function"?l:Vr)}function yb(t,r,a,l,h){if(oc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Qg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Qg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var b=a(h,l),C=Y.S;C!==null&&C(v,b),Kg(t,r,b)}catch(q){Yf(t,r,q)}finally{Y.T=d}}else try{d=a(h,l),Kg(t,r,d)}catch(q){Yf(t,r,q)}}function Kg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yg(t,r,l)},function(l){return Yf(t,r,l)}):Yg(t,r,a)}function Yg(t,r,a){r.status="fulfilled",r.value=a,$g(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Qg(t,a)))}function Yf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,$g(r),r=r.next;while(r!==l)}t.action=null}function $g(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Xg(t,r){return r}function Wg(t,r){if(ze){var a=Ze.formState;if(a!==null){e:{var l=Ce;if(ze){if(ut){t:{for(var h=ut,d=ur;h.nodeType!==8;){if(!d){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Qn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:r},a.queue=l,a=gy.bind(null,Ce,l),l.dispatch=a,l=Kf(!1),d=Jf.bind(null,Ce,!1,l.queue),l=sn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=yb.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Zg(t){var r=vt();return Jg(r,Ke,t)}function Jg(t,r,a){if(r=Gf(t,r,Xg)[0],t=ic(Vr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=sl(r)}catch(v){throw v===Jo?Zu:v}else l=r;r=vt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,ka(9,sc(),_b.bind(null,h,a),null)),[l,d,t]}function _b(t,r){t.action=r}function ey(t){var r=vt(),a=Ke;if(a!==null)return Jg(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function ka(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Hf(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function sc(){return{destroy:void 0,resource:void 0}}function ty(){return vt().memoizedState}function ac(t,r,a,l){var h=sn();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=ka(1|r,sc(),a,l)}function al(t,r,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ke!==null&&l!==null&&Uf(l,Ke.memoizedState.deps)?h.memoizedState=ka(r,d,a,l):(Ce.flags|=t,h.memoizedState=ka(1|r,d,a,l))}function ny(t,r){ac(8390656,8,t,r)}function ry(t,r){al(2048,8,t,r)}function iy(t,r){return al(4,2,t,r)}function sy(t,r){return al(4,4,t,r)}function ay(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function oy(t,r,a){a=a!=null?a.concat([t]):null,al(4,4,ay.bind(null,r,t),a)}function $f(){}function ly(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Uf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function uy(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Uf(r,l[1]))return l[0];if(l=t(),js){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,r],l}function Xf(t,r,a){return a===void 0||(vi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=f_(),Ce.lanes|=t,Ri|=t,a)}function cy(t,r,a,l){return hn(a,r)?a:Da.current!==null?(t=Xf(t,a,l),hn(t,r)||(Ot=!0),t):(vi&42)===0?(Ot=!0,t.memoizedState=a):(t=f_(),Ce.lanes|=t,Ri|=t,r)}function hy(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=Y.T,b={};Y.T=b,Jf(t,!1,r,a);try{var C=h(),q=Y.S;if(q!==null&&q(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=mb(C,l);ol(t,r,$,gn(t))}else ol(t,r,l,gn(t))}catch(Z){ol(t,r,{then:function(){},status:"rejected",reason:Z},gn())}finally{ae.p=d,Y.T=v}}function vb(){}function Wf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=fy(t).queue;hy(t,h,r,pe,a===null?vb:function(){return dy(t),a(l)})}function fy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function dy(t){var r=fy(t).next.queue;ol(t,r,{},gn())}function Zf(){return Qt(Sl)}function my(){return vt().memoizedState}function py(){return vt().memoizedState}function Eb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=gn();t=yi(a);var l=_i(r,t,a);l!==null&&(yn(l,r,a),tl(l,r,a)),r={cache:Cf()},t.payload=r;return}r=r.return}}function Tb(t,r,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?yy(r,a):(a=_f(t,r,a,l),a!==null&&(yn(a,t,l),_y(a,r,l)))}function gy(t,r,a){var l=gn();ol(t,r,a,l)}function ol(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))yy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,hn(b,v))return Fu(t,r,h,0),Ze===null&&Hu(),!1}catch{}finally{}if(a=_f(t,r,h,l),a!==null)return yn(a,t,l),_y(a,r,l),!0}return!1}function Jf(t,r,a,l){if(l={lane:2,revertLane:Dd(),action:l,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(r)throw Error(s(479))}else r=_f(t,a,l,2),r!==null&&yn(r,t,2)}function oc(t){var r=t.alternate;return t===Ce||r!==null&&r===Ce}function yy(t,r){Oa=tc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function _y(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ii(t,a)}}var lc={readContext:Qt,use:rc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},vy={readContext:Qt,use:rc,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Qt,useEffect:ny,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,ac(4194308,4,ay.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ac(4194308,4,t,r)},useInsertionEffect:function(t,r){ac(4,2,t,r)},useMemo:function(t,r){var a=sn();r=r===void 0?null:r;var l=t();if(js){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=sn();if(a!==void 0){var h=a(r);if(js){En(!0);try{a(r)}finally{En(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Tb.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:function(t){t=Kf(t);var r=t.queue,a=gy.bind(null,Ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,r){var a=sn();return Xf(a,t,r)},useTransition:function(){var t=Kf(!1);return t=hy.bind(null,Ce,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ce,h=sn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));(Pe&124)!==0||zg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,ny(qg.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,sc(),Bg.bind(null,l,d,a,r),null),a},useId:function(){var t=sn(),r=Ze.identifierPrefix;if(ze){var a=Or,l=Dr;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=nc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=pb++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Zf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t){var r=sn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Jf.bind(null,Ce,!0,a),a.dispatch=r,[t,r]},useMemoCache:Ff,useCacheRefresh:function(){return sn().memoizedState=Eb.bind(null,Ce)}},Ey={readContext:Qt,use:rc,useCallback:ly,useContext:Qt,useEffect:ry,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:ic,useRef:ty,useState:function(){return ic(Vr)},useDebugValue:$f,useDeferredValue:function(t,r){var a=vt();return cy(a,Ke.memoizedState,t,r)},useTransition:function(){var t=ic(Vr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:jg,useId:my,useHostTransitionStatus:Zf,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,r){var a=vt();return Gg(a,Ke,t,r)},useMemoCache:Ff,useCacheRefresh:py},bb={readContext:Qt,use:rc,useCallback:ly,useContext:Qt,useEffect:ry,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:Qf,useRef:ty,useState:function(){return Qf(Vr)},useDebugValue:$f,useDeferredValue:function(t,r){var a=vt();return Ke===null?Xf(a,t,r):cy(a,Ke.memoizedState,t,r)},useTransition:function(){var t=Qf(Vr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:jg,useId:my,useHostTransitionStatus:Zf,useFormState:ey,useActionState:ey,useOptimistic:function(t,r){var a=vt();return Ke!==null?Gg(a,Ke,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:py},Va=null,ll=0;function uc(t){var r=ll;return ll+=1,Va===null&&(Va=[]),Dg(Va,t,r)}function ul(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function cc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ty(t){var r=t._init;return r(t._payload)}function by(t){function r(L,M){if(t){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Nr(L,M),L.index=0,L.sibling=null,L}function d(L,M,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,M,z,X){return M===null||M.tag!==6?(M=Ef(z,L.mode,X),M.return=L,M):(M=h(M,z),M.return=L,M)}function C(L,M,z,X){var ce=z.type;return ce===j?$(L,M,z.props.children,X,z.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&Ty(ce)===M.type)?(M=h(M,z.props),ul(M,z),M.return=L,M):(M=Qu(z.type,z.key,z.props,null,L.mode,X),ul(M,z),M.return=L,M)}function q(L,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Tf(z,L.mode,X),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function $(L,M,z,X,ce){return M===null||M.tag!==7?(M=Ds(z,L.mode,X,ce),M.return=L,M):(M=h(M,z),M.return=L,M)}function Z(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ef(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return z=Qu(M.type,M.key,M.props,null,L.mode,z),ul(z,M),z.return=L,z;case V:return M=Tf(M,L.mode,z),M.return=L,M;case R:var X=M._init;return M=X(M._payload),Z(L,M,z)}if(nt(M)||U(M))return M=Ds(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return Z(L,uc(M),z);if(M.$$typeof===ie)return Z(L,Xu(L,M),z);cc(L,M)}return null}function F(L,M,z,X){var ce=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ce!==null?null:b(L,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===ce?C(L,M,z,X):null;case V:return z.key===ce?q(L,M,z,X):null;case R:return ce=z._init,z=ce(z._payload),F(L,M,z,X)}if(nt(z)||U(z))return ce!==null?null:$(L,M,z,X,null);if(typeof z.then=="function")return F(L,M,uc(z),X);if(z.$$typeof===ie)return F(L,M,Xu(L,z),X);cc(L,z)}return null}function G(L,M,z,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(z)||null,b(M,L,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return L=L.get(X.key===null?z:X.key)||null,C(M,L,X,ce);case V:return L=L.get(X.key===null?z:X.key)||null,q(M,L,X,ce);case R:var Ie=X._init;return X=Ie(X._payload),G(L,M,z,X,ce)}if(nt(X)||U(X))return L=L.get(z)||null,$(M,L,X,ce,null);if(typeof X.then=="function")return G(L,M,z,uc(X),ce);if(X.$$typeof===ie)return G(L,M,z,Xu(M,X),ce);cc(M,X)}return null}function Te(L,M,z,X){for(var ce=null,Ie=null,fe=M,ye=M=0,kt=null;fe!==null&&ye<z.length;ye++){fe.index>ye?(kt=fe,fe=null):kt=fe.sibling;var je=F(L,fe,z[ye],X);if(je===null){fe===null&&(fe=kt);break}t&&fe&&je.alternate===null&&r(L,fe),M=d(je,M,ye),Ie===null?ce=je:Ie.sibling=je,Ie=je,fe=kt}if(ye===z.length)return a(L,fe),ze&&Ms(L,ye),ce;if(fe===null){for(;ye<z.length;ye++)fe=Z(L,z[ye],X),fe!==null&&(M=d(fe,M,ye),Ie===null?ce=fe:Ie.sibling=fe,Ie=fe);return ze&&Ms(L,ye),ce}for(fe=l(fe);ye<z.length;ye++)kt=G(fe,L,ye,z[ye],X),kt!==null&&(t&&kt.alternate!==null&&fe.delete(kt.key===null?ye:kt.key),M=d(kt,M,ye),Ie===null?ce=kt:Ie.sibling=kt,Ie=kt);return t&&fe.forEach(function(Vi){return r(L,Vi)}),ze&&Ms(L,ye),ce}function ge(L,M,z,X){if(z==null)throw Error(s(151));for(var ce=null,Ie=null,fe=M,ye=M=0,kt=null,je=z.next();fe!==null&&!je.done;ye++,je=z.next()){fe.index>ye?(kt=fe,fe=null):kt=fe.sibling;var Vi=F(L,fe,je.value,X);if(Vi===null){fe===null&&(fe=kt);break}t&&fe&&Vi.alternate===null&&r(L,fe),M=d(Vi,M,ye),Ie===null?ce=Vi:Ie.sibling=Vi,Ie=Vi,fe=kt}if(je.done)return a(L,fe),ze&&Ms(L,ye),ce;if(fe===null){for(;!je.done;ye++,je=z.next())je=Z(L,je.value,X),je!==null&&(M=d(je,M,ye),Ie===null?ce=je:Ie.sibling=je,Ie=je);return ze&&Ms(L,ye),ce}for(fe=l(fe);!je.done;ye++,je=z.next())je=G(fe,L,ye,je.value,X),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?ye:je.key),M=d(je,M,ye),Ie===null?ce=je:Ie.sibling=je,Ie=je);return t&&fe.forEach(function(ww){return r(L,ww)}),ze&&Ms(L,ye),ce}function $e(L,M,z,X){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var ce=z.key;M!==null;){if(M.key===ce){if(ce=z.type,ce===j){if(M.tag===7){a(L,M.sibling),X=h(M,z.props.children),X.return=L,L=X;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&Ty(ce)===M.type){a(L,M.sibling),X=h(M,z.props),ul(X,z),X.return=L,L=X;break e}a(L,M);break}else r(L,M);M=M.sibling}z.type===j?(X=Ds(z.props.children,L.mode,X,z.key),X.return=L,L=X):(X=Qu(z.type,z.key,z.props,null,L.mode,X),ul(X,z),X.return=L,L=X)}return v(L);case V:e:{for(ce=z.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),X=h(M,z.children||[]),X.return=L,L=X;break e}else{a(L,M);break}else r(L,M);M=M.sibling}X=Tf(z,L.mode,X),X.return=L,L=X}return v(L);case R:return ce=z._init,z=ce(z._payload),$e(L,M,z,X)}if(nt(z))return Te(L,M,z,X);if(U(z)){if(ce=U(z),typeof ce!="function")throw Error(s(150));return z=ce.call(z),ge(L,M,z,X)}if(typeof z.then=="function")return $e(L,M,uc(z),X);if(z.$$typeof===ie)return $e(L,M,Xu(L,z),X);cc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),X=h(M,z),X.return=L,L=X):(a(L,M),X=Ef(z,L.mode,X),X.return=L,L=X),v(L)):a(L,M)}return function(L,M,z,X){try{ll=0;var ce=$e(L,M,z,X);return Va=null,ce}catch(fe){if(fe===Jo||fe===Zu)throw fe;var Ie=fn(29,fe,null,L.mode);return Ie.lanes=X,Ie.return=L,Ie}finally{}}}var Pa=by(!0),wy=by(!1),In=ee(null),cr=null;function Ei(t){var r=t.alternate;se(xt,xt.current&1),se(In,t),cr===null&&(r===null||Da.current!==null||r.memoizedState!==null)&&(cr=t)}function Ay(t){if(t.tag===22){if(se(xt,xt.current),se(In,t),cr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(cr=t)}}else Ti()}function Ti(){se(xt,xt.current),se(In,In.current)}function Pr(t){oe(In),cr===t&&(cr=null),oe(xt)}var xt=ee(0);function hc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ed(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var td={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=gn(),h=yi(l);h.payload=r,a!=null&&(h.callback=a),r=_i(t,h,l),r!==null&&(yn(r,t,l),tl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=gn(),h=yi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=_i(t,h,l),r!==null&&(yn(r,t,l),tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=gn(),l=yi(a);l.tag=2,r!=null&&(l.callback=r),r=_i(t,l,a),r!==null&&(yn(r,t,a),tl(r,t,a))}};function Sy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function Ry(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&td.enqueueReplaceState(r,r.state,null)}function zs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xy(t){fc(t)}function Cy(t){console.error(t)}function Iy(t){fc(t)}function dc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ny(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(t,r,a){return a=yi(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,r)},a}function Dy(t){return t=yi(t),t.tag=3,t}function Oy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ny(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ny(r,a,l),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function wb(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xo(r,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return cr===null?Rd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Df?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Cd(t,l,h)),!1;case 22:return a.flags|=65536,l===Df?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Cd(t,l,h)),!1}throw Error(s(435,a.tag))}return Cd(t,l,h),Rd(),!1}if(ze)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Af&&(t=Error(s(422),{cause:l}),$o(Sn(t,a)))):(l!==Af&&(r=Error(s(423),{cause:l}),$o(Sn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,a),h=nd(t.stateNode,l,h),kf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),gl===null?gl=[d]:gl.push(d),ct!==4&&(ct=2),r===null)return!0;l=Sn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=nd(a.stateNode,l,t),kf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xi===null||!xi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dy(h),Oy(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var My=Error(s(461)),Ot=!1;function Ut(t,r,a,l){r.child=t===null?wy(r,null,a,l):Pa(r,t.child,a,l)}function ky(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Ls(r),l=jf(t,r,a,v,d,h),b=zf(),t!==null&&!Ot?(Bf(t,r,h),Lr(t,r,h)):(ze&&b&&bf(r),r.flags|=1,Ut(t,r,l,h),r.child)}function Vy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Py(t,r,d,l,h)):(t=Qu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!cd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(v,l)&&t.ref===r.ref)return Lr(t,r,h)}return r.flags|=1,t=Nr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Py(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=l=d,cd(t,h))(t.flags&131072)!==0&&(Ot=!0);else return r.lanes=t.lanes,Lr(t,r,h)}return rd(t,r,a,l,h)}function Ly(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Uy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(r,d!==null?d.cachePool:null),d!==null?Pg(r,d):Pf(),Ay(r);else return r.lanes=r.childLanes=536870912,Uy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Wu(r,d.cachePool),Pg(r,d),Ti(),r.memoizedState=null):(t!==null&&Wu(r,null),Pf(),Ti());return Ut(t,r,h,a),r.child}function Uy(t,r,a,l){var h=Nf();return h=h===null?null:{parent:Rt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Wu(r,null),Pf(),Ay(r),t!==null&&Xo(t,r,l,!0),null}function mc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function rd(t,r,a,l,h){return Ls(r),a=jf(t,r,a,l,void 0,h),l=zf(),t!==null&&!Ot?(Bf(t,r,h),Lr(t,r,h)):(ze&&l&&bf(r),r.flags|=1,Ut(t,r,a,h),r.child)}function jy(t,r,a,l,h,d){return Ls(r),r.updateQueue=null,a=Ug(r,l,a,h),Lg(t),l=zf(),t!==null&&!Ot?(Bf(t,r,d),Lr(t,r,d)):(ze&&l&&bf(r),r.flags|=1,Ut(t,r,a,d),r.child)}function zy(t,r,a,l,h){if(Ls(r),r.stateNode===null){var d=Ra,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Of(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Ra,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&td.enqueueReplaceState(d,d.state,null),rl(r,l,d,h),nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,C=zs(a,b);d.props=C;var q=d.context,$=a.contextType;v=Ra,typeof $=="object"&&$!==null&&(v=Qt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==v)&&Ry(r,d,l,v),gi=!1;var F=r.memoizedState;d.state=F,rl(r,l,d,h),nl(),q=r.memoizedState,b||F!==q||gi?(typeof Z=="function"&&(ed(r,a,Z,l),q=r.memoizedState),(C=gi||Sy(r,a,C,l,F,q,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Mf(t,r),v=r.memoizedProps,$=zs(a,v),d.props=$,Z=r.pendingProps,F=d.context,q=a.contextType,C=Ra,typeof q=="object"&&q!==null&&(C=Qt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||F!==C)&&Ry(r,d,l,C),gi=!1,F=r.memoizedState,d.state=F,rl(r,l,d,h),nl();var G=r.memoizedState;v!==Z||F!==G||gi||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof b=="function"&&(ed(r,a,b,l),G=r.memoizedState),($=gi||Sy(r,a,$,l,F,G,C)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,mc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Pa(r,t.child,null,h),r.child=Pa(r,null,a,h)):Ut(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Lr(t,r,h),t}function By(t,r,a,l){return Yo(),r.flags|=256,Ut(t,r,a,l),r.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(t){return{baseLanes:t,cachePool:Cg()}}function ad(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function qy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(h?Ei(r):Ti(),ze){var b=ut,C;if(C=b){e:{for(C=b,b=ur;C.nodeType!==8;){if(!b){b=null;break e}if(C=Qn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(r.memoizedState={dehydrated:b,treeContext:Os!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},C=fn(18,null,null,0),C.stateNode=b,C.return=r,r.child=C,nn=r,ut=null,C=!0):C=!1}C||Vs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Hd(b)?r.lanes=32:r.lanes=536870912,null;Pr(r)}return b=l.children,l=l.fallback,h?(Ti(),h=r.mode,b=pc({mode:"hidden",children:b},h),l=Ds(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=sd(a),h.childLanes=ad(t,v,a),r.memoizedState=id,l):(Ei(r),od(r,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)r.flags&256?(Ei(r),r.flags&=-257,r=ld(t,r,a)):r.memoizedState!==null?(Ti(),r.child=t.child,r.flags|=128,r=null):(Ti(),h=l.fallback,b=r.mode,l=pc({mode:"visible",children:l.children},b),h=Ds(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Pa(r,t.child,null,a),l=r.child,l.memoizedState=sd(a),l.childLanes=ad(t,v,a),r.memoizedState=id,r=h);else if(Ei(r),Hd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),r=ld(t,r,a)}else if(Ot||Xo(t,r,a,!1),v=(a&t.childLanes)!==0,Ot||v){if(v=Ze,v!==null&&(l=a&-a,l=(l&42)!==0?1:Co(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Sa(t,l),yn(v,t,l),My;b.data==="$?"||Rd(),r=ld(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ut=Qn(b.nextSibling),nn=r,ze=!0,ks=null,ur=!1,t!==null&&(xn[Cn++]=Dr,xn[Cn++]=Or,xn[Cn++]=Os,Dr=t.id,Or=t.overflow,Os=r),r=od(r,l.children),r.flags|=4096);return r}return h?(Ti(),h=l.fallback,b=r.mode,C=t.child,q=C.sibling,l=Nr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Nr(q,h):(h=Ds(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=sd(a):(C=b.cachePool,C!==null?(q=Rt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=Cg(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=ad(t,v,a),r.memoizedState=id,l):(Ei(r),a=t.child,t=a.sibling,a=Nr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function od(t,r){return r=pc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function pc(t,r){return t=fn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ld(t,r,a){return Pa(r,t.child,null,a),t=od(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Hy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Rf(t.return,r,a)}function ud(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Fy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,r,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hy(t,a,r);else if(t.tag===19)Hy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(xt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ud(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ud(r,!0,a,null,d);break;case"together":ud(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Lr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Xo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Nr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Nr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function cd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function Ab(t,r,a){switch(r.tag){case 3:Ge(r,r.stateNode.containerInfo),pi(r,Rt,t.memoizedState.cache),Yo();break;case 27:case 5:Ao(r);break;case 4:Ge(r,r.stateNode.containerInfo);break;case 10:pi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(r),r.flags|=128,null):(a&r.child.childLanes)!==0?qy(t,r,a):(Ei(r),t=Lr(t,r,a),t!==null?t.sibling:null);Ei(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Fy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(xt,xt.current),l)break;return null;case 22:case 23:return r.lanes=0,Ly(t,r,a);case 24:pi(r,Rt,t.memoizedState.cache)}return Lr(t,r,a)}function Gy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ot=!0;else{if(!cd(t,a)&&(r.flags&128)===0)return Ot=!1,Ab(t,r,a);Ot=(t.flags&131072)!==0}else Ot=!1,ze&&(r.flags&1048576)!==0&&Tg(r,Yu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")vf(l)?(t=zs(l,t),r.tag=1,r=zy(null,r,l,t,a)):(r.tag=0,r=rd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Se){r.tag=11,r=ky(null,r,l,t,a);break e}else if(h===D){r.tag=14,r=Vy(null,r,l,t,a);break e}}throw r=lt(l)||l,Error(s(306,r,""))}}return r;case 0:return rd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=zs(l,r.pendingProps),zy(t,r,l,h,a);case 3:e:{if(Ge(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Mf(t,r),rl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,pi(r,Rt,l),l!==d.cache&&xf(r,[Rt],a,!0),nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=By(t,r,l,a);break e}else if(l!==h){h=Sn(Error(s(424)),r),$o(h),r=By(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Qn(t.firstChild),nn=r,ze=!0,ks=null,ur=!0,a=wy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),l===h){r=Lr(t,r,a);break e}Ut(t,r,l,a)}r=r.child}return r;case 26:return mc(t,r),t===null?(a=$_(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=Ic(Ee.current).createElement(a),l[ft]=r,l[Lt]=t,zt(l,a,t),dt(l),r.stateNode=l):r.memoizedState=$_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ao(r),t===null&&ze&&(l=r.stateNode=Q_(r.type,r.pendingProps,Ee.current),nn=r,ur=!0,h=ut,Ni(r.type)?(Fd=h,ut=Qn(l.firstChild)):ut=h),Ut(t,r,r.pendingProps.children,a),mc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((h=l=ut)&&(l=Zb(l,r.type,r.pendingProps,ur),l!==null?(r.stateNode=l,nn=r,ut=Qn(l.firstChild),ur=!1,h=!0):h=!1),h||Vs(r)),Ao(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,zd(h,d)?l=null:v!==null&&zd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=jf(t,r,gb,null,null,a),Sl._currentValue=h),mc(t,r),Ut(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=ut)&&(a=Jb(a,r.pendingProps,ur),a!==null?(r.stateNode=a,nn=r,ut=null,t=!0):t=!1),t||Vs(r)),null;case 13:return qy(t,r,a);case 4:return Ge(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Pa(r,null,l,a):Ut(t,r,l,a),r.child;case 11:return ky(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,pi(r,r.type,l.value),Ut(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ls(r),h=Qt(h),l=l(h),r.flags|=1,Ut(t,r,l,a),r.child;case 14:return Vy(t,r,r.type,r.pendingProps,a);case 15:return Py(t,r,r.type,r.pendingProps,a);case 19:return Fy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=pc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Nr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ly(t,r,a);case 24:return Ls(r),l=Qt(Rt),t===null?(h=Nf(),h===null&&(h=Ze,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Of(r),pi(r,Rt,h)):((t.lanes&a)!==0&&(Mf(t,r),rl(r,null,null,a),nl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),pi(r,Rt,l)):(l=d.cache,pi(r,Rt,l),l!==h.cache&&xf(r,[Rt],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ur(t){t.flags|=4}function Qy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!e0(r)){if(r=In.current,r!==null&&((Pe&4194048)===Pe?cr!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||r!==cr))throw el=Df,Ig;t.flags|=8192}}function gc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ni():536870912,t.lanes|=r,za|=r)}function cl(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Sb(t,r,a){var l=r.pendingProps;switch(wf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),kr(Rt),Pn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ko(r)?Ur(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ag())),at(r),null;case 26:return a=r.memoizedState,t===null?(Ur(r),a!==null?(at(r),Qy(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Ur(r),at(r),Qy(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==l&&Ur(r),at(r),r.flags&=-16777217),null;case 27:sa(r),a=Ee.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=de.current,Ko(r)?bg(r):(t=Q_(h,l,a),r.stateNode=t,Ur(r))}return at(r),null;case 5:if(sa(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=de.current,Ko(r))bg(r);else{switch(h=Ic(Ee.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[ft]=r,t[Lt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ur(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ur(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ee.current,Ko(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ft]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(t.nodeValue,a)),t||Vs(r)}else t=Ic(t).createTextNode(l),t[ft]=r,r.stateNode=t}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ko(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ft]=r}else Yo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),h=!1}else h=Ag(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Pr(r),r):(Pr(r),null)}if(Pr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),gc(r,r.updateQueue),at(r),null;case 4:return Pn(),t===null&&Vd(r.stateNode.containerInfo),at(r),null;case 10:return kr(r.type),at(r),null;case 19:if(oe(xt),h=r.memoizedState,h===null)return at(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=hc(t),d!==null){for(r.flags|=128,cl(h,!1),t=d.updateQueue,r.updateQueue=t,gc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Eg(a,t),a=a.sibling;return se(xt,xt.current&1|2),r.child}t=t.sibling}h.tail!==null&&rn()>vc&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304)}else{if(!l)if(t=hc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,gc(r,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ze)return at(r),null}else 2*rn()-h.renderingStartTime>vc&&a!==536870912&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=rn(),r.sibling=null,t=xt.current,se(xt,l?t&1|2:t&1),r):(at(r),null);case 22:case 23:return Pr(r),Lf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&gc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),kr(Rt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Rb(t,r){switch(wf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return kr(Rt),Pn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return sa(r),null;case 13:if(Pr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Yo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(xt),null;case 4:return Pn(),null;case 10:return kr(r.type),null;case 22:case 23:return Pr(r),Lf(),t!==null&&oe(Us),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return kr(Rt),null;case 25:return null;default:return null}}function Ky(t,r){switch(wf(r),r.tag){case 3:kr(Rt),Pn();break;case 26:case 27:case 5:sa(r);break;case 4:Pn();break;case 13:Pr(r);break;case 19:oe(xt);break;case 10:kr(r.type);break;case 22:case 23:Pr(r),Lf(),t!==null&&oe(Us);break;case 24:kr(Rt)}}function hl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){Xe(r,r.return,b)}}function bi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=r;var C=a,q=b;try{q()}catch($){Xe(h,C,$)}}}l=l.next}while(l!==d)}}catch($){Xe(r,r.return,$)}}function Yy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Vg(r,a)}catch(l){Xe(t,t.return,l)}}}function $y(t,r,a){a.props=zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function fl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,r,h)}}function hr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,r,h)}else a.current=null}function Xy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function hd(t,r,a){try{var l=t.stateNode;Kb(l,t.type,a,r),l[Lt]=r}catch(h){Xe(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ni(t.type)||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Cc));else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(dd(t,r,a),t=t.sibling;t!==null;)dd(t,r,a),t=t.sibling}function yc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,r,a),t=t.sibling;t!==null;)yc(t,r,a),t=t.sibling}function Zy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[ft]=t,r[Lt]=a}catch(d){Xe(t,t.return,d)}}var jr=!1,gt=!1,md=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function xb(t,r){if(t=t.containerInfo,Ud=Vc,t=cg(t),ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,C=-1,q=0,$=0,Z=t,F=null;t:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(b=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)F=Z,Z=G;for(;;){if(Z===t)break t;if(F===a&&++q===h&&(b=v),F===d&&++$===l&&(C=v),(G=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=G}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:t,selectionRange:a},Vc=!1,Mt=r;Mt!==null;)if(r=Mt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Mt=t;else for(;Mt!==null;){switch(r=Mt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=zs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Xe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Mt=t;break}Mt=r.return}}function e_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wi(t,a),l&4&&hl(5,a);break;case 1:if(wi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var h=zs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}l&64&&Yy(a),l&512&&fl(a,a.return);break;case 3:if(wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Vg(t,r)}catch(v){Xe(a,a.return,v)}}break;case 27:r===null&&l&4&&Zy(a);case 26:case 5:wi(t,a),r===null&&l&4&&Xy(a),l&512&&fl(a,a.return);break;case 12:wi(t,a);break;case 13:wi(t,a),l&4&&r_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Pb.bind(null,a),ew(t,a))));break;case 22:if(l=a.memoizedState!==null||jr,!l){r=r!==null&&r.memoizedState!==null||gt,h=jr;var d=gt;jr=l,(gt=r)&&!d?Ai(t,a,(a.subtreeFlags&8772)!==0):wi(t,a),jr=h,gt=d}break;case 30:break;default:wi(t,a)}}function t_(t){var r=t.alternate;r!==null&&(t.alternate=null,t_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ca(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,an=!1;function zr(t,r,a){for(a=a.child;a!==null;)n_(t,r,a),a=a.sibling}function n_(t,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Jr,a)}catch{}switch(a.tag){case 26:gt||hr(a,r),zr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||hr(a,r);var l=rt,h=an;Ni(a.type)&&(rt=a.stateNode,an=!1),zr(t,r,a),Tl(a.stateNode),rt=l,an=h;break;case 5:gt||hr(a,r);case 6:if(l=rt,h=an,rt=null,zr(t,r,a),rt=l,an=h,rt!==null)if(an)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:rt!==null&&(an?(t=rt,F_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Il(t)):F_(rt,a.stateNode));break;case 4:l=rt,h=an,rt=a.stateNode.containerInfo,an=!0,zr(t,r,a),rt=l,an=h;break;case 0:case 11:case 14:case 15:gt||bi(2,a,r),gt||bi(4,a,r),zr(t,r,a);break;case 1:gt||(hr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,r,l)),zr(t,r,a);break;case 21:zr(t,r,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,zr(t,r,a),gt=l;break;default:zr(t,r,a)}}function r_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){Xe(r,r.return,a)}}function Cb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Jy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Jy),r;default:throw Error(s(435,t.tag))}}function pd(t,r){var a=Cb(t);r.forEach(function(l){var h=Lb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Ni(b.type)){rt=b.stateNode,an=!1;break e}break;case 5:rt=b.stateNode,an=!1;break e;case 3:case 4:rt=b.stateNode.containerInfo,an=!0;break e}b=b.return}if(rt===null)throw Error(s(160));n_(d,v,h),rt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)i_(r,t),r=r.sibling}var Gn=null;function i_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(r,t),mn(t),l&4&&(bi(3,t,t.return),hl(3,t),bi(5,t,t.return));break;case 1:dn(r,t),mn(t),l&512&&(gt||a===null||hr(a,a.return)),l&64&&jr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(dn(r,t),mn(t),l&512&&(gt||a===null||hr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[si]||d[ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[ft]=t,dt(d),l=d;break e;case"link":var v=Z_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Z_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ft]=t,dt(d),l=d}t.stateNode=l}else J_(h,t.type,t.stateNode);else t.stateNode=W_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?J_(h,t.type,t.stateNode):W_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(r,t),mn(t),l&512&&(gt||a===null||hr(a,a.return)),a!==null&&l&4&&hd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,t),mn(t),l&512&&(gt||a===null||hr(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(G){Xe(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,hd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(dn(r,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){Xe(t,t.return,G)}}break;case 3:if(Oc=null,h=Gn,Gn=Nc(r.containerInfo),dn(r,t),Gn=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(r.containerInfo)}catch(G){Xe(t,t.return,G)}md&&(md=!1,s_(t));break;case 4:l=Gn,Gn=Nc(t.stateNode.containerInfo),dn(r,t),mn(t),Gn=l;break;case 12:dn(r,t),mn(t);break;case 13:dn(r,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Td=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=jr,$=gt;if(jr=q||h,gt=$||C,dn(r,t),gt=$,jr=q,mn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||jr||gt||Bs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=C.stateNode;var Z=C.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){Xe(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){Xe(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pd(t,a))));break;case 19:dn(r,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 30:break;case 21:break;default:dn(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=fd(t);yc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(wn(v,""),a.flags&=-33);var b=fd(t);yc(t,b,v);break;case 3:case 4:var C=a.stateNode.containerInfo,q=fd(t);dd(t,q,C);break;default:throw Error(s(161))}}catch($){Xe(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function s_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;s_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function wi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)e_(t,r.alternate,r),r=r.sibling}function Bs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:bi(4,r,r.return),Bs(r);break;case 1:hr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&$y(r,r.return,a),Bs(r);break;case 27:Tl(r.stateNode);case 26:case 5:hr(r,r.return),Bs(r);break;case 22:r.memoizedState===null&&Bs(r);break;case 30:Bs(r);break;default:Bs(r)}t=t.sibling}}function Ai(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(h,d,a),hl(4,d);break;case 1:if(Ai(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)kg(C[h],b)}catch(q){Xe(l,l.return,q)}}a&&v&64&&Yy(d),fl(d,d.return);break;case 27:Zy(d);case 26:case 5:Ai(h,d,a),a&&l===null&&v&4&&Xy(d),fl(d,d.return);break;case 12:Ai(h,d,a);break;case 13:Ai(h,d,a),a&&v&4&&r_(h,d);break;case 22:d.memoizedState===null&&Ai(h,d,a),fl(d,d.return);break;case 30:break;default:Ai(h,d,a)}r=r.sibling}}function gd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function yd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t))}function fr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)a_(t,r,a,l),r=r.sibling}function a_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:fr(t,r,a,l),h&2048&&hl(9,r);break;case 1:fr(t,r,a,l);break;case 3:fr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){fr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Xe(r,r.return,C)}}else fr(t,r,a,l);break;case 13:fr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?fr(t,r,a,l):dl(t,r):d._visibility&2?fr(t,r,a,l):(d._visibility|=2,La(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&gd(v,r);break;case 24:fr(t,r,a,l),h&2048&&yd(r.alternate,r);break;default:fr(t,r,a,l)}}function La(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,b=a,C=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:La(d,v,b,C,h),hl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?La(d,v,b,C,h):dl(d,v):($._visibility|=2,La(d,v,b,C,h)),h&&q&2048&&gd(v.alternate,v);break;case 24:La(d,v,b,C,h),h&&q&2048&&yd(v.alternate,v);break;default:La(d,v,b,C,h)}r=r.sibling}}function dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&gd(l.alternate,l);break;case 24:dl(a,l),h&2048&&yd(l.alternate,l);break;default:dl(a,l)}r=r.sibling}}var ml=8192;function Ua(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)o_(t),t=t.sibling}function o_(t){switch(t.tag){case 26:Ua(t),t.flags&ml&&t.memoizedState!==null&&dw(Gn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t);break;case 3:case 4:var r=Gn;Gn=Nc(t.stateNode.containerInfo),Ua(t),Gn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ml,ml=16777216,Ua(t),ml=r):Ua(t));break;default:Ua(t)}}function l_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function pl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,c_(l,t)}l_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)u_(t),t=t.sibling}function u_(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&bi(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,_c(t)):pl(t);break;default:pl(t)}}function _c(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,c_(l,t)}l_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:bi(8,r,r.return),_c(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,_c(r));break;default:_c(r)}t=t.sibling}}function c_(t,r){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:bi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(t_(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var Ib={getCacheForType:function(t){var r=Qt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Nb=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ne=null,Pe=0,Fe=0,pn=null,Si=!1,ja=!1,_d=!1,Br=0,ct=0,Ri=0,qs=0,vd=0,Nn=0,za=0,gl=null,on=null,Ed=!1,Td=0,vc=1/0,Ec=null,xi=null,jt=0,Ci=null,Ba=null,qa=0,bd=0,wd=null,h_=null,yl=0,Ad=null;function gn(){if((He&2)!==0&&Pe!==0)return Pe&-Pe;if(Y.T!==null){var t=Ia;return t!==0?t:Dd()}return wr()}function f_(){Nn===0&&(Nn=(Pe&536870912)===0||ze?xo():536870912);var t=In.current;return t!==null&&(t.flags|=32),Nn}function yn(t,r,a){(t===Ze&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Ii(t,Pe,Nn,!1)),ht(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(qs|=a),ct===4&&Ii(t,Pe,Nn,!1)),dr(t))}function d_(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ti(t,r),h=l?Mb(t,r):xd(t,r,!0),d=l;do{if(h===0){ja&&!l&&Ii(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Db(a)){h=xd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=t;h=gl;var C=b.current.memoizedState.isDehydrated;if(C&&(Ha(b,v).flags|=256),v=xd(b,v,!1),v!==2){if(_d&&!C){b.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ha(t,0),Ii(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ii(l,r,Nn,!Si);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Td+300-rn(),10<h)){if(Ii(l,r,Nn,!Si),Tn(l,0,!0)!==0)break e;l.timeoutHandle=q_(m_.bind(null,l,a,on,Ec,Ed,r,Nn,qs,za,Si,d,2,-0,0),h);break e}m_(l,a,on,Ec,Ed,r,Nn,qs,za,Si,d,0,-0,0)}}break}while(!0);dr(t)}function m_(t,r,a,l,h,d,v,b,C,q,$,Z,F,G){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:fw},o_(r),Z=mw(),Z!==null)){t.cancelPendingCommit=Z(T_.bind(null,t,r,d,a,l,h,v,b,C,$,1,F,G)),Ii(t,d,v,!q);return}T_(t,r,d,a,l,h,v,b,C)}function Db(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ii(t,r,a,l){r&=~vd,r&=~qs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Zt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ri(t,a,r)}function Tc(){return(He&6)===0?(_l(0),!1):!0}function Sd(){if(Ne!==null){if(Fe===0)var t=Ne.return;else t=Ne,Mr=Ps=null,qf(t),Va=null,ll=0,t=Ne;for(;t!==null;)Ky(t.alternate,t),t=t.return;Ne=null}}function Ha(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$b(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Sd(),Ze=t,Ne=a=Nr(t.current,null),Pe=r,Fe=0,pn=null,Si=!1,ja=ti(t,r),_d=!1,za=Nn=vd=qs=Ri=ct=0,on=gl=null,Ed=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Zt(l),d=1<<h;r|=t[h],l&=~d}return Br=r,Hu(),a}function p_(t,r){Ce=null,Y.H=lc,r===Jo||r===Zu?(r=Og(),Fe=3):r===Ig?(r=Og(),Fe=4):Fe=r===My?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,Ne===null&&(ct=1,dc(t,Sn(r,t.current)))}function g_(){var t=Y.H;return Y.H=lc,t===null?lc:t}function y_(){var t=Y.A;return Y.A=Ib,t}function Rd(){ct=4,Si||(Pe&4194048)!==Pe&&In.current!==null||(ja=!0),(Ri&134217727)===0&&(qs&134217727)===0||Ze===null||Ii(Ze,Pe,Nn,!1)}function xd(t,r,a){var l=He;He|=2;var h=g_(),d=y_();(Ze!==t||Pe!==r)&&(Ec=null,Ha(t,r)),r=!1;var v=ct;e:do try{if(Fe!==0&&Ne!==null){var b=Ne,C=pn;switch(Fe){case 8:Sd(),v=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var q=Fe;if(Fe=0,pn=null,Fa(t,b,C,q),a&&ja){v=0;break e}break;default:q=Fe,Fe=0,pn=null,Fa(t,b,C,q)}}Ob(),v=ct;break}catch($){p_(t,$)}while(!0);return r&&t.shellSuspendCounter++,Mr=Ps=null,He=l,Y.H=h,Y.A=d,Ne===null&&(Ze=null,Pe=0,Hu()),v}function Ob(){for(;Ne!==null;)__(Ne)}function Mb(t,r){var a=He;He|=2;var l=g_(),h=y_();Ze!==t||Pe!==r?(Ec=null,vc=rn()+500,Ha(t,r)):ja=ti(t,r);e:do try{if(Fe!==0&&Ne!==null){r=Ne;var d=pn;t:switch(Fe){case 1:Fe=0,pn=null,Fa(t,r,d,1);break;case 2:case 9:if(Ng(d)){Fe=0,pn=null,v_(r);break}r=function(){Fe!==2&&Fe!==9||Ze!==t||(Fe=7),dr(t)},d.then(r,r);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Ng(d)?(Fe=0,pn=null,v_(r)):(Fe=0,pn=null,Fa(t,r,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var b=Ne;if(!v||e0(v)){Fe=0,pn=null;var C=b.sibling;if(C!==null)Ne=C;else{var q=b.return;q!==null?(Ne=q,bc(q)):Ne=null}break t}}Fe=0,pn=null,Fa(t,r,d,5);break;case 6:Fe=0,pn=null,Fa(t,r,d,6);break;case 8:Sd(),ct=6;break e;default:throw Error(s(462))}}kb();break}catch($){p_(t,$)}while(!0);return Mr=Ps=null,Y.H=l,Y.A=h,He=a,Ne!==null?0:(Ze=null,Pe=0,Hu(),ct)}function kb(){for(;Ne!==null&&!ef();)__(Ne)}function __(t){var r=Gy(t.alternate,t,Br);t.memoizedProps=t.pendingProps,r===null?bc(t):Ne=r}function v_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=jy(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=jy(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:qf(r);default:Ky(a,r),r=Ne=Eg(r,Br),r=Gy(a,r,Br)}t.memoizedProps=t.pendingProps,r===null?bc(t):Ne=r}function Fa(t,r,a,l){Mr=Ps=null,qf(r),Va=null,ll=0;var h=r.return;try{if(wb(t,h,r,a,Pe)){ct=1,dc(t,Sn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ct=1,dc(t,Sn(a,t.current)),Ne=null;return}r.flags&32768?(ze||l===1?t=!0:ja||(Pe&536870912)!==0?t=!1:(Si=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),E_(r,t)):bc(r)}function bc(t){var r=t;do{if((r.flags&32768)!==0){E_(r,Si);return}t=r.return;var a=Sb(r.alternate,r,Br);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ct===0&&(ct=5)}function E_(t,r){do{var a=Rb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ct=6,Ne=null}function T_(t,r,a,l,h,d,v,b,C){t.cancelPendingCommit=null;do wc();while(jt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=yf,Ru(t,a,d,v,b,C),t===Ze&&(Ne=Ze=null,Pe=0),Ba=r,Ci=t,qa=a,bd=d,wd=h,h_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ub(br,function(){return R_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,v=He,He|=4;try{xb(t,r,a)}finally{He=v,ae.p=h,Y.T=l}}jt=1,b_(),w_(),A_()}}function b_(){if(jt===1){jt=0;var t=Ci,r=Ba,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{i_(r,t);var d=jd,v=cg(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&ug(b.ownerDocument.documentElement,b)){if(C!==null&&ff(b)){var q=C.start,$=C.end;if($===void 0&&($=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min($,b.value.length);else{var Z=b.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var G=F.getSelection(),Te=b.textContent.length,ge=Math.min(C.start,Te),$e=C.end===void 0?ge:Math.min(C.end,Te);!G.extend&&ge>$e&&(v=$e,$e=ge,ge=v);var L=lg(b,ge),M=lg(b,$e);if(L&&M&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),ge>$e?(G.addRange(z),G.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),G.addRange(z))}}}}for(Z=[],G=b;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var X=Z[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Vc=!!Ud,jd=Ud=null}finally{He=h,ae.p=l,Y.T=a}}t.current=r,jt=2}}function w_(){if(jt===2){jt=0;var t=Ci,r=Ba,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{e_(t,r.alternate,r)}finally{He=h,ae.p=l,Y.T=a}}jt=3}}function A_(){if(jt===4||jt===3){jt=0,So();var t=Ci,r=Ba,a=qa,l=h_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Ba=Ci=null,S_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xi=null),Io(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Jr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{Y.T=r,ae.p=h}}(qa&3)!==0&&wc(),dr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ad?yl++:(yl=0,Ad=t):yl=0,_l(0)}}function S_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wo(r)))}function wc(t){return b_(),w_(),A_(),R_()}function R_(){if(jt!==5)return!1;var t=Ci,r=bd;bd=0;var a=Io(qa),l=Y.T,h=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=wd,wd=null;var d=Ci,v=qa;if(jt=0,Ba=Ci=null,qa=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,u_(d.current),a_(d,d.current,v,a),He=b,_l(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Jr,d)}catch{}return!0}finally{ae.p=h,Y.T=l,S_(t,r)}}function x_(t,r,a){r=Sn(a,r),r=nd(t.stateNode,r,2),t=_i(t,r,2),t!==null&&(ht(t,2),dr(t))}function Xe(t,r,a){if(t.tag===3)x_(t,t,a);else for(;r!==null;){if(r.tag===3){x_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xi===null||!xi.has(l))){t=Sn(a,t),a=Dy(2),l=_i(r,a,2),l!==null&&(Oy(a,l,r,t),ht(l,2),dr(l));break}}r=r.return}}function Cd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Nb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(_d=!0,h.add(a),t=Vb.bind(null,t,r,a),r.then(t,t))}function Vb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Pe&a)===a&&(ct===4||ct===3&&(Pe&62914560)===Pe&&300>rn()-Td?(He&2)===0&&Ha(t,0):vd|=a,za===Pe&&(za=0)),dr(t)}function C_(t,r){r===0&&(r=ni()),t=Sa(t,r),t!==null&&(ht(t,r),dr(t))}function Pb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),C_(t,a)}function Lb(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),C_(t,a)}function Ub(t,r){return os(t,r)}var Ac=null,Ga=null,Id=!1,Sc=!1,Nd=!1,Hs=0;function dr(t){t!==Ga&&t.next===null&&(Ga===null?Ac=Ga=t:Ga=Ga.next=t),Sc=!0,Id||(Id=!0,zb())}function _l(t,r){if(!Nd&&Sc){Nd=!0;do for(var a=!1,l=Ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,O_(l,d))}else d=Pe,d=Tn(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ti(l,d)||(a=!0,O_(l,d));l=l.next}while(a);Nd=!1}}function jb(){I_()}function I_(){Sc=Id=!1;var t=0;Hs!==0&&(Yb()&&(t=Hs),Hs=0);for(var r=rn(),a=null,l=Ac;l!==null;){var h=l.next,d=N_(l,r);d===0?(l.next=null,a===null?Ac=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}_l(t)}function N_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Zt(d),b=1<<v,C=h[v];C===-1?((b&a)===0||(b&l)!==0)&&(h[v]=la(b,r)):C<=r&&(t.expiredLanes|=b),d&=~b}if(r=Ze,a=Pe,a=Tn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&oa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ti(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&oa(l),Io(a)){case 2:case 8:a=Nt;break;case 32:a=br;break;case 268435456:a=Ro;break;default:a=br}return l=D_.bind(null,t),a=os(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&oa(l),t.callbackPriority=2,t.callbackNode=null,2}function D_(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var l=Pe;return l=Tn(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(d_(t,l,r),N_(t,rn()),t.callbackNode!=null&&t.callbackNode===a?D_.bind(null,t):null)}function O_(t,r){if(wc())return null;d_(t,r,!0)}function zb(){Xb(function(){(He&6)!==0?os(At,jb):I_()})}function Dd(){return Hs===0&&(Hs=xo()),Hs}function M_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zn(""+t)}function k_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Bb(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=M_((h[Lt]||null).action),v=l.submitter;v&&(r=(r=v[Lt]||null)?M_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new bs("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var C=v?k_(h,v):new FormData(h);Wf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=v?k_(h,v):new FormData(h),Wf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Od=0;Od<gf.length;Od++){var Md=gf[Od],qb=Md.toLowerCase(),Hb=Md[0].toUpperCase()+Md.slice(1);Fn(qb,"on"+Hb)}Fn(dg,"onAnimationEnd"),Fn(mg,"onAnimationIteration"),Fn(pg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(ab,"onTransitionRun"),Fn(ob,"onTransitionStart"),Fn(lb,"onTransitionCancel"),Fn(gg,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function V_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],C=b.instance,q=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch($){fc($)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(b=l[v],C=b.instance,q=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch($){fc($)}h.currentTarget=null,d=C}}}}function De(t,r){var a=r[us];a===void 0&&(a=r[us]=new Set);var l=t+"__bubble";a.has(l)||(P_(r,t,2,!1),a.add(l))}function kd(t,r,a){var l=0;r&&(l|=4),P_(a,t,l,r)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[Rc]){t[Rc]=!0,xu.forEach(function(a){a!=="selectionchange"&&(Fb.has(a)||kd(a,!1,t),kd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Rc]||(r[Rc]=!0,kd("selectionchange",!1,r))}}function P_(t,r,a,l){switch(a0(r)){case 2:var h=yw;break;case 8:h=_w;break;default:h=$d}a=h.bind(null,r,a,t),h=void 0,!Cr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Pd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=nr(b),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}b=b.parentNode}}l=l.return}vs(function(){var q=d,$=Po(a),Z=[];e:{var F=yg.get(t);if(F!==void 0){var G=bs,Te=t;switch(t){case"keypress":if(Es(a)===0)break e;case"keydown":case"keyup":G=Ta;break;case"focusin":Te="focus",G=_a;break;case"focusout":Te="blur",G=_a;break;case"beforeblur":case"afterblur":G=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=mi;break;case dg:case mg:case pg:G=Uo;break;case gg:G=y;break;case"scroll":case"scrollend":G=As;break;case"wheel":G=A;break;case"copy":case"cut":case"paste":G=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Bo;break;case"toggle":case"beforetoggle":G=Q}var ge=(r&4)!==0,$e=!ge&&(t==="scroll"||t==="scrollend"),L=ge?F!==null?F+"Capture":null:F;ge=[];for(var M=q,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||L===null||(X=fi(M,L),X!=null&&ge.push(El(M,X,z))),$e)break;M=M.return}0<ge.length&&(F=new G(F,Te,null,a,$),Z.push({event:F,listeners:ge}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Vo&&(Te=a.relatedTarget||a.fromElement)&&(nr(Te)||Te[Ar]))break e;if((G||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Te=a.relatedTarget||a.toElement,G=q,Te=Te?nr(Te):null,Te!==null&&($e=u(Te),ge=Te.tag,Te!==$e||ge!==5&&ge!==27&&ge!==6)&&(Te=null)):(G=null,Te=q),G!==Te)){if(ge=xs,X="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Bo,X="onPointerLeave",L="onPointerEnter",M="pointer"),$e=G==null?F:ai(G),z=Te==null?F:ai(Te),F=new ge(X,M+"leave",G,a,$),F.target=$e,F.relatedTarget=z,X=null,nr($)===q&&(ge=new ge(L,M+"enter",Te,a,$),ge.target=z,ge.relatedTarget=$e,X=ge),$e=X,G&&Te)t:{for(ge=G,L=Te,M=0,z=ge;z;z=Qa(z))M++;for(z=0,X=L;X;X=Qa(X))z++;for(;0<M-z;)ge=Qa(ge),M--;for(;0<z-M;)L=Qa(L),z--;for(;M--;){if(ge===L||L!==null&&ge===L.alternate)break t;ge=Qa(ge),L=Qa(L)}ge=null}else ge=null;G!==null&&L_(Z,F,G,ge,!1),Te!==null&&$e!==null&&L_(Z,$e,Te,ge,!0)}}e:{if(F=q?ai(q):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var ce=ng;else if(eg(F))if(rg)ce=rb;else{ce=tb;var Ie=eb}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&pa(q.elementType)&&(ce=ng):ce=nb;if(ce&&(ce=ce(t,q))){tg(Z,ce,a,$);break e}Ie&&Ie(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Oo(F,"number",F.value)}switch(Ie=q?ai(q):window,t){case"focusin":(eg(Ie)||Ie.contentEditable==="true")&&(ba=Ie,df=q,Qo=null);break;case"focusout":Qo=df=ba=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,hg(Z,a,$);break;case"selectionchange":if(sb)break;case"keydown":case"keyup":hg(Z,a,$)}var fe;if(we)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Hn?Bn(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(mt&&a.locale!=="ko"&&(Hn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Hn&&(fe=Mu()):(An=$,We="value"in An?An.value:An.textContent,Hn=!0)),Ie=xc(q,ye),0<Ie.length&&(ye=new zo(ye,t,null,a,$),Z.push({event:ye,listeners:Ie}),fe?ye.data=fe:(fe=qn(a),fe!==null&&(ye.data=fe)))),(fe=qe?qo(t,a):W1(t,a))&&(ye=xc(q,"onBeforeInput"),0<ye.length&&(Ie=new zo("onBeforeInput","beforeinput",null,a,$),Z.push({event:Ie,listeners:ye}),Ie.data=fe)),Bb(Z,t,q,a,$)}V_(Z,r)})}function El(t,r,a){return{instance:t,listener:r,currentTarget:a}}function xc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fi(t,a),h!=null&&l.unshift(El(t,h,d)),h=fi(t,r),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function L_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,C=b.alternate,q=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||q===null||(C=q,h?(q=fi(a,d),q!=null&&v.unshift(El(a,q,C))):h||(q=fi(a,d),q!=null&&v.push(El(a,q,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Gb=/\r\n?/g,Qb=/\u0000|\uFFFD/g;function U_(t){return(typeof t=="string"?t:""+t).replace(Gb,`
`).replace(Qb,"")}function j_(t,r){return r=U_(r),U_(t)===r}function Cc(){}function Ye(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(t,""+l);break;case"className":ms(t,"class",l);break;case"tabIndex":ms(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(t,a,l);break;case"style":ko(t,l,d);break;case"data":if(r!=="object"){ms(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(t,r,"name",h.name,h,null),Ye(t,r,"formEncType",h.formEncType,h,null),Ye(t,r,"formMethod",h.formMethod,h,null),Ye(t,r,"formTarget",h.formTarget,h,null)):(Ye(t,r,"encType",h.encType,h,null),Ye(t,r,"method",h.method,h,null),Ye(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=zn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ds(t,"popover",l);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ds(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,ds(t,a,l))}}function Ld(t,r,a,l,h,d){switch(a){case"style":ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ds(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,d,v,a,null)}}h&&Ye(t,r,"srcSet",a.srcSet,a,null),l&&Ye(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var b=d=v=h=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":C=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Ye(t,r,l,$,a,null)}}Do(t,d,b,C,q,v,h,!1),ui(t);return;case"select":De("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Ye(t,r,h,b,a,null)}r=d,a=v,t.multiple=!!l,r!=null?ci(t,!!l,r,!1):a!=null&&ci(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ye(t,r,v,b,a,null)}Iu(t,l,h,d),ui(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,r,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)De(vl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,q,l,a,null)}return;default:if(pa(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Ld(t,r,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ye(t,r,b,l,a,null))}function Kb(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,C=null,q=null,$=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(G)||Ye(t,r,G,null,l,Z)}}for(var F in l){var G=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(G!=null||Z!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":$=G;break;case"value":v=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==Z&&Ye(t,r,F,G,l,Z)}}No(t,v,b,C,q,$,d,h);return;case"select":G=v=b=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Ye(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==C&&Ye(t,r,h,d,l,C)}r=b,a=v,l=G,F!=null?ci(t,!!a,F,!1):!!l!=!!a&&(r!=null?ci(t,!!a,r,!0):ci(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(t,r,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,r,v,h,l,d)}Cu(t,F,G);return;case"option":for(var Te in a)if(F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Ye(t,r,Te,null,l,F)}for(C in l)if(F=l[C],G=a[C],l.hasOwnProperty(C)&&F!==G&&(F!=null||G!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ye(t,r,C,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!l.hasOwnProperty(ge)&&Ye(t,r,ge,null,l,F);for(q in l)if(F=l[q],G=a[q],l.hasOwnProperty(q)&&F!==G&&(F!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Ye(t,r,q,F,l,G)}return;default:if(pa(r)){for(var $e in a)F=a[$e],a.hasOwnProperty($e)&&F!==void 0&&!l.hasOwnProperty($e)&&Ld(t,r,$e,void 0,l,F);for($ in l)F=l[$],G=a[$],!l.hasOwnProperty($)||F===G||F===void 0&&G===void 0||Ld(t,r,$,F,l,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Ye(t,r,L,null,l,F);for(Z in l)F=l[Z],G=a[Z],!l.hasOwnProperty(Z)||F===G||F==null&&G==null||Ye(t,r,Z,F,l,G)}var Ud=null,jd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function zd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bd=null;function Yb(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,$b=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(Wb)}:q_;function Wb(t){setTimeout(function(){throw t})}function Ni(t){return t==="head"}function F_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Tl(v.documentElement),a&2&&Tl(v.body),a&4)for(a=v.head,Tl(a),v=a.firstChild;v;){var b=v.nextSibling,C=v.nodeName;v[si]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),Il(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Il(r)}function qd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Zb(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function Jb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ew(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Fd=null;function G_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Q_(t,r,a){switch(r=Ic(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ca(t)}var Dn=new Map,K_=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qr=ae.d;ae.d={f:tw,r:nw,D:rw,C:iw,L:sw,m:aw,X:lw,S:ow,M:uw};function tw(){var t=qr.f(),r=Tc();return t||r}function nw(t){var r=rr(t);r!==null&&r.tag===5&&r.type==="form"?dy(r):qr.r(t)}var Ka=typeof document>"u"?null:document;function Y_(t,r,a){var l=Ka;if(l&&typeof r=="string"&&r){var h=Dt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K_.has(h)||(K_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),dt(r),l.head.appendChild(r)))}}function rw(t){qr.D(t),Y_("dns-prefetch",t,null)}function iw(t,r){qr.C(t,r),Y_("preconnect",t,r)}function sw(t,r,a){qr.L(t,r,a);var l=Ka;if(l&&t&&r){var h='link[rel="preload"][as="'+Dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dt(a.imageSizes)+'"]')):h+='[href="'+Dt(t)+'"]';var d=h;switch(r){case"style":d=Ya(t);break;case"script":d=$a(t)}Dn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Dn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(wl(d))||(r=l.createElement("link"),zt(r,"link",t),dt(r),l.head.appendChild(r)))}}function aw(t,r){qr.m(t,r);var a=Ka;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(t)}if(!Dn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Dn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),zt(l,"link",t),dt(l),a.head.appendChild(l)}}}function ow(t,r,a){qr.S(t,r,a);var l=Ka;if(l&&t){var h=oi(l).hoistableStyles,d=Ya(t);r=r||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(bl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Dn.get(d))&&Gd(t,a);var C=v=l.createElement("link");dt(C),zt(C,"link",t),C._p=new Promise(function(q,$){C.onload=q,C.onerror=$}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Dc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function lw(t,r){qr.X(t,r);var a=Ka;if(a&&t){var l=oi(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0},r),(r=Dn.get(h))&&Qd(t,r),d=a.createElement("script"),dt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uw(t,r){qr.M(t,r);var a=Ka;if(a&&t){var l=oi(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Dn.get(h))&&Qd(t,r),d=a.createElement("script"),dt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $_(t,r,a,l){var h=(h=Ee.current)?Nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ya(a.href),a=oi(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=oi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),d||cw(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$a(a),a=oi(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ya(t){return'href="'+Dt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function X_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function cw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),dt(r),t.head.appendChild(r))}function $a(t){return'[src="'+Dt(t)+'"]'}function wl(t){return"script[async]"+t}function W_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),zt(l,"style",h),Dc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(bl(h));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=X_(a),(h=Dn.get(h))&&Gd(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),zt(d,"link",l),r.state.loading|=4,Dc(d,a.precedence,t),r.instance=d;case"script":return d=$a(a.src),(h=t.querySelector(wl(d)))?(r.instance=h,dt(h),h):(l=a,(h=Dn.get(d))&&(l=E({},a),Qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Dc(l,a.precedence,t));return r.instance}function Dc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Gd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Oc=null;function Z_(t,r,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[si]||d[ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function J_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function hw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function e0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function fw(){}function dw(t,r,a){if(Al===null)throw Error(s(475));var l=Al;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ya(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Mc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=t.ownerDocument||t,a=X_(a),(h=Dn.get(h))&&Gd(a,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Mc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function mw(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&Kd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Kd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Kd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,r.forEach(pw,t),kc=null,Mc.call(t))}function pw(t,r){if(!(r.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Sl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function gw(t,r,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.hiddenUpdates=ua(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function t0(t,r,a,l,h,d,v,b,C,q,$,Z){return t=new gw(t,r,a,v,b,C,q,Z),r=1,d===!0&&(r|=24),d=fn(3,null,null,r),t.current=d,d.stateNode=t,r=Cf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Of(d),t}function n0(t){return t?(t=Ra,t):Ra}function r0(t,r,a,l,h,d){h=n0(h),l.context===null?l.context=h:l.pendingContext=h,l=yi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_i(t,l,r),a!==null&&(yn(a,t,r),tl(a,t,r))}function i0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Yd(t,r){i0(t,r),(t=t.alternate)&&i0(t,r)}function s0(t){if(t.tag===13){var r=Sa(t,67108864);r!==null&&yn(r,t,67108864),Yd(t,67108864)}}var Vc=!0;function yw(t,r,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,$d(t,r,a,l)}finally{ae.p=d,Y.T=h}}function _w(t,r,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,$d(t,r,a,l)}finally{ae.p=d,Y.T=h}}function $d(t,r,a,l){if(Vc){var h=Xd(l);if(h===null)Pd(t,r,l,Pc,a),o0(t,l);else if(Ew(h,t,r,a,l))l.stopPropagation();else if(o0(t,l),r&4&&-1<vw.indexOf(t)){for(;h!==null;){var d=rr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ln(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var C=1<<31-Zt(v);b.entanglements[1]|=C,v&=~C}dr(d),(He&6)===0&&(vc=rn()+500,_l(0))}}break;case 13:b=Sa(d,2),b!==null&&yn(b,d,2),Tc(),Yd(d,2)}if(d=Xd(l),d===null&&Pd(t,r,l,Pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(t,r,l,null,a)}}function Xd(t){return t=Po(t),Wd(t)}var Pc=null;function Wd(t){if(Pc=null,t=nr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Pc=t,null}function a0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case At:return 2;case Nt:return 8;case br:case tf:return 32;case Ro:return 268435456;default:return 32}default:return 32}}var Zd=!1,Di=null,Oi=null,Mi=null,Rl=new Map,xl=new Map,ki=[],vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(t,r){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Rl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(r.pointerId)}}function Cl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=rr(r),r!==null&&s0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Ew(t,r,a,l,h){switch(r){case"focusin":return Di=Cl(Di,t,r,a,l,h),!0;case"dragenter":return Oi=Cl(Oi,t,r,a,l,h),!0;case"mouseover":return Mi=Cl(Mi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Cl(Rl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Cl(xl.get(d)||null,t,r,a,l,h)),!0}return!1}function l0(t){var r=nr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,sf(t.priority,function(){if(a.tag===13){var l=gn();l=Co(l);var h=Sa(a,l);h!==null&&yn(h,a,l),Yd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vo=l,a.target.dispatchEvent(l),Vo=null}else return r=rr(a),r!==null&&s0(r),t.blockedOn=a,!1;r.shift()}return!0}function u0(t,r,a){Lc(t)&&a.delete(r)}function Tw(){Zd=!1,Di!==null&&Lc(Di)&&(Di=null),Oi!==null&&Lc(Oi)&&(Oi=null),Mi!==null&&Lc(Mi)&&(Mi=null),Rl.forEach(u0),xl.forEach(u0)}function Uc(t,r){t.blockedOn===r&&(t.blockedOn=null,Zd||(Zd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Tw)))}var jc=null;function c0(t){jc!==t&&(jc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var d=rr(a);d!==null&&(t.splice(r,3),r-=3,Wf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Il(t){function r(C){return Uc(C,t)}Di!==null&&Uc(Di,t),Oi!==null&&Uc(Oi,t),Mi!==null&&Uc(Mi,t),Rl.forEach(r),xl.forEach(r);for(var a=0;a<ki.length;a++){var l=ki[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ki.length&&(a=ki[0],a.blockedOn===null);)l0(a),a.blockedOn===null&&ki.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Lt]||null;if(typeof d=="function")v||c0(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Lt]||null)b=v.formAction;else if(Wd(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),c0(a)}}}function Jd(t){this._internalRoot=t}zc.prototype.render=Jd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=gn();r0(a,l,t,r,null,null)},zc.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;r0(t.current,2,null,t,null,null),Tc(),r[Ar]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var r=wr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ki.length&&r!==0&&r<ki[a].priority;a++);ki.splice(a,0,t),a===0&&l0(t)}};var h0=e.version;if(h0!=="19.1.1")throw Error(s(527,h0,"19.1.1"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var bw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Jr=Bc.inject(bw),Ft=Bc}catch{}}return Dl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Cy,v=Iy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=t0(t,1,!1,null,null,a,l,h,d,v,b,null),t[Ar]=r.current,Vd(t),new Jd(r)},Dl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,v=Cy,b=Iy,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=t0(t,1,!0,r,a??null,l,h,d,v,b,C,q),r.context=n0(null),a=r.current,l=gn(),l=Co(l),h=yi(l),h.callback=null,_i(a,h,l),a=l,r.current.lanes=a,ht(r,a),dr(r),t[Ar]=r.current,Vd(t),new zc(r)},Dl.version="19.1.1",Dl}var T0;function Ow(){if(T0)return nm.exports;T0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nm.exports=Dw(),nm.exports}var Mw=Ow();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b0="popstate";function kw(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ta(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Em("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Kl(u))}function s(o,u){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Pw(e,n,s,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Mn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vw(){return Math.random().toString(36).substring(2,10)}function w0(i,e){return{usr:i.state,key:i.key,idx:e}}function Em(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ta(e):e,state:n,key:e&&e.key||s||Vw()}}function Kl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ta(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Pw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let H=E(),ne=H==null?null:H-g;g=H,p&&p({action:m,location:K.location,delta:ne})}function S(H,ne){m="PUSH";let te=Em(K.location,H,ne);n&&n(te,H),g=E()+1;let ie=w0(te,g),Se=K.createHref(te);try{f.pushState(ie,"",Se)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(Se)}u&&p&&p({action:m,location:K.location,delta:1})}function V(H,ne){m="REPLACE";let te=Em(K.location,H,ne);n&&n(te,H),g=E();let ie=w0(te,g),Se=K.createHref(te);f.replaceState(ie,"",Se),u&&p&&p({action:m,location:K.location,delta:0})}function j(H){return Lw(H)}let K={get action(){return m},get location(){return i(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(b0,w),p=H,()=>{o.removeEventListener(b0,w),p=null}},createHref(H){return e(o,H)},createURL:j,encodeLocation(H){let ne=j(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:V,go(H){return f.go(H)}};return K}function Lw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Kl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function oE(i,e,n="/"){return Uw(i,e,n,!1)}function Uw(i,e,n,s){let o=typeof e=="string"?ta(e):e,u=Yr(o.pathname||"/",n);if(u==null)return null;let f=lE(i);jw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Xw(u);m=Yw(f[p],g,s)}return m}function lE(i,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;it(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let w=Qr([s,E.relativePath]),S=n.concat(E);f.children&&f.children.length>0&&(it(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),lE(f.children,e,S,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:Qw(w,f.index),routesMeta:S})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of uE(f.path))u(f,m,!0,p)}),e}function uE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=uE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function jw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Kw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zw=/^:[\w-]+$/,Bw=3,qw=2,Hw=1,Fw=10,Gw=-2,A0=i=>i==="*";function Qw(i,e){let n=i.split("/"),s=n.length;return n.some(A0)&&(s+=Gw),e&&(s+=qw),n.filter(o=>!A0(o)).reduce((o,u)=>o+(zw.test(u)?Bw:u===""?Hw:Fw),s)}function Kw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Yw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Qr([u,w.pathname]),pathnameBase:eA(Qr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Qr([u,w.pathnameBase]))}return f}function oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=$w(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},S)=>{if(E==="*"){let j=m[S]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const V=m[S];return w&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function $w(i,e=!1,n=!0){Mn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Xw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Ww(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ta(i):i;return{pathname:n?n.startsWith("/")?n:Zw(n,e):e,search:tA(s),hash:nA(o)}}function Zw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xm(i){let e=Jw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Wm(i,e,n,s=!1){let o;typeof i=="string"?o=ta(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=Ww(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Qr=i=>i.join("/").replace(/\/\/+/g,"/"),eA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,nA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function rA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var cE=["POST","PUT","PATCH","DELETE"];new Set(cE);var iA=["GET",...cE];new Set(iA);var mo=P.createContext(null);mo.displayName="DataRouter";var Ih=P.createContext(null);Ih.displayName="DataRouterState";P.createContext(!1);var hE=P.createContext({isTransitioning:!1});hE.displayName="ViewTransition";var sA=P.createContext(new Map);sA.displayName="Fetchers";var aA=P.createContext(null);aA.displayName="Await";var Zn=P.createContext(null);Zn.displayName="Navigation";var uu=P.createContext(null);uu.displayName="Location";var Jn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Zm=P.createContext(null);Zm.displayName="RouteError";function oA(i,{relative:e}={}){it(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Zn),{hash:o,pathname:u,search:f}=cu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function po(){return P.useContext(uu)!=null}function es(){return it(po(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(uu).location}var fE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dE(i){P.useContext(Zn).static||P.useLayoutEffect(i)}function ts(){let{isDataRoute:i}=P.useContext(Jn);return i?TA():lA()}function lA(){it(po(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(mo),{basename:e,navigator:n}=P.useContext(Zn),{matches:s}=P.useContext(Jn),{pathname:o}=es(),u=JSON.stringify(Xm(s)),f=P.useRef(!1);return dE(()=>{f.current=!0}),P.useCallback((p,g={})=>{if(Mn(f.current,fE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Wm(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}P.createContext(null);function uA(){let{matches:i}=P.useContext(Jn),e=i[i.length-1];return e?e.params:{}}function cu(i,{relative:e}={}){let{matches:n}=P.useContext(Jn),{pathname:s}=es(),o=JSON.stringify(Xm(n));return P.useMemo(()=>Wm(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function cA(i,e){return mE(i,e)}function mE(i,e,n,s,o){it(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Zn),{matches:f}=P.useContext(Jn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let te=w&&w.path||"";pE(g,!w||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let S=es(),V;if(e){let te=typeof e=="string"?ta(e):e;it(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),V=te}else V=S;let j=V.pathname||"/",K=j;if(E!=="/"){let te=E.replace(/^\//,"").split("/");K="/"+j.replace(/^\//,"").split("/").slice(te.length).join("/")}let H=oE(i,{pathname:K});Mn(w||H!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Mn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=pA(H&&H.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:Qr([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Qr([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&ne?P.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ne):ne}function hA(){let i=EA(),e=rA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var fA=P.createElement(hA,null),dA=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?P.createElement(Jn.Provider,{value:this.props.routeContext},P.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mA({routeContext:i,match:e,children:n}){let s=P.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Jn.Provider,{value:i},n)}function pA(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let g=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);it(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:w,errors:S}=n,V=E.route.loader&&!w.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||V){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,w)=>{let S,V=!1,j=null,K=null;n&&(S=f&&E.route.id?f[E.route.id]:void 0,j=E.route.errorElement||fA,m&&(p<0&&w===0?(pE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,K=null):p===w&&(V=!0,K=E.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,w+1)),ne=()=>{let te;return S?te=j:V?te=K:E.route.Component?te=P.createElement(E.route.Component,null):E.route.element?te=E.route.element:te=g,P.createElement(mA,{match:E,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:te})};return n&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?P.createElement(dA,{location:n.location,revalidation:n.revalidation,component:j,error:S,children:ne(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):ne()},null)}function Jm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gA(i){let e=P.useContext(mo);return it(e,Jm(i)),e}function yA(i){let e=P.useContext(Ih);return it(e,Jm(i)),e}function _A(i){let e=P.useContext(Jn);return it(e,Jm(i)),e}function ep(i){let e=_A(i),n=e.matches[e.matches.length-1];return it(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function vA(){return ep("useRouteId")}function EA(){let i=P.useContext(Zm),e=yA("useRouteError"),n=ep("useRouteError");return i!==void 0?i:e.errors?.[n]}function TA(){let{router:i}=gA("useNavigate"),e=ep("useNavigate"),n=P.useRef(!1);return dE(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Mn(n.current,fE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var S0={};function pE(i,e,n){!e&&!S0[i]&&(S0[i]=!0,Mn(!1,n))}P.memo(bA);function bA({routes:i,future:e,state:n,unstable_onError:s}){return mE(i,void 0,n,s,e)}function kl({to:i,replace:e,state:n,relative:s}){it(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(Zn);Mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Jn),{pathname:f}=es(),m=ts(),p=Wm(i,Xm(u),f,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Kn(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ta(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:S="default"}=n,V=P.useMemo(()=>{let j=Yr(p,f);return j==null?null:{location:{pathname:j,search:g,hash:E,state:w,key:S},navigationType:s}},[f,p,g,E,w,S,s]);return Mn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:P.createElement(Zn.Provider,{value:m},P.createElement(uu.Provider,{children:e,value:V}))}function R0({children:i,location:e}){return cA(Tm(i),e)}function Tm(i,e=[]){let n=[];return P.Children.forEach(i,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Tm(s.props.children,u));return}it(s.type===Kn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tm(s.props.children,u)),n.push(f)}),n}var $c="get",Xc="application/x-www-form-urlencoded";function Nh(i){return i!=null&&typeof i.tagName=="string"}function AA(i){return Nh(i)&&i.tagName.toLowerCase()==="button"}function SA(i){return Nh(i)&&i.tagName.toLowerCase()==="form"}function RA(i){return Nh(i)&&i.tagName.toLowerCase()==="input"}function xA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function CA(i,e){return i.button===0&&(!e||e==="_self")&&!xA(i)}var qc=null;function IA(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var NA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(i){return i!=null&&!NA.has(i)?(Mn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):i}function DA(i,e){let n,s,o,u,f;if(SA(i)){let m=i.getAttribute("action");s=m?Yr(m,e):null,n=i.getAttribute("method")||$c,o=om(i.getAttribute("enctype"))||Xc,u=new FormData(i)}else if(AA(i)||RA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Yr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||$c,o=om(i.getAttribute("formenctype"))||om(m.getAttribute("enctype"))||Xc,u=new FormData(m,i),!IA()){let{name:g,type:E,value:w}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(Nh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Xc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function OA(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Yr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function MA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function VA(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await MA(u,n);return f.links?f.links():[]}return[]}));return jA(s.flat(1).filter(kA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function x0(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function PA(i,e,{includeHydrateFallback:n}={}){return LA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function LA(i){return[...new Set(i)]}function UA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function jA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(UA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function gE(){let i=P.useContext(mo);return tp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function zA(){let i=P.useContext(Ih);return tp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var np=P.createContext(void 0);np.displayName="FrameworkContext";function yE(){let i=P.useContext(np);return tp(i,"You must render this element inside a <HydratedRouter> element"),i}function BA(i,e){let n=P.useContext(np),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,S=P.useRef(null);P.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=ne=>{ne.forEach(te=>{f(te.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[i]),P.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let V=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ol(m,V),onBlur:Ol(p,j),onMouseEnter:Ol(g,V),onMouseLeave:Ol(E,j),onTouchStart:Ol(w,V)}]:[!1,S,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function qA({page:i,...e}){let{router:n}=gE(),s=P.useMemo(()=>oE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?P.createElement(FA,{page:i,matches:s,...e}):null}function HA(i){let{manifest:e,routeModules:n}=yE(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return VA(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function FA({page:i,matches:e,...n}){let s=es(),{manifest:o,routeModules:u}=yE(),{basename:f}=gE(),{loaderData:m,matches:p}=zA(),g=P.useMemo(()=>x0(i,e,p,o,s,"data"),[i,e,p,o,s]),E=P.useMemo(()=>x0(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,K=!1;if(e.forEach(ne=>{let te=o.routes[ne.route.id];!te||!te.hasLoader||(!g.some(ie=>ie.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||te.hasClientLoader?K=!0:j.add(ne.route.id))}),j.size===0)return[];let H=OA(i,f,"data");return K&&j.size>0&&H.searchParams.set("_routes",e.filter(ne=>j.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,g,e,i,u]),S=P.useMemo(()=>PA(E,o),[E,o]),V=HA(E);return P.createElement(P.Fragment,null,w.map(j=>P.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),S.map(j=>P.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),V.map(({key:j,link:K})=>P.createElement("link",{key:j,nonce:n.nonce,...K})))}function GA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_E&&(window.__reactRouterVersion="7.9.3")}catch{}function QA({basename:i,children:e,window:n}){let s=P.useRef();s.current==null&&(s.current=kw({window:n,v5Compat:!0}));let o=s.current,[u,f]=P.useState({action:o.action,location:o.location}),m=P.useCallback(p=>{P.startTransition(()=>f(p))},[f]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(wA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var vE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dh=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...S},V){let{basename:j}=P.useContext(Zn),K=typeof g=="string"&&vE.test(g),H,ne=!1;if(typeof g=="string"&&K&&(H=g,_E))try{let x=new URL(window.location.href),k=g.startsWith("//")?new URL(x.protocol+g):new URL(g),O=Yr(k.pathname,j);k.origin===x.origin&&O!=null?g=O+k.search+k.hash:ne=!0}catch{Mn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=oA(g,{relative:o}),[ie,Se,he]=BA(s,S),xe=$A(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function D(x){e&&e(x),x.defaultPrevented||xe(x)}let R=P.createElement("a",{...S,...he,href:H||te,onClick:ne||u?e:D,ref:GA(V,Se),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ie&&!K?P.createElement(P.Fragment,null,R,P.createElement(qA,{page:te})):R});Dh.displayName="Link";var Yl=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=cu(f,{relative:g.relative}),S=es(),V=P.useContext(Ih),{navigator:j,basename:K}=P.useContext(Zn),H=V!=null&&eS(w)&&m===!0,ne=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,te=S.pathname,ie=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,ne=ne.toLowerCase()),ie&&K&&(ie=Yr(ie,K)||ie);const Se=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let he=te===ne||!o&&te.startsWith(ne)&&te.charAt(Se)==="/",xe=ie!=null&&(ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ne.length)==="/"),D={isActive:he,isPending:xe,isTransitioning:H},R=he?e:void 0,x;typeof s=="function"?x=s(D):x=[s,he?"active":null,xe?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(D):u;return P.createElement(Dh,{...g,"aria-current":R,className:x,ref:E,style:k,to:f,viewTransition:m},typeof p=="function"?p(D):p)});Yl.displayName="NavLink";var KA=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...S},V)=>{let j=ZA(),K=JA(m,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&vE.test(m),te=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let Se=ie.nativeEvent.submitter,he=Se?.getAttribute("formmethod")||f;j(Se||ie.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return P.createElement("form",{ref:V,method:H,action:K,onSubmit:s?p:te,...S,"data-discover":!ne&&i==="render"?"true":void 0})});KA.displayName="Form";function YA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EE(i){let e=P.useContext(mo);return it(e,YA(i)),e}function $A(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ts(),p=es(),g=cu(i,{relative:u});return P.useCallback(E=>{if(CA(E,e)){E.preventDefault();let w=n!==void 0?n:Kl(p)===Kl(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var XA=0,WA=()=>`__${String(++XA)}__`;function ZA(){let{router:i}=EE("useSubmit"),{basename:e}=P.useContext(Zn),n=vA();return P.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=DA(s,e);if(o.navigate===!1){let E=o.fetcherKey||WA();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function JA(i,{relative:e}={}){let{basename:n}=P.useContext(Zn),s=P.useContext(Jn);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:e})},f=es();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qr([n,u.pathname])),Kl(u)}function eS(i,{relative:e}={}){let n=P.useContext(hE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=EE("useViewTransitionState"),o=cu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return oh(o.pathname,f)!=null||oh(o.pathname,u)!=null}const tS=()=>{};var C0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},bE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(S=64)),s.push(n[E],n[w],n[S],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(TE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new rS;const S=u<<2|m>>4;if(s.push(S),g!==64){const V=m<<4&240|g>>2;if(s.push(V),w!==64){const j=g<<6&192|w;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(i){const e=TE(i);return bE.encodeByteArray(e,!0)},lh=function(i){return iS(i).replace(/\./g,"")},wE=function(i){try{return bE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=()=>sS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof C0>"u")return;const i=C0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&wE(i[1]);return e&&JSON.parse(e)},Oh=()=>{try{return tS()||aS()||oS()||lS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},AE=i=>Oh()?.emulatorHosts?.[i],uS=i=>{const e=AE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},SE=()=>Oh()?.config,RE=i=>Oh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const Bl={};function fS(){const i={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?i.emulator.push(e):i.prod.push(e);return i}function dS(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let I0=!1;function CE(i,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Bl[i]===e||Bl[i]||I0)return;Bl[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=fS().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{I0=!0,f()},S}function E(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=dS(s),V=n("text"),j=document.getElementById(V)||document.createElement("span"),K=n("learnmore"),H=document.getElementById(K)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;m(ie),E(H,K);const Se=g();p(te,ne),ie.append(te,j,H,Se),document.body.appendChild(ie)}u?(j.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function pS(){const i=Oh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vS(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ES(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TS(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="FirebaseError";class kn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=wS,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?AS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new kn(o,m,s)}}function AS(i,e){return i.replace(SS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SS=/\{\$([^}]+)}/g;function RS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function $s(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(N0(u)&&N0(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function N0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function xS(i,e){const n=new CS(i,e);return n.subscribe.bind(n)}class CS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");IS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=lm),o.error===void 0&&(o.error=lm),o.complete===void 0&&(o.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IS(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i){return i&&i._delegate?i._delegate:i}class Xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OS(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(i){return i===Fs?void 0:i}function OS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const kS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},VS=Me.INFO,PS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},LS=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=PS[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=VS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const US=(i,e)=>e.some(n=>i instanceof n);let D0,O0;function jS(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zS(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,bm=new WeakMap,NE=new WeakMap,um=new WeakMap,ip=new WeakMap;function BS(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(qi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&IE.set(n,i)}).catch(()=>{}),ip.set(e,i),e}function qS(i){if(bm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});bm.set(i,e)}let wm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||NE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function HS(i){wm=i(wm)}function FS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(cm(this),e,...n);return NE.set(s,e.sort?e.sort():[e]),qi(s)}:zS().includes(i)?function(...e){return i.apply(cm(this),e),qi(IE.get(this))}:function(...e){return qi(i.apply(cm(this),e))}}function GS(i){return typeof i=="function"?FS(i):(i instanceof IDBTransaction&&qS(i),US(i,jS())?new Proxy(i,wm):i)}function qi(i){if(i instanceof IDBRequest)return BS(i);if(um.has(i))return um.get(i);const e=GS(i);return e!==i&&(um.set(i,e),ip.set(e,i)),e}const cm=i=>ip.get(i);function QS(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=qi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qi(f.result),p.oldVersion,p.newVersion,qi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const KS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],hm=new Map;function M0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=YS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KS.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return hm.set(e,u),u}HS(i=>({...i,get:(e,n,s)=>M0(e,n)||i.get(e,n,s),has:(e,n)=>!!M0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XS(i){return i.getComponent()?.type==="VERSION"}const Am="@firebase/app",k0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new rp("@firebase/app"),WS="@firebase/app-compat",ZS="@firebase/analytics-compat",JS="@firebase/analytics",e2="@firebase/app-check-compat",t2="@firebase/app-check",n2="@firebase/auth",r2="@firebase/auth-compat",i2="@firebase/database",s2="@firebase/data-connect",a2="@firebase/database-compat",o2="@firebase/functions",l2="@firebase/functions-compat",u2="@firebase/installations",c2="@firebase/installations-compat",h2="@firebase/messaging",f2="@firebase/messaging-compat",d2="@firebase/performance",m2="@firebase/performance-compat",p2="@firebase/remote-config",g2="@firebase/remote-config-compat",y2="@firebase/storage",_2="@firebase/storage-compat",v2="@firebase/firestore",E2="@firebase/ai",T2="@firebase/firestore-compat",b2="firebase",w2="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",A2={[Am]:"fire-core",[WS]:"fire-core-compat",[JS]:"fire-analytics",[ZS]:"fire-analytics-compat",[t2]:"fire-app-check",[e2]:"fire-app-check-compat",[n2]:"fire-auth",[r2]:"fire-auth-compat",[i2]:"fire-rtdb",[s2]:"fire-data-connect",[a2]:"fire-rtdb-compat",[o2]:"fire-fn",[l2]:"fire-fn-compat",[u2]:"fire-iid",[c2]:"fire-iid-compat",[h2]:"fire-fcm",[f2]:"fire-fcm-compat",[d2]:"fire-perf",[m2]:"fire-perf-compat",[p2]:"fire-rc",[g2]:"fire-rc-compat",[y2]:"fire-gcs",[_2]:"fire-gcs-compat",[v2]:"fire-fst",[T2]:"fire-fst-compat",[E2]:"fire-vertex","fire-js":"fire-js",[b2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,S2=new Map,Rm=new Map;function V0(i,e){try{i.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function so(i){const e=i.name;if(Rm.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,i);for(const n of uh.values())V0(n,i);for(const n of S2.values())V0(n,i);return!0}function sp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function _n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new hu("app","Firebase",R2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=w2;function DE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Sm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Hi.create("bad-app-name",{appName:String(o)});if(n||(n=SE()),!n)throw Hi.create("no-options");const u=uh.get(o);if(u){if($s(n,u.options)&&$s(s,u.config))return u;throw Hi.create("duplicate-app",{appName:o})}const f=new MS(o);for(const p of Rm.values())f.addComponent(p);const m=new x2(n,s,f);return uh.set(o,m),m}function OE(i=Sm){const e=uh.get(i);if(!e&&i===Sm&&SE())return DE();if(!e)throw Hi.create("no-app",{appName:i});return e}function Fi(i,e,n){let s=A2[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(f.join(" "));return}so(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firebase-heartbeat-database",I2=1,$l="firebase-heartbeat-store";let fm=null;function ME(){return fm||(fm=QS(C2,I2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hi.create("idb-open",{originalErrorMessage:i.message})})),fm}async function N2(i){try{const n=(await ME()).transaction($l),s=await n.objectStore($l).get(kE(i));return await n.done,s}catch(e){if(e instanceof kn)$r.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e?.message});$r.warn(n.message)}}}async function P0(i,e){try{const s=(await ME()).transaction($l,"readwrite");await s.objectStore($l).put(e,kE(i)),await s.done}catch(n){if(n instanceof kn)$r.warn(n.message);else{const s=Hi.create("idb-set",{originalErrorMessage:n?.message});$r.warn(s.message)}}}function kE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1024,O2=30;class M2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=L0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>O2){const o=P2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$r.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=L0(),{heartbeatsToSend:n,unsentEntries:s}=k2(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $r.warn(e),""}}}function L0(){return new Date().toISOString().substring(0,10)}function k2(i,e=D2){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),U0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),U0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class V2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TS()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function U0(i){return lh(JSON.stringify({version:2,heartbeats:i})).length}function P2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(i){so(new Xs("platform-logger",e=>new $S(e),"PRIVATE")),so(new Xs("heartbeat",e=>new M2(e),"PRIVATE")),Fi(Am,k0,i),Fi(Am,k0,"esm2020"),Fi("fire-js","")}L2("");var U2="firebase",j2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(U2,j2,"app");const VE=P.createContext(void 0),Tr=()=>{const i=P.useContext(VE);if(!i)throw new Error("useAuth must be used within a AuthContext");return i};function z2(){const[i,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(""),[f,m]=P.useState(!1),{login:p,loginWithGoogle:g}=Tr(),E=ts(),w=async j=>{j.preventDefault();try{u(""),m(!0),await p(i,n),E("/dashboard")}catch(K){K instanceof kn?u(V(K.code)):u("Errore durante il login")}finally{m(!1)}},S=async()=>{try{u(""),m(!0),await g(),E("/dashboard")}catch(j){j instanceof kn?u(V(j.code)):u("Errore durante il login con Google")}finally{m(!1)}},V=j=>{switch(j){case"auth/user-not-found":return"Utente non trovato";case"auth/wrong-password":return"Password errata";case"auth/invalid-email":return"Email non valida";case"auth/user-disabled":return"Account disabilitato";case"auth/popup-closed-by-user":return"Login annullato";case"auth/invalid-credential":return"Credenziali non valide";default:return"Errore durante il login"}};return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-purple-50 p-4",children:T.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Accedi al tuo account"}),T.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Bentornato! Inserisci le tue credenziali"})]}),o&&T.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),T.jsx("div",{className:"ml-3",children:T.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),T.jsxs("form",{onSubmit:w,className:"mt-8 space-y-6",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:i,autoComplete:"email",onChange:j=>e(j.target.value),required:!0,disabled:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:"tu@esempio.com"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),T.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:j=>s(j.target.value),required:!0,disabled:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:""})]})]}),T.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed transition duration-200",children:f?T.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Accedi"})]}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-300"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Oppure continua con"})})]}),T.jsxs("button",{onClick:S,disabled:f,className:"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-100 disabled:cursor-not-allowed transition duration-200",children:[T.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Accedi con Google"]}),T.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Non hai un account?"," ",T.jsx(Dh,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500 transition",children:"Registrati"})]})]})})}function j0({children:i}){const{user:e}=Tr();return e?i:T.jsx(kl,{to:"/login"})}function B2(){const[i,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(""),[f,m]=P.useState(""),[p,g]=P.useState(!1),{signup:E}=Tr(),w=ts(),S=async j=>{if(j.preventDefault(),n!==o)return m("Le password non coincidono");if(n.length<6)return m("La password deve essere di almeno 6 caratteri");try{m(""),g(!0),await E(i,n),w("/dashboard")}catch(K){K instanceof kn?m(V(K.code)):m("Errore durante la registrazione")}finally{g(!1)}},V=j=>{switch(j){case"auth/email-already-in-use":return"Email gi registrata";case"auth/invalid-email":return"Email non valida";case"auth/weak-password":return"Password troppo debole";default:return"Errore durante la registrazione"}};return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50 p-4",children:T.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Crea un nuovo account"}),T.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Inizia gratuitamente oggi stesso"})]}),f&&T.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),T.jsx("div",{className:"ml-3",children:T.jsx("p",{className:"text-sm text-red-700",children:f})})]})}),T.jsxs("form",{onSubmit:S,className:"mt-8 space-y-6",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:i,onChange:j=>e(j.target.value),required:!0,disabled:p,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:"tu@esempio.com"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),T.jsx("input",{id:"password",type:"password",value:n,onChange:j=>s(j.target.value),required:!0,disabled:p,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:""}),T.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Minimo 6 caratteri"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Conferma Password"}),T.jsx("input",{id:"confirmPassword",type:"password",value:o,onChange:j=>u(j.target.value),required:!0,disabled:p,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:""})]})]}),T.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:bg-purple-400 disabled:cursor-not-allowed transition duration-200",children:p?T.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Crea Account"})]}),T.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Hai gi un account?"," ",T.jsx(Dh,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500 transition",children:"Accedi"})]})]})})}var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,PE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function x(){}x.prototype=R.prototype,D.F=R.prototype,D.prototype=new x,D.prototype.constructor=D,D.D=function(k,O,U){for(var I=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)I[lt-2]=arguments[lt];return R.prototype[O].apply(k,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,x){x||(x=0);const k=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)k[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;O<16;++O)k[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=D.g[0],x=D.g[1],O=D.g[2];let U=D.g[3],I;I=R+(U^x&(O^U))+k[0]+3614090360&4294967295,R=x+(I<<7&4294967295|I>>>25),I=U+(O^R&(x^O))+k[1]+3905402710&4294967295,U=R+(I<<12&4294967295|I>>>20),I=O+(x^U&(R^x))+k[2]+606105819&4294967295,O=U+(I<<17&4294967295|I>>>15),I=x+(R^O&(U^R))+k[3]+3250441966&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(U^x&(O^U))+k[4]+4118548399&4294967295,R=x+(I<<7&4294967295|I>>>25),I=U+(O^R&(x^O))+k[5]+1200080426&4294967295,U=R+(I<<12&4294967295|I>>>20),I=O+(x^U&(R^x))+k[6]+2821735955&4294967295,O=U+(I<<17&4294967295|I>>>15),I=x+(R^O&(U^R))+k[7]+4249261313&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(U^x&(O^U))+k[8]+1770035416&4294967295,R=x+(I<<7&4294967295|I>>>25),I=U+(O^R&(x^O))+k[9]+2336552879&4294967295,U=R+(I<<12&4294967295|I>>>20),I=O+(x^U&(R^x))+k[10]+4294925233&4294967295,O=U+(I<<17&4294967295|I>>>15),I=x+(R^O&(U^R))+k[11]+2304563134&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(U^x&(O^U))+k[12]+1804603682&4294967295,R=x+(I<<7&4294967295|I>>>25),I=U+(O^R&(x^O))+k[13]+4254626195&4294967295,U=R+(I<<12&4294967295|I>>>20),I=O+(x^U&(R^x))+k[14]+2792965006&4294967295,O=U+(I<<17&4294967295|I>>>15),I=x+(R^O&(U^R))+k[15]+1236535329&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(O^U&(x^O))+k[1]+4129170786&4294967295,R=x+(I<<5&4294967295|I>>>27),I=U+(x^O&(R^x))+k[6]+3225465664&4294967295,U=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(U^R))+k[11]+643717713&4294967295,O=U+(I<<14&4294967295|I>>>18),I=x+(U^R&(O^U))+k[0]+3921069994&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(O^U&(x^O))+k[5]+3593408605&4294967295,R=x+(I<<5&4294967295|I>>>27),I=U+(x^O&(R^x))+k[10]+38016083&4294967295,U=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(U^R))+k[15]+3634488961&4294967295,O=U+(I<<14&4294967295|I>>>18),I=x+(U^R&(O^U))+k[4]+3889429448&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(O^U&(x^O))+k[9]+568446438&4294967295,R=x+(I<<5&4294967295|I>>>27),I=U+(x^O&(R^x))+k[14]+3275163606&4294967295,U=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(U^R))+k[3]+4107603335&4294967295,O=U+(I<<14&4294967295|I>>>18),I=x+(U^R&(O^U))+k[8]+1163531501&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(O^U&(x^O))+k[13]+2850285829&4294967295,R=x+(I<<5&4294967295|I>>>27),I=U+(x^O&(R^x))+k[2]+4243563512&4294967295,U=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(U^R))+k[7]+1735328473&4294967295,O=U+(I<<14&4294967295|I>>>18),I=x+(U^R&(O^U))+k[12]+2368359562&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(x^O^U)+k[5]+4294588738&4294967295,R=x+(I<<4&4294967295|I>>>28),I=U+(R^x^O)+k[8]+2272392833&4294967295,U=R+(I<<11&4294967295|I>>>21),I=O+(U^R^x)+k[11]+1839030562&4294967295,O=U+(I<<16&4294967295|I>>>16),I=x+(O^U^R)+k[14]+4259657740&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(x^O^U)+k[1]+2763975236&4294967295,R=x+(I<<4&4294967295|I>>>28),I=U+(R^x^O)+k[4]+1272893353&4294967295,U=R+(I<<11&4294967295|I>>>21),I=O+(U^R^x)+k[7]+4139469664&4294967295,O=U+(I<<16&4294967295|I>>>16),I=x+(O^U^R)+k[10]+3200236656&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(x^O^U)+k[13]+681279174&4294967295,R=x+(I<<4&4294967295|I>>>28),I=U+(R^x^O)+k[0]+3936430074&4294967295,U=R+(I<<11&4294967295|I>>>21),I=O+(U^R^x)+k[3]+3572445317&4294967295,O=U+(I<<16&4294967295|I>>>16),I=x+(O^U^R)+k[6]+76029189&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(x^O^U)+k[9]+3654602809&4294967295,R=x+(I<<4&4294967295|I>>>28),I=U+(R^x^O)+k[12]+3873151461&4294967295,U=R+(I<<11&4294967295|I>>>21),I=O+(U^R^x)+k[15]+530742520&4294967295,O=U+(I<<16&4294967295|I>>>16),I=x+(O^U^R)+k[2]+3299628645&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(O^(x|~U))+k[0]+4096336452&4294967295,R=x+(I<<6&4294967295|I>>>26),I=U+(x^(R|~O))+k[7]+1126891415&4294967295,U=R+(I<<10&4294967295|I>>>22),I=O+(R^(U|~x))+k[14]+2878612391&4294967295,O=U+(I<<15&4294967295|I>>>17),I=x+(U^(O|~R))+k[5]+4237533241&4294967295,x=O+(I<<21&4294967295|I>>>11),I=R+(O^(x|~U))+k[12]+1700485571&4294967295,R=x+(I<<6&4294967295|I>>>26),I=U+(x^(R|~O))+k[3]+2399980690&4294967295,U=R+(I<<10&4294967295|I>>>22),I=O+(R^(U|~x))+k[10]+4293915773&4294967295,O=U+(I<<15&4294967295|I>>>17),I=x+(U^(O|~R))+k[1]+2240044497&4294967295,x=O+(I<<21&4294967295|I>>>11),I=R+(O^(x|~U))+k[8]+1873313359&4294967295,R=x+(I<<6&4294967295|I>>>26),I=U+(x^(R|~O))+k[15]+4264355552&4294967295,U=R+(I<<10&4294967295|I>>>22),I=O+(R^(U|~x))+k[6]+2734768916&4294967295,O=U+(I<<15&4294967295|I>>>17),I=x+(U^(O|~R))+k[13]+1309151649&4294967295,x=O+(I<<21&4294967295|I>>>11),I=R+(O^(x|~U))+k[4]+4149444226&4294967295,R=x+(I<<6&4294967295|I>>>26),I=U+(x^(R|~O))+k[11]+3174756917&4294967295,U=R+(I<<10&4294967295|I>>>22),I=O+(R^(U|~x))+k[2]+718787259&4294967295,O=U+(I<<15&4294967295|I>>>17),I=x+(U^(O|~R))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.v=function(D,R){R===void 0&&(R=D.length);const x=R-this.blockSize,k=this.C;let O=this.h,U=0;for(;U<R;){if(O==0)for(;U<=x;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<R;)if(k[O++]=D.charCodeAt(U++),O==this.blockSize){o(this,k),O=0;break}}else for(;U<R;)if(k[O++]=D[U++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var x=D.length-8;x<D.length;++x)D[x]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)D[R++]=this.g[x]>>>k&255;return D};function u(D,R){var x=m;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=R(D)}function f(D,R){this.h=R;const x=[];let k=!0;for(let O=D.length-1;O>=0;O--){const U=D[O]|0;k&&U==R||(x[O]=U,k=!1)}this.g=x}var m={};function p(D){return-128<=D&&D<128?u(D,function(R){return new f([R|0],R<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return H(g(-D));const R=[];let x=1;for(let k=0;D>=x;k++)R[k]=D/x|0,x*=4294967296;return new f(R,0)}function E(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return H(E(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(R,8));let k=w;for(let U=0;U<D.length;U+=8){var O=Math.min(8,D.length-U);const I=parseInt(D.substring(U,U+O),R);O<8?(O=g(Math.pow(R,O)),k=k.j(O).add(g(I))):(k=k.j(x),k=k.add(g(I)))}return k}var w=p(0),S=p(1),V=p(16777216);i=f.prototype,i.m=function(){if(K(this))return-H(this).m();let D=0,R=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);D+=(k>=0?k:4294967296+k)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(j(this))return"0";if(K(this))return"-"+H(this).toString(D);const R=g(Math.pow(D,6));var x=this;let k="";for(;;){const O=Se(x,R).g;x=ne(x,O.j(R));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(D);if(x=O,j(x))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},i.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function j(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function K(D){return D.h==-1}i.l=function(D){return D=ne(this,D),K(D)?-1:j(D)?0:1};function H(D){const R=D.g.length,x=[];for(let k=0;k<R;k++)x[k]=~D.g[k];return new f(x,~D.h).add(S)}i.abs=function(){return K(this)?H(this):this},i.add=function(D){const R=Math.max(this.g.length,D.g.length),x=[];let k=0;for(let O=0;O<=R;O++){let U=k+(this.i(O)&65535)+(D.i(O)&65535),I=(U>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);k=I>>>16,U&=65535,I&=65535,x[O]=I<<16|U}return new f(x,x[x.length-1]&-2147483648?-1:0)};function ne(D,R){return D.add(H(R))}i.j=function(D){if(j(this)||j(D))return w;if(K(this))return K(D)?H(this).j(H(D)):H(H(this).j(D));if(K(D))return H(this.j(H(D)));if(this.l(V)<0&&D.l(V)<0)return g(this.m()*D.m());const R=this.g.length+D.g.length,x=[];for(var k=0;k<2*R;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<D.g.length;O++){const U=this.i(k)>>>16,I=this.i(k)&65535,lt=D.i(O)>>>16,nt=D.i(O)&65535;x[2*k+2*O]+=I*nt,te(x,2*k+2*O),x[2*k+2*O+1]+=U*nt,te(x,2*k+2*O+1),x[2*k+2*O+1]+=I*lt,te(x,2*k+2*O+1),x[2*k+2*O+2]+=U*lt,te(x,2*k+2*O+2)}for(D=0;D<R;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=R;D<2*R;D++)x[D]=0;return new f(x,0)};function te(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function ie(D,R){this.g=D,this.h=R}function Se(D,R){if(j(R))throw Error("division by zero");if(j(D))return new ie(w,w);if(K(D))return R=Se(H(D),R),new ie(H(R.g),H(R.h));if(K(R))return R=Se(D,H(R)),new ie(H(R.g),R.h);if(D.g.length>30){if(K(D)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,k=R;k.l(D)<=0;)x=he(x),k=he(k);var O=xe(x,1),U=xe(k,1);for(k=xe(k,2),x=xe(x,2);!j(k);){var I=U.add(k);I.l(D)<=0&&(O=O.add(x),U=I),k=xe(k,1),x=xe(x,1)}return R=ne(D,O.j(R)),new ie(O,R)}for(O=w;D.l(R)>=0;){for(x=Math.max(1,Math.floor(D.m()/R.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=g(x),I=U.j(R);K(I)||I.l(D)>0;)x-=k,U=g(x),I=U.j(R);j(U)&&(U=S),O=O.add(U),D=ne(D,I)}return new ie(O,D)}i.B=function(D){return Se(this,D).h},i.and=function(D){const R=Math.max(this.g.length,D.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)&D.i(k);return new f(x,this.h&D.h)},i.or=function(D){const R=Math.max(this.g.length,D.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)|D.i(k);return new f(x,this.h|D.h)},i.xor=function(D){const R=Math.max(this.g.length,D.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)^D.i(k);return new f(x,this.h^D.h)};function he(D){const R=D.g.length+1,x=[];for(let k=0;k<R;k++)x[k]=D.i(k)<<1|D.i(k-1)>>>31;return new f(x,D.h)}function xe(D,R){const x=R>>5;R%=32;const k=D.g.length-x,O=[];for(let U=0;U<k;U++)O[U]=R>0?D.i(U+x)>>>R|D.i(U+x+1)<<32-R:D.i(U+x);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,PE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Gi=f}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LE,Ll,UE,Wc,xm,jE,zE,BE;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&_.push([A,y[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,_){return c.call.apply(c.bind,arguments)}function g(c,y,_){return g=p,g.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function w(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,B,Q){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[B].apply(A,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const y=c.length;if(y>0){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function j(c,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const Q=B.length||0;c.length=_+Q;for(let re=0;re<Q;re++)c[_+re]=B[re]}else c.push(B)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,_){const A=ie.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new K(()=>new Se,c=>c.reset());class Se{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,xe=!1,D=new te,R=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(x)}};function x(){for(var c;c=ne();){try{c.h.call(c.g)}catch(_){H(_)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}xe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function lt(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}w(lt,O),lt.prototype.init=function(c,y){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ae(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++Y,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function ee(c){const y={};for(const _ in c)y[_]=c[_];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let Q=0;Q<oe.length;Q++)_=oe[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,y,_,A,B){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const re=Ee(c,y,A,B);return re>-1?(y=c[re],_||(y.fa=!1)):(y=new ae(y,this.src,Q,!!A,B),y.fa=_,c.push(y)),y};function Oe(c,y){const _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(A,B,1),Q&&(pe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ee(c,y,_,A){for(let B=0;B<c.length;++B){const Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==A)return B}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Ge={};function Pn(c,y,_,A,B){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Pn(c,y[Q],_,A,B);return null}return _=wu(_),c&&c[nt]?c.J(y,_,m(A)?!!A.capture:!1,B):Ao(c,y,_,!1,A,B)}function Ao(c,y,_,A,B,Q){if(!y)throw Error("Invalid event type");const re=m(B)?!!B.capture:!!B;let we=So(c);if(we||(c[Pt]=we=new de(c)),_=we.add(y,_,A,re,Q),_.proxy)return _;if(A=sa(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)U||(B=re),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(oa(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sa(){function c(_){return y.call(c.src,c.listener,_)}const y=ef;return c}function aa(c,y,_,A,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)aa(c,y[Q],_,A,B);else A=m(A)?!!A.capture:!!A,_=wu(_),c&&c[nt]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],_=Ee(y,_,A,B),_>-1&&(pe(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=So(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ee(y,_,A,B)),(_=c>-1?y[c]:null)&&os(_))}function os(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[nt])Oe(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(oa(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=So(y))?(Oe(_,c),_.h==0&&(_.src=null,y[Pt]=null)):pe(c)}}}function oa(c){return c in Ge?Ge[c]:Ge[c]="on"+c}function ef(c,y){if(c.da)c=!0;else{y=new lt(y,this);const _=c.listener,A=c.ha||c.src;c.fa&&os(c),c=_.call(A,y)}return c}function So(c){return c=c[Pt],c instanceof de?c:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function wu(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(y){return c.handleEvent(y)}),c[rn])}function At(){k.call(this),this.i=new de(this),this.M=this,this.G=null}w(At,k),At.prototype[nt]=!0,At.prototype.removeEventListener=function(c,y,_,A){aa(this,c,y,_,A)};function Nt(c,y){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var B=y;y=new O(A,c),se(y,B)}B=!0;let Q,re;if(_)for(re=_.length-1;re>=0;re--)Q=y.g=_[re],B=br(Q,A,!0,y)&&B;if(Q=y.g=c,B=br(Q,A,!0,y)&&B,B=br(Q,A,!1,y)&&B,_)for(re=0;re<_.length;re++)Q=y.g=_[re],B=br(Q,A,!1,y)&&B}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let A=0;A<_.length;A++)pe(_[A]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},At.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function br(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let Q=0;Q<y.length;++Q){const re=y[Q];if(re&&!re.da&&re.capture==_){const we=re.listener,et=re.ha||re.src;re.fa&&Oe(c.i,re),B=we.call(et,A)!==!1&&B}}return B&&!A.defaultPrevented}function tf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Ro(c){c.g=tf(()=>{c.g=null,c.i&&(c.i=!1,Ro(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nf extends k{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ro(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){k.call(this),this.h=c,this.g={}}w(ls,k);var Jr=[];function Ft(c){Ue(c.g,function(y,_){this.g.hasOwnProperty(_)&&os(y)},c),c.g={}}ls.prototype.N=function(){ls.Z.N.call(this),Ft(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=f.JSON.stringify,Zt=f.JSON.parse,rf=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Au(){}function Su(){}var er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ei(){O.call(this,"d")}w(ei,O);function Ln(){O.call(this,"c")}w(Ln,O);var Tn={},ti=null;function la(){return ti=ti||new At}Tn.Ia="serverreachability";function xo(c){O.call(this,Tn.Ia,c)}w(xo,O);function ni(c){const y=la();Nt(y,new xo(y))}Tn.STAT_EVENT="statevent";function ua(c,y){O.call(this,Tn.STAT_EVENT,c),this.stat=y}w(ua,O);function ht(c){const y=la();Nt(y,new ua(y,c))}Tn.Ja="timingevent";function Ru(c,y){O.call(this,Tn.Ja,c),this.size=y}w(Ru,O);function ri(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Co(c,y,_,A,B,Q){c.info(function(){if(c.g)if(Q){var re="",we=Q.split("&");for(let qe=0;qe<we.length;qe++){var et=we[qe].split("=");if(et.length>1){const mt=et[0];et=et[1];const cn=mt.split("_");re=cn.length>=2&&cn[1]=="type"?re+(mt+"="+et+"&"):re+(mt+"=redacted&")}}}else re=null;else re=Q;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+re})}function Io(c,y,_,A,B,Q,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+Q+" "+re})}function wr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+tr(c,_)+(A?" "+A:"")})}function sf(c,y){c.info(function(){return"TIMEOUT: "+y})}ii.prototype.info=function(){};function tr(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var _=Q[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return En(Q)}catch{return y}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ar;function us(){}w(us,Au),us.prototype.g=function(){return new XMLHttpRequest},Ar=new us;function cs(c){return encodeURIComponent(String(c))}function af(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function Un(c,y,_,A){this.j=c,this.i=y,this.l=_,this.S=A||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var ca={},nr={};function rr(c,y,_){c.M=1,c.A=Rr(st(y)),c.u=_,c.R=!0,ai(c,null)}function ai(c,y){c.F=Date.now(),hs(c),c.B=st(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Nu(_.i,"t",A),c.C=0,_=c.j.L,c.h=new si,c.g=Ea(c.j,_?y:null,!c.u),c.P>0&&(c.O=new nf(g(c.Y,c,c.g),c.P)),y=c.V,_=c.g,A=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Jr[0]=B.toString()),B=Jr);for(let Q=0;Q<B.length;Q++){const re=Pn(_,B[Q],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?ee(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ni(),Co(c.i,c.v,c.B,c.l,c.S,c.u)}Un.prototype.ba=function(c){c=c.target;const y=this.O;y&&Gt(c)==3?y.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const we=Gt(this.g),et=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||bs(this.g)))){this.K||we!=4||et==7||(et==8||qe<=0?ni(3):ni(2)),sr(this);var y=this.g.ca();this.X=y;var _=oi(this);if(this.o=y==200,Io(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Q=A;break t}}Q=null}if(c=Q)wr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ha(this,c);else{this.o=!1,this.m=3,ht(12),ar(this),fs(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<_.length;)if(mt=xu(this,_),mt==nr){we==4&&(this.m=4,ht(14),c=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==ca){this.m=4,ht(15),wr(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else wr(this.i,this.l,mt,null),ha(this,mt);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||_.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)wr(this.i,this.l,_,"[Invalid Chunked Response]"),ar(this),fs(this);else if(_.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),jo(re),re.P=!0,ht(11))}}else wr(this.i,this.l,_,null),ha(this,_);we==4&&ar(this),this.o&&!this.K&&(we==4?zo(this.j,this):(this.o=!1,hs(this)))}else ws(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),ar(this),fs(this)}}}catch{}finally{}};function oi(c){if(!dt(c))return c.g.la();const y=bs(c.g);if(y==="")return"";let _="";const A=y.length,B=Gt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ar(c),fs(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,_+=c.h.i.decode(y[Q],{stream:!(B&&Q==A-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function dt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function xu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?nr:(_=Number(y.substring(_,A)),isNaN(_)?ca:(A+=1,A+_>y.length?nr:(y=y.slice(A,A+_),c.C=A+_,y)))}Un.prototype.cancel=function(){this.K=!0,ar(this)};function hs(c){c.T=Date.now()+c.H,ir(c,c.H)}function ir(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ri(g(c.aa,c),y)}function sr(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Un.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(sf(this.i,this.B),this.M!=2&&(ni(),ht(17)),ar(this),this.m=2,fs(this)):ir(this,this.T-c)};function fs(c){c.j.I==0||c.K||zo(c.j,c)}function ar(c){sr(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ft(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ha(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||ps(_.h,c))){if(!c.L&&ps(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)va(_),or(_);else break e;Uo(_),ht(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ri(g(_.Va,_),6e3));bn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ir(_,11)}else if((c.L||_.g==c)&&va(_),!I(y))for(B=_.Ba.g.parse(y),y=0;y<B.length;y++){let qe=B[y];const mt=qe[0];if(!(mt<=_.K))if(_.K=mt,qe=qe[1],_.I==2)if(qe[0]=="c"){_.M=qe[1],_.ba=qe[2];const cn=qe[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const lr=qe[4];lr!=null&&(_.za=lr,_.j.info("SVER="+_.za));const Bn=qe[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(A=1.5*Bn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const qn=c.g;if(qn){const Hn=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hn){var Q=A.h;Q.g||Hn.indexOf("spdy")==-1&&Hn.indexOf("quic")==-1&&Hn.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(fa(Q,Q.h),Q.h=null))}if(A.G){const qo=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(A.wa=qo,Qe(A.J,A.G,qo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var re=c;if(A.na=ju(A,A.L?A.ba:null,A.W),re.L){Sr(A.h,re);var we=re,et=A.O;et&&(we.H=et),we.D&&(sr(we),hs(we)),A.g=re}else Vu(A);_.i.length>0&&xs(_)}else qe[0]!="stop"&&qe[0]!="close"||Ir(_,7);else _.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ir(_,7):Ss(_):qe[0]!="noop"&&_.l&&_.l.qa(qe),_.A=0)}}ni(4)}catch{}}var of=class{constructor(c,y){this.g=c,this.map=y}};function ds(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ms(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bn(c){return c.h?1:c.g?c.g.size:0}function ps(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fa(c,y){c.g?c.g.add(y):c.h=y}function Sr(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ds.prototype.cancel=function(){if(this.i=da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function da(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return V(c.i)}var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let B,Q=null;A>=0?(B=c[_].substring(0,A),Q=c[_].substring(A+1)):B=c[_],y(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function jn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof jn?(this.l=c.l,li(this,c.j),this.o=c.o,this.g=c.g,gs(this,c.u),this.h=c.h,ui(this,Du(c.i)),this.m=c.m):c&&(y=String(c).match(ma))?(this.l=!1,li(this,y[1]||"",!0),this.o=ys(y[2]||""),this.g=ys(y[3]||"",!0),gs(this,y[4]),this.h=ys(y[5]||"",!0),ui(this,y[6]||"",!0),this.m=ys(y[7]||"")):(this.l=!1,this.i=new wn(null,this.l))}jn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Dt(y,Do,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dt(y,Do,!0),"@"),c.push(cs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Dt(_,_.charAt(0)=="/"?ci:Oo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Dt(_,Iu)),c.join("")},jn.prototype.resolve=function(c){const y=st(this);let _=!!c.j;_?li(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var A=c.h;if(_)gs(y,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let re=0;re<B.length;){const we=B[re++];we=="."?A&&re==B.length&&Q.push(""):we==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&re==B.length&&Q.push("")):(Q.push(we),A=!0)}A=Q.join("/")}else A=B}return _?y.h=A:_=c.i.toString()!=="",_?ui(y,Du(c.i)):_=!!c.m,_&&(y.m=c.m),y};function st(c){return new jn(c)}function li(c,y,_){c.j=_?ys(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gs(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function ui(c,y,_){y instanceof wn?(c.i=y,Vo(c.i,c.l)):(_||(y=Dt(y,Cu)),c.i=new wn(y,c.l))}function Qe(c,y,_){c.i.set(y,_)}function Rr(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ys(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dt(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,No),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function No(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Do=/[#\/\?@]/g,Oo=/[#\?:]/g,ci=/[#\?]/g,Cu=/[#\?@]/g,Iu=/#/g;function wn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&lf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=wn.prototype,i.add=function(c,y){xr(this),this.i=null,c=zn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Mo(c,y){xr(c),y=zn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ko(c,y){return xr(c),y=zn(c,y),c.g.has(y)}i.forEach=function(c,y){xr(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)};function pa(c,y){xr(c);let _=[];if(typeof y=="string")ko(c,y)&&(_=_.concat(c.g.get(zn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}i.set=function(c,y){return xr(this),this.i=null,c=zn(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=pa(this,c),c.length>0?String(c[0]):y):y};function Nu(c,y,_){Mo(c,y),_.length>0&&(c.i=null,c.g.set(zn(c,y),V(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var _=y[A];const B=cs(_);_=pa(this,_);for(let Q=0;Q<_.length;Q++){let re=B;_[Q]!==""&&(re+="="+cs(_[Q])),c.push(re)}}return this.i=c.join("&")};function Du(c){const y=new wn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function zn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Vo(c,y){y&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(_,A){const B=A.toLowerCase();A!=B&&(Mo(this,A),Nu(this,B,_))},c)),c.j=y}function Po(c,y){const _=new ii;if(f.Image){const A=new Image;A.onload=E(Jt,_,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Jt,_,"TestLoadImage: error",!1,y,A),A.onabort=E(Jt,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Jt,_,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function hi(c,y){const _=new ii,A=new AbortController,B=setTimeout(()=>{A.abort(),Jt(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(B),Q.ok?Jt(_,"TestPingServer: ok",!0,y):Jt(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Jt(_,"TestPingServer: error",!1,y)})}function Jt(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Ou(){this.g=new rf}function _s(c){this.i=c.Sb||null,this.h=c.ab||!1}w(_s,Au),_s.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(vs,At),i=vs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Cr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,en(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fi(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fi(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?en(this):Cr(this),this.readyState==3&&fi(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,en(this))},i.Na=function(c){this.g&&(this.response=c,en(this))},i.ga=function(){this.g&&en(this)};function en(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Cr(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function di(c){let y="";return Ue(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function An(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=di(_),typeof c=="string"?_!=null&&cs(_):Qe(c,y,_))}function We(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(We,At);var ga=/^https?$/i,Mu=["POST","PUT"];i=We.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ar.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Es(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Mu,y,void 0)>=0)||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,re]of _)this.g.setRequestHeader(Q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Es(this,Q)}};function Es(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ts(c),St(c)}function Ts(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Nt(this,"complete"),Nt(this,"abort"),St(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),St(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Lo(this):this.Xa())},i.Xa=function(){Lo(this)};function Lo(c){if(c.h&&typeof u<"u"){if(c.v&&Gt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Nt(c,"readystatechange"),Gt(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=Q===0){let re=String(c.D).match(ma)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!ga.test(re?re.toLowerCase():"")}_=A}if(_)Nt(c,"complete"),Nt(c,"success");else{c.o=6;try{var B=Gt(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Ts(c)}}finally{St(c)}}}}function St(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Nt(c,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Gt(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Gt(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Zt(y)}};function bs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(c){const y={};c=(c.g&&Gt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var _=af(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[B]||[];y[B]=Q,Q.push(_)}N(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ya(c){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=As("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=As("baseRetryDelayMs",5e3,c),this.Za=As("retryDelaySeedMs",1e4,c),this.Ta=As("forwardChannelMaxRetries",2,c),this.va=As("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ds(c&&c.concurrentRequestLimit),this.Ba=new Ou,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ya.prototype,i.ka=8,i.I=1,i.connect=function(c,y,_,A){ht(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=ju(this,null,this.W),xs(this)};function Ss(c){if(Rs(c),c.I==3){var y=c.V++,_=st(c.J);if(Qe(_,"SID",c.M),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Cs(c,_),y=new Un(c,c.j,y),y.M=2,y.A=Rr(st(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Ea(y.j,null),y.g.ea(y.A)),y.F=Date.now(),hs(y)}Uu(c)}function or(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function Rs(c){or(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function xs(c){if(!ms(c.h)&&!c.m){c.m=!0;var y=c.Ea;he||R(),xe||(he(),xe=!0),D.add(y,c),c.D=0}}function uf(c,y){return bn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ri(g(c.Ea,c,y),Lu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Un(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=ee(Q),se(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=_a(this,B,y),_=st(this.J),Qe(_,"RID",c),Qe(_,"CVER",22),this.G&&Qe(_,"X-HTTP-Session-Id",this.G),Cs(this,_),Q&&(this.R?y="headers="+cs(di(Q))+"&"+y:this.u&&An(_,this.u,Q)),fa(this.h,B),this.Ra&&Qe(_,"TYPE","init"),this.S?(Qe(_,"$req",y),Qe(_,"SID","null"),B.U=!0,rr(B,_,null)):rr(B,_,y),this.I=2}}else this.I==3&&(c?ku(this,c):this.i.length==0||ms(this.h)||ku(this))};function ku(c,y){var _;y?_=y.l:_=c.V++;const A=st(c.J);Qe(A,"SID",c.M),Qe(A,"RID",_),Qe(A,"AID",c.K),Cs(c,A),c.u&&c.o&&An(A,c.u,c.o),_=new Un(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=_a(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),fa(c.h,_),rr(_,A,y)}function Cs(c,y){c.H&&Ue(c.H,function(_,A){Qe(y,A,_)}),c.l&&Ue({},function(_,A){Qe(y,A,_)})}function _a(c,y,_){_=Math.min(c.i.length,_);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let we=-1;for(;;){const et=["count="+_];we==-1?_>0?(we=B[0].g,et.push("ofs="+we)):we=0:et.push("ofs="+we);let qe=!0;for(let mt=0;mt<_;mt++){var Q=B[mt].g;const cn=B[mt].map;if(Q-=we,Q<0)we=Math.max(0,B[mt].g-100),qe=!1;else try{Q="req"+Q+"_"||"";try{var re=cn instanceof Map?cn:Object.entries(cn);for(const[lr,Bn]of re){let qn=Bn;m(Bn)&&(qn=En(Bn)),et.push(Q+lr+"="+encodeURIComponent(qn))}}catch(lr){throw et.push(Q+"type="+encodeURIComponent("_badmap")),lr}}catch{A&&A(cn)}}if(qe){re=et.join("&");break e}}re=void 0}return c=c.i.splice(0,_),y.G=c,re}function Vu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;he||R(),xe||(he(),xe=!0),D.add(y,c),c.A=0}}function Uo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ri(g(c.Da,c),Lu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ri(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),or(this),Pu(this))};function jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=st(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),Cs(c,y),c.u&&c.o&&An(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Rr(st(y)),_.u=null,_.R=!0,ai(_,c)}i.Va=function(){this.C!=null&&(this.C=null,or(this),Uo(this),ht(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function zo(c,y){var _=null;if(c.g==y){va(c),jo(c),c.g=null;var A=2}else if(ps(c.h,y))_=y.G,Sr(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;A=la(),Nt(A,new Ru(A,_)),xs(c)}else Vu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&uf(c,y)||A==2&&Uo(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function Lu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Ir(c,y){if(c.j.info("Error code "+y),y==2){var _=g(c.bb,c),A=c.Ua;const B=!A;A=new jn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||li(A,"https"),Rr(A),B?Po(A.toString(),_):hi(A.toString(),_)}else ht(2);c.I=0,c.l&&c.l.pa(y),Uu(c),Rs(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const y=da(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ja,y),j(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function ju(c,y,_){var A=_ instanceof jn?st(_):new jn(_);if(A.g!="")y&&(A.g=y+"."+A.g),gs(A,A.u);else{var B=f.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const Q=new jn(null);A&&li(Q,A),y&&(Q.g=y),B&&gs(Q,B),_&&(Q.h=_),A=Q}return _=c.G,y=c.wa,_&&y&&Qe(A,_,y),Qe(A,"VER",c.ka),Cs(c,A),A}function Ea(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new _s({ab:_})):new We(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}i=zu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){At.call(this),this.g=new ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mi(this)}w(tn,At),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ss(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=En(c),c=_);y.i.push(new of(y.Ya++,c)),y.I==3&&xs(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ss(this.g),delete this.g,tn.Z.N.call(this)};function Bo(c){ei.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}w(Bo,ei);function Bu(){Ln.call(this),this.status=1}w(Bu,Ln);function mi(c){this.g=c}w(mi,zu),mi.prototype.ra=function(){Nt(this.g,"a")},mi.prototype.qa=function(c){Nt(this.g,new Bo(c))},mi.prototype.pa=function(c){Nt(this.g,new Bu)},mi.prototype.oa=function(){Nt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,BE=function(){return new Ta},zE=function(){return la()},jE=Tn,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,Wc=ft,Lt.COMPLETE="complete",UE=Lt,Su.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",At.prototype.listen=At.prototype.J,Ll=Su,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,LE=We}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",q0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new rp("@firebase/firestore");function Xa(){return Ws.logLevel}function ue(i,...e){if(Ws.logLevel<=Me.DEBUG){const n=e.map(ap);Ws.debug(`Firestore (${_o}): ${i}`,...n)}}function Xr(i,...e){if(Ws.logLevel<=Me.ERROR){const n=e.map(ap);Ws.error(`Firestore (${_o}): ${i}`,...n)}}function ao(i,...e){if(Ws.logLevel<=Me.WARN){const n=e.map(ap);Ws.warn(`Firestore (${_o}): ${i}`,...n)}}function ap(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,qE(i,s,n)}function qE(i,e,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xr(s),new Error(s)}function Be(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||qE(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class H2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class F2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ks,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ks)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new HE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class G2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new G2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Y2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Cm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return dm(o)===dm(u)?ke(o,u):dm(o)?1:-1}return ke(i.length,e.length)}const $2=55296,X2=57343;function dm(i){const e=i.charCodeAt(0);return e>=$2&&e<=X2}function oo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__name__";class mr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=mr.isNumericId(e),o=mr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mr.extractNumericId(e).compare(mr.extractNumericId(n)):Cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class Je extends mr{construct(e,n,s){return new Je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends mr{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return W2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F0}static keyField(){return new qt([F0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Je.fromString(e))}static fromName(e){return new me(Je.fromString(e).popFirst(5))}static empty(){return new me(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Z2(i,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function G0(i){if(!me.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Q0(i){if(me.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function GE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Mh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function Qi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i,e){const n={typeString:i};return e&&(n.value=e),n}function du(i,e){if(!GE(i))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-62135596800,Y0=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Y0);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K0)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:bt("string",tt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new tt(0,0))}static max(){return new be(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function J2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new Yi(o,me.empty(),e)}function eR(i){return new Yi(i.readTime,i.key,Xl)}class Yi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yi(be.min(),me.empty(),Xl)}static max(){return new Yi(be.max(),me.empty(),Xl)}}function tR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==nR)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,s)=>{n(e)}))}static reject(e){return new J(((n,s)=>{s(e)}))}static waitFor(e){return new J(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next((o=>o?J.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new J(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new J(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function iR(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=-1;function Vh(i){return i==null}function ch(i){return i===0&&1/i==-1/0}function sR(i){return typeof i=="number"&&Number.isInteger(i)&&!ch(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="";function aR(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=$0(e)),e=oR(i.get(n),e);return $0(e)}function oR(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case QE:n+="";break;default:n+=u}}return n}function $0(i){return i+QE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ns(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function KE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Ct(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new YE("Invalid base64 string: "+u):u}})(e);return new Ht(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const lR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(i){if(Be(!!i,39018),typeof i=="string"){let e=0;const n=lR.exec(i);if(Be(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xi(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="server_timestamp",XE="__type__",WE="__previous_value__",ZE="__local_write_time__";function up(i){return(i?.mapValue?.fields||{})[XE]?.stringValue===$E}function Ph(i){const e=i.mapValue.fields[WE];return up(e)?Ph(e):e}function Wl(i){const e=$i(i.mapValue.fields[ZE].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const hh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__type__",cR="__max__",Gc={mapValue:{}},eT="__vector__",fh="value";function Wi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?up(i)?4:fR(i)?9007199254740991:hR(i)?10:11:ve(28295,{value:i})}function Er(i,e){if(i===e)return!0;const n=Wi(i);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wl(i).isEqual(Wl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$i(o.timestampValue),m=$i(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Xi(o.bytesValue).isEqual(Xi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return oo(i.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(X0(f)!==X0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Er(f[p],m[p])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function Jl(i,e){return(i.values||[]).find((n=>Er(n,e)))!==void 0}function lo(i,e){if(i===e)return 0;const n=Wi(i),s=Wi(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return Z0(i.timestampValue,e.timestampValue);case 4:return Z0(Wl(i),Wl(e));case 5:return Cm(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=Xi(u),p=Xi(f);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ke(yt(u.latitude),yt(f.latitude));return m!==0?m:ke(yt(u.longitude),yt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return J0(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[fh]?.arrayValue,E=p[fh]?.arrayValue,w=ke(g?.values?.length||0,E?.values?.length||0);return w!==0?w:J0(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const S=Cm(p[w],E[w]);if(S!==0)return S;const V=lo(m[p[w]],g[E[w]]);if(V!==0)return V}return ke(p.length,E.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function Z0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=$i(i),s=$i(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function J0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function uo(i){return Im(i)}function Im(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=$i(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Xi(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Im(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Im(n.fields[f])}`;return o+"}"})(i.mapValue):ve(61005,{value:i})}function Zc(i){switch(Wi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(i);return e?16+Zc(e):16;case 5:return 2*i.stringValue.length;case 6:return Xi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Zc(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ns(s.fields,((u,f)=>{o+=u.length+Zc(f)})),o})(i.mapValue);default:throw ve(13486,{value:i})}}function ev(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Nm(i){return!!i&&"integerValue"in i}function cp(i){return!!i&&"arrayValue"in i}function tv(i){return!!i&&"nullValue"in i}function nv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Jc(i){return!!i&&"mapValue"in i}function hR(i){return(i?.mapValue?.fields||{})[JE]?.stringValue===eT}function ql(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ns(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ql(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(i.arrayValue.values[n]);return e}return{...i}}function fR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ns(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new un(ql(this.value))}}function tT(i){const e=[];return ns(i.fields,((n,s)=>{const o=new qt([n]);if(Jc(s)){const u=tT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),un.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,be.min(),be.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,be.min(),be.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function rv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Er(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function dR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{}class Tt extends nT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new pR(e,n,s):n==="array-contains"?new _R(e,s):n==="in"?new vR(e,s):n==="not-in"?new ER(e,s):n==="array-contains-any"?new TR(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new gR(e,s):new yR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends nT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return rT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(i){return i.op==="and"}function iT(i){return mR(i)&&rT(i)}function mR(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function Dm(i){if(i instanceof Tt)return i.field.canonicalString()+i.op.toString()+uo(i.value);if(iT(i))return i.filters.map((e=>Dm(e))).join(",");{const e=i.filters.map((n=>Dm(n))).join(",");return`${i.op}(${e})`}}function sT(i,e){return i instanceof Tt?(function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)})(i,e):i instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&sT(f,o.filters[m])),!0):!1})(i,e):void ve(19439)}function aT(i){return i instanceof Tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(i):i instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(aT).join(" ,")+"}"})(i):"Filter"}class pR extends Tt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class gR extends Tt{constructor(e,n){super(e,"in",n),this.keys=oT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yR extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=oT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oT(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class _R extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cp(n)&&Jl(n.arrayValue,this.value)}}class vR extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class ER extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class TR extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function sv(i,e=null,n=[],s=[],o=null,u=null,f=null){return new bR(i,e,n,s,o,u,f)}function hp(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Dm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>uo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>uo(s))).join(",")),e.Te=n}return e.Te}function fp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!dR(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!sT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!iv(i.startAt,e.startAt)&&iv(i.endAt,e.endAt)}function Om(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wR(i,e,n,s,o,u,f,m){return new To(i,e,n,s,o,u,f,m)}function dp(i){return new To(i)}function av(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function lT(i){return i.collectionGroup!==null}function Hl(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(qt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new eu(u,s))})),n.has(qt.keyField().canonicalString())||e.Ie.push(new eu(qt.keyField(),s))}return e.Ie}function pr(i){const e=Ae(i);return e.Ee||(e.Ee=AR(e,Hl(i))),e.Ee}function AR(i,e){if(i.limitType==="F")return sv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new eu(o.field,u)}));const n=i.endAt?new dh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new dh(i.startAt.position,i.startAt.inclusive):null;return sv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Mm(i,e){const n=i.filters.concat([e]);return new To(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function km(i,e,n){return new To(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Lh(i,e){return fp(pr(i),pr(e))&&i.limitType===e.limitType}function uT(i){return`${hp(pr(i))}|lt:${i.limitType}`}function Wa(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>aT(o))).join(", ")}]`),Vh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>uo(o))).join(",")),`Target(${s})`})(pr(i))}; limitType=${i.limitType})`}function Uh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=rv(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(f,m,p){const g=rv(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Hl(s),o))})(i,e)}function SR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function cT(i){return(e,n)=>{let s=!1;for(const o of Hl(i)){const u=RR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function RR(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?lo(p,g):ve(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return KE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new ot(me.comparator);function Wr(){return xR}const hT=new ot(me.comparator);function Ul(...i){let e=hT;for(const n of i)e=e.insert(n.key,n);return e}function fT(i){let e=hT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Gs(){return Fl()}function dT(){return Fl()}function Fl(){return new na((i=>i.toString()),((i,e)=>i.isEqual(e)))}const CR=new ot(me.comparator),IR=new Ct(me.comparator);function Ve(...i){let e=IR;for(const n of i)e=e.add(n);return e}const NR=new Ct(ke);function DR(){return NR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function mT(i){return{integerValue:""+i}}function OR(i,e){return sR(e)?mT(e):mp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function MR(i,e,n){return i instanceof tu?(function(o,u){const f={fields:{[XE]:{stringValue:$E},[ZE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&up(u)&&(u=Ph(u)),u&&(f.fields[WE]=u),{mapValue:f}})(n,e):i instanceof nu?gT(i,e):i instanceof ru?yT(i,e):(function(o,u){const f=pT(o,u),m=ov(f)+ov(o.Ae);return Nm(f)&&Nm(o.Ae)?mT(m):mp(o.serializer,m)})(i,e)}function kR(i,e,n){return i instanceof nu?gT(i,e):i instanceof ru?yT(i,e):n}function pT(i,e){return i instanceof mh?(function(s){return Nm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class tu extends jh{}class nu extends jh{constructor(e){super(),this.elements=e}}function gT(i,e){const n=_T(e);for(const s of i.elements)n.some((o=>Er(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends jh{constructor(e){super(),this.elements=e}}function yT(i,e){let n=_T(e);for(const s of i.elements)n=n.filter((o=>!Er(o,s)));return{arrayValue:{values:n}}}class mh extends jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ov(i){return yt(i.integerValue||i.doubleValue)}function _T(i){return cp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.field=e,this.transform=n}}function PR(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof nu&&o instanceof nu||s instanceof ru&&o instanceof ru?oo(s.elements,o.elements,Er):s instanceof mh&&o instanceof mh?Er(s.Ae,o.Ae):s instanceof tu&&o instanceof tu})(i.transform,e.transform)}class LR{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class zh{}function vT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new pp(i.key,$n.none()):new mu(i.key,i.data,$n.none());{const n=i.data,s=un.empty();let o=new Ct(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(i.key,s,new vn(o.toArray()),$n.none())}}function UR(i,e,n){i instanceof mu?(function(o,u,f){const m=o.value.clone(),p=uv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof rs?(function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=uv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ET(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(i,e,n,s){return i instanceof mu?(function(u,f,m,p){if(!eh(u.precondition,f))return m;const g=u.value.clone(),E=cv(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof rs?(function(u,f,m,p){if(!eh(u.precondition,f))return m;const g=cv(u.fieldTransforms,p,f),E=f.data;return E.setAll(ET(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(i,e,n,s):(function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function jR(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=pT(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function lv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,((u,f)=>PR(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class mu extends zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ET(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function uv(i,e,n){const s=new Map;Be(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,kR(f,m,n[o]))}return s}function cv(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,MR(u,f,e))}return s}class pp extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=dT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=vT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((n,s)=>lv(n,s)))&&oo(this.baseMutations,e.baseMutations,((n,s)=>lv(n,s)))}}class gp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return CR})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new gp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Le;function FR(i){switch(i){case W.OK:return ve(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function TT(i){if(i===void 0)return Xr("GRPC error has no .code"),W.UNKNOWN;switch(i){case Et.OK:return W.OK;case Et.CANCELLED:return W.CANCELLED;case Et.UNKNOWN:return W.UNKNOWN;case Et.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Et.INTERNAL:return W.INTERNAL;case Et.UNAVAILABLE:return W.UNAVAILABLE;case Et.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Et.NOT_FOUND:return W.NOT_FOUND;case Et.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Et.ABORTED:return W.ABORTED;case Et.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Et.DATA_LOSS:return W.DATA_LOSS;default:return ve(39323,{code:i})}}(Le=Et||(Et={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Gi([4294967295,4294967295],0);function hv(i){const e=GR().encode(i),n=new PE;return n.update(e),new Uint8Array(n.digest())}function fv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gi([n,s],0),new Gi([o,u],0)]}class yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Gi.fromNumber(s)));return o.compare(QR)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hv(e),[s,o]=fv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new yp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=hv(e),[s,o]=fv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Bh(be.min(),o,new ot(ke),Wr(),Ve())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class bT{constructor(e,n){this.targetId=e,this.Ce=n}}class wT{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class dv{constructor(){this.ve=0,this.Fe=mv(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=mv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wr(),this.Je=Qc(),this.He=Qc(),this.Ye=new ot(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Om(u))if(s===0){const f=new me(u.path);this.et(n,f,Xt.newNoDocument(f,be.min()))}else Be(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xi(s).toUint8Array()}catch(p){if(p instanceof YE)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yp(f,o,u)}catch(p){return ao(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Om(m.target)){const p=new me(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Xt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ve();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Bh(e,n,this.Ye,this.je,s);return this.je=Wr(),this.Je=Qc(),this.He=Qc(),this.Ye=new ot(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new ot(me.comparator)}function mv(){return new ot(me.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},$R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class WR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(i,e){return i.useProto3Json||Vh(e)?e:{value:e}}function ph(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(i,e){return ph(i,e.toTimestamp())}function gr(i){return Be(!!i,49232),be.fromTimestamp((function(n){const s=$i(n);return new tt(s.seconds,s.nanos)})(i))}function _p(i,e){return Pm(i,e).canonicalString()}function Pm(i,e){const n=(function(o){return new Je(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function ST(i){const e=Je.fromString(i);return Be(NT(e),10190,{key:e.toString()}),e}function Lm(i,e){return _p(i.databaseId,e.path)}function mm(i,e){const n=ST(e);if(n.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(xT(n))}function RT(i,e){return _p(i.databaseId,e)}function JR(i){const e=ST(i);return e.length===4?Je.emptyPath():xT(e)}function Um(i){return new Je(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xT(i){return Be(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function pv(i,e,n){return{name:Lm(i,e),fields:n.value.mapValue.fields}}function ex(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Be(E===void 0||typeof E=="string",58123),Ht.fromBase64String(E||"")):(Be(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ht.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?W.UNKNOWN:TT(g.code);return new le(E,g.message||"")})(f);n=new wT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=mm(i,s.document.name),u=gr(s.document.updateTime),f=s.document.createTime?gr(s.document.createTime):be.min(),m=new un({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new th(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=mm(i,s.document),u=s.readTime?gr(s.readTime):be.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=mm(i,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new HR(o,u),m=s.targetId;n=new bT(m,f)}}return n}function tx(i,e){let n;if(e instanceof mu)n={update:pv(i,e.key,e.value)};else if(e instanceof pp)n={delete:Lm(i,e.key)};else if(e instanceof rs)n={update:pv(i,e.key,e.data),updateMask:cx(e.fieldMask)};else{if(!(e instanceof zR))return ve(16599,{Vt:e.type});n={verify:Lm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof tu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(i,e.precondition)),n}function nx(i,e){return i&&i.length>0?(Be(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?gr(o.updateTime):gr(u);return f.isEqual(be.min())&&(f=gr(u)),new LR(f,o.transformResults||[])})(n,e)))):[]}function rx(i,e){return{documents:[RT(i,e.path)]}}function ix(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=RT(i,o);const u=(function(g){if(g.length!==0)return IT(Wn.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(S){return{field:Za(S.field),direction:ox(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Vm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function sx(i){let e=JR(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Be(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const S=CT(w);return S instanceof Wn&&iT(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((S=>(function(j){return new eu(Ja(j.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let S;return S=typeof w=="object"?w.value:w,Vh(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(w){const S=!!w.before,V=w.values||[];return new dh(V,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const S=!w.before,V=w.values||[];return new dh(V,S)})(n.endAt)),wR(e,o,f,u,m,"F",p,g)}function ax(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Tt.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((s=>CT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(i):ve(30097,{filter:i})}function ox(i){return YR[i]}function lx(i){return $R[i]}function ux(i){return XR[i]}function Za(i){return{fieldPath:i.canonicalString()}}function Ja(i){return qt.fromServerFormat(i.fieldPath)}function IT(i){return i instanceof Tt?(function(n){if(n.op==="=="){if(nv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(tv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(tv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:lx(n.op),value:n.value}}})(i):i instanceof Wn?(function(n){const s=n.getFilters().map((o=>IT(o)));return s.length===1?s[0]:{compositeFilter:{op:ux(n.op),filters:s}}})(i):ve(54877,{filter:i})}function cx(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.yt=e}}function fx(i){const e=sx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.Cn=new mx}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Yi.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class mx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(Je.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(DT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LruGarbageCollector",px=1048576;function _v([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class gx{constructor(e){this.Ir=e,this.buffer=new Ct(_v),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_v(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(yv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ue(yv,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class _x{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(kh.ce);const s=new gx(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(gv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),Xa()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function vx(i,e){return new _x(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.changes=new na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Gl(s.mutation,o,vn.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Gs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ul();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Wr();const f=Fl(),m=(function(){return Fl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof rs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Gl(E.mutation,g,E.mutation.getFieldMask(),tt.now())):f.set(g.key,vn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new Tx(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new ot(((f,m)=>f-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=dT();E.forEach((S=>{if(!u.has(S)){const V=vT(n.get(S),s.get(S));V!==null&&w.set(S,V),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Gs());let m=Xl,p=u;return f.next((g=>J.forEach(g,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((E=>({batchId:m,changes:fT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next((m=>J.forEach(m,(p=>{const g=(function(w,S){return new To(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((w,S)=>{f=f.insert(w,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))}));let m=Ul();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Gl(E.mutation,g,vn.empty(),tt.now()),Uh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:fx(o.bundledQuery),readTime:gr(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.overlays=new ot(me.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return J.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Gs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qR(n,s));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Qr=new Ct(Vt.$r),this.Ur=new Ct(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new Je([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new Je([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Vt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Vt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BR(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?lp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(ke);return n.forEach((o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new me(u),0);let m=new Ct(ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.ri=e,this.docs=(function(){return new ot(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=Wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Wr();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||tR(eR(E),s)<=0||(o.has(E.key)||Uh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Cx(this)}getSize(e){return J.resolve(this.size)}}class Cx extends Ex{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.persistence=e,this.si=new na((n=>hp(n)),fp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new vp,this.targetCount=0,this.ai=co.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new Sx,this.referenceDelegate=e(this),this.Pi=new Ix(this),this.indexManager=new dx,this.remoteDocumentCache=(function(o){return new xx(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new hx(n),this.Ii=new wx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ax,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Rx(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new Nx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Nx extends rR{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Ri=new vp,this.Vi=null}static mi(e){return new Ep(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gh{constructor(e,n){this.persistence=e,this.pi=new na((s=>aR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=vx(this,n)}static mi(e,n){return new gh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?J.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ES()?8:iR(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Dx;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Xa()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Xa()<=Me.DEBUG&&ue("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Xa()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):J.resolve())}ys(e,n){if(av(n))return J.resolve(null);let s=pr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),s=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ve(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,km(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return av(n)||o.isEqual(be.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(Xa()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.vs(e,f,n,J2(o,Xl)).next((m=>m)))}))}Ds(e,n){let s=new Ct(cT(e));return n.forEach(((o,u)=>{Uh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Xa()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(e,n,Yi.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="LocalStore",Mx=3e8;class kx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ot(ke),this.xs=new na((u=>hp(u)),fp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Vx(i,e,n,s){return new kx(i,e,n,s)}async function MT(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function Px(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const w=g.batch,S=w.keys();let V=J.resolve();return S.forEach((j=>{V=V.next((()=>E.getEntry(p,j))).next((K=>{const H=g.docVersions.get(j);Be(H!==null,48541),K.version.compareTo(H)<0&&(w.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function kT(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Lx(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w))));let V=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(Ht.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(w,V),(function(K,H,ne){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Mx?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,V,E)&&m.push(n.Pi.updateTargetData(u,V))}));let p=Wr(),g=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(Ux(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function Ux(i,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=Wr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function jx(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=lp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zx(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new zi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function jm(i,e,n){const s=Ae(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;ue(bp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function vv(i,e,n){const s=Ae(i);let o=be.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const w=Ae(p),S=w.xs.get(E);return S!==void 0?J.resolve(w.Ms.get(S)):w.Pi.getTargetData(g,E)})(s,f,pr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Ve()))).next((m=>(Bx(s,SR(e),m),{documents:m,Qs:u})))))}function Bx(i,e,n){let s=i.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class Ev{constructor(){this.activeTargetIds=DR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qx{constructor(){this.Mo=new Ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ev,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="ConnectivityMonitor";class bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Tv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function zm(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="RestConnection",Fx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=zm(),m=this.zo(e,n.toUriEncodedString());ue(pm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=go(g);return this.Jo(e,m,p,s,E).then((w=>(ue(pm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw ao(pm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=Fx[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class Kx extends Gx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=zm();return new Promise(((m,p)=>{const g=new LE;g.setWithCredentials(!0),g.listenOnce(UE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Wc.NO_ERROR:const w=g.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Wc.TIMEOUT:ue(Yt,`RPC '${e}' ${f} timed out`),p(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const S=g.getStatus();if(ue(Yt,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const j=V?.error;if(j&&j.status&&j.message){const K=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(te)>=0?te:W.UNKNOWN})(j.status);p(new le(K,j.message))}else p(new le(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(W.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Yt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(Yt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=BE(),m=zE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.I_(w);let S=!1,V=!1;const j=new Qx({Yo:H=>{V?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(S||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,H),w.send(H))},Zo:()=>w.close()}),K=(H,ne,te)=>{H.listen(ne,(ie=>{try{te(ie)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return K(w,Ll.EventType.OPEN,(()=>{V||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),K(w,Ll.EventType.CLOSE,(()=>{V||(V=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(w))})),K(w,Ll.EventType.ERROR,(H=>{V||(V=!0,ao(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),j.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),K(w,Ll.EventType.MESSAGE,(H=>{if(!V){const ne=H.data[0];Be(!!ne,16349);const te=ne,ie=te?.error||te[0]?.error;if(ie){ue(Yt,`RPC '${e}' stream ${o} received error:`,ie);const Se=ie.status;let he=(function(R){const x=Et[R];if(x!==void 0)return TT(x)})(Se),xe=ie.message;he===void 0&&(he=W.INTERNAL,xe="Unknown error status: "+Se+" with message "+ie.message),V=!0,j.a_(new le(he,xe)),w.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,ne),j.u_(ne)}})),K(m,jE.STAT_EVENT,(H=>{H.stat===xm.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===xm.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(i){return new WR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class PT{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yx extends PT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ex(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?gr(f.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Um(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Om(p)?{documents:rx(u,p)}:{query:ix(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=AT(u,f.resumeToken);const g=Vm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=ph(u,f.snapshotVersion.toTimestamp());const g=Vm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=ax(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.q_(n)}}class $x extends PT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nx(e.writeResults,e.commitTime),s=gr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Um(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>tx(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{}class Wx extends Xx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Pm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Pm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Zx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class Jx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ra(this)&&(ue(Zs,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Hh(g)})(this))}))})),this.Ra=new Zx(s,o)}}async function Hh(i){if(ra(i))for(const e of i.da)await e(!0)}async function gu(i){for(const e of i.da)await e(!1)}function LT(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rp(n)?Sp(n):bo(n).O_()&&Ap(n,e))}function wp(i,e){const n=Ae(i),s=bo(n);n.Ia.delete(e),s.O_()&&UT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ra(n)&&n.Ra.set("Unknown"))}function Ap(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(i).Y_(e)}function UT(i,e){i.Va.Ue(e),bo(i).Z_(e)}function Sp(i){i.Va=new KR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),bo(i).start(),i.Ra.ua()}function Rp(i){return ra(i)&&!bo(i).x_()&&i.Ia.size>0}function ra(i){return Ae(i).Ea.size===0}function jT(i){i.Va=void 0}async function eC(i){i.Ra.set("Online")}async function tC(i){i.Ia.forEach(((e,n)=>{Ap(i,e)}))}async function nC(i,e){jT(i),Rp(i)?(i.Ra.ha(e),Sp(i)):i.Ra.set("Unknown")}async function rC(i,e,n){if(i.Ra.set("Online"),e instanceof wT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yh(i,s)}else if(e instanceof th?i.Va.Ze(e):e instanceof bT?i.Va.st(e):i.Va.tt(e),!n.isEqual(be.min()))try{const s=await kT(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),UT(u,p);const w=new zi(E.target,p,g,E.sequenceNumber);Ap(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(Zs,"Failed to raise snapshot:",s),await yh(i,s)}}async function yh(i,e,n){if(!Eo(e))throw e;i.Ea.add(1),await gu(i),i.Ra.set("Offline"),n||(n=()=>kT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Zs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Hh(i)}))}function zT(i,e){return e().catch((n=>yh(i,n,e)))}async function Fh(i){const e=Ae(i),n=Zi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lp;for(;iC(e);)try{const o=await jx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,sC(e,o)}catch(o){await yh(e,o)}BT(e)&&qT(e)}function iC(i){return ra(i)&&i.Ta.length<10}function sC(i,e){i.Ta.push(e);const n=Zi(i);n.O_()&&n.X_&&n.ea(e.mutations)}function BT(i){return ra(i)&&!Zi(i).x_()&&i.Ta.length>0}function qT(i){Zi(i).start()}async function aC(i){Zi(i).ra()}async function oC(i){const e=Zi(i);for(const n of i.Ta)e.ea(n.mutations)}async function lC(i,e,n){const s=i.Ta.shift(),o=gp.from(s,e,n);await zT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Fh(i)}async function uC(i,e){e&&Zi(i).X_&&await(async function(s,o){if((function(f){return FR(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();Zi(s).B_(),await zT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Fh(s)}})(i,e),BT(i)&&qT(i)}async function Av(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ue(Zs,"RemoteStore received new credentials");const s=ra(n);n.Ea.add(3),await gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hh(n)}async function cC(i,e){const n=Ae(i);e?(n.Ea.delete(2),await Hh(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function bo(i){return i.ma||(i.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new Yx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:eC.bind(null,i),t_:tC.bind(null,i),r_:nC.bind(null,i),H_:rC.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Rp(i)?Sp(i):i.Ra.set("Unknown")):(await i.ma.stop(),jT(i))}))),i.ma}function Zi(i){return i.fa||(i.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new $x(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:aC.bind(null,i),r_:uC.bind(null,i),ta:oC.bind(null,i),na:lC.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Fh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Zs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new xp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(i,e){if(Xr("AsyncQueue",`${e}: ${i}`),Eo(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.ga=new ot(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ho{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ho(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fC{constructor(){this.queries=Rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=Rv(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function Rv(){return new na((i=>uT(i)),Lh)}async function dC(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new hC,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Cp(f,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ip(n)}async function mC(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pC(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Ip(n)}function gC(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Ip(i){i.Ca.forEach((e=>{e.next()}))}var Bm,xv;(xv=Bm||(Bm={})).Ma="default",xv.Cache="cache";class yC{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.key=e}}class FT{constructor(e){this.key=e}}class _C{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=cT(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Sv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const S=o.get(E),V=Uh(this.query,w)?w:null,j=!!S&&this.mutatedKeys.has(S.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let H=!1;S&&V?S.data.isEqual(V.data)?j!==K&&(s.track({type:3,doc:V}),H=!0):this.su(S,V)||(s.track({type:2,doc:V}),H=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!S&&V?(s.track({type:0,doc:V}),H=!0):S&&!V&&(s.track({type:1,doc:S}),H=!0,(p||g)&&(m=!0)),H&&(V?(f=f.add(V),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(V,j){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:H})}};return K(V)-K(j)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new ho(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new FT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new HT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Np="SyncEngine";class vC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class EC{constructor(e){this.key=e,this.hu=!1}}class TC{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new na((m=>uT(m)),Lh),this.Iu=new Map,this.Eu=new Set,this.du=new ot(me.comparator),this.Au=new Map,this.Ru=new vp,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bC(i,e,n=!0){const s=XT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await GT(s,e,n,!0),o}async function wC(i,e){const n=XT(i);await GT(n,e,!0,!1)}async function GT(i,e,n,s){const o=await zx(i.localStore,pr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await AC(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&LT(i.remoteStore,o),m}async function AC(i,e,n,s,o){i.pu=(w,S,V)=>(async function(K,H,ne,te){let ie=H.view.ru(ne);ie.Cs&&(ie=await vv(K.localStore,H.query,!1).then((({documents:D})=>H.view.ru(D,ie))));const Se=te&&te.targetChanges.get(H.targetId),he=te&&te.targetMismatches.get(H.targetId)!=null,xe=H.view.applyChanges(ie,K.isPrimaryClient,Se,he);return Iv(K,H.targetId,xe.au),xe.snapshot})(i,w,S,V);const u=await vv(i.localStore,e,!0),f=new _C(e,u.Qs),m=f.ru(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);Iv(i,n,g.au);const E=new vC(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function SC(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Lh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&wp(s.remoteStore,o.targetId),qm(s,o.targetId)})).catch(vo)):(qm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function RC(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),wp(n.remoteStore,s.targetId))}async function xC(i,e,n){const s=kC(i);try{const o=await(function(f,m){const p=Ae(f),g=tt.now(),E=m.reduce(((V,j)=>V.add(j.key)),Ve());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let j=Wr(),K=Ve();return p.Ns.getEntries(V,E).next((H=>{j=H,j.forEach(((ne,te)=>{te.isValidDocument()||(K=K.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,j))).next((H=>{w=H;const ne=[];for(const te of m){const ie=jR(te,w.get(te.key).overlayedDocument);ie!=null&&ne.push(new rs(te.key,ie,tT(ie.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,ne,m)})).next((H=>{S=H;const ne=H.applyToLocalDocumentSet(w,K);return p.documentOverlayCache.saveOverlays(V,H.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:fT(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ot(ke)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await yu(s,o.changes),await Fh(s.remoteStore)}catch(o){const u=Cp(o,"Failed to persist write");n.reject(u)}}async function QT(i,e){const n=Ae(i);try{const s=await Lx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Be(f.hu,14607):o.removedDocuments.size>0&&(Be(f.hu,42227),f.hu=!1))})),await yu(n,s,e)}catch(s){await vo(s)}}function Cv(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,w)=>{for(const S of w.Sa)S.va(m)&&(g=!0)})),g&&Ip(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CC(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ot(me.comparator);f=f.insert(u,Xt.newNoDocument(u,be.min()));const m=Ve().add(u),p=new Bh(be.min(),new Map,new ot(ke),f,m);await QT(s,p),s.du=s.du.remove(u),s.Au.delete(e),Dp(s)}else await jm(s.localStore,e,!1).then((()=>qm(s,e,n))).catch(vo)}async function IC(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await Px(n.localStore,e);YT(n,s,null),KT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await vo(o)}}async function NC(i,e,n){const s=Ae(i);try{const o=await(function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(Be(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);YT(s,e,n),KT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await vo(o)}}function KT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function YT(i,e,n){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function qm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||$T(i,s)}))}function $T(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(wp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Dp(i))}function Iv(i,e,n){for(const s of n)s instanceof HT?(i.Ru.addReference(s.key,e),DC(i,s)):s instanceof FT?(ue(Np,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||$T(i,s.key)):ve(19791,{wu:s})}function DC(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(Np,"New document in limbo: "+n),i.Eu.add(s),Dp(i))}function Dp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(Je.fromString(e)),s=i.fu.next();i.Au.set(s,new EC(n)),i.du=i.du.insert(n,s),LT(i.remoteStore,new zi(pr(dp(n.path)),s,"TargetPurposeLimboResolution",kh.ce))}}async function yu(i,e,n){const s=Ae(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Tp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(g,(S=>J.forEach(S.Es,(V=>E.persistence.referenceDelegate.addReference(w,S.targetId,V))).next((()=>J.forEach(S.ds,(V=>E.persistence.referenceDelegate.removeReference(w,S.targetId,V)))))))))}catch(w){if(!Eo(w))throw w;ue(bp,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const V=E.Ms.get(S),j=V.snapshotVersion,K=V.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(S,K)}}})(s.localStore,u))}async function OC(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ue(Np,"User change. New user:",e.toKey());const s=await MT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ls)}}function MC(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function XT(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CC.bind(null,e),e.Pu.H_=pC.bind(null,e.eventManager),e.Pu.yu=gC.bind(null,e.eventManager),e}function kC(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Vx(this.persistence,new Ox,e.initialUser,this.serializer)}Cu(e){return new OT(Ep.mi,this.serializer)}Du(e){return new qx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class VC extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new OT((s=>gh.mi(s,n)),this.serializer)}}class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OC.bind(null,this.syncEngine),await cC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fC})()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),s=(function(u){return new Kx(u)})(e.databaseInfo);return(function(u,f,m,p){return new Wx(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new Jx(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Cv(this.syncEngine,n,0)),(function(){return bv.v()?new bv:new Hx})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const w=new TC(o,u,f,m,p,g);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ue(Zs,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="FirestoreClient";class LC{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(Ji,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(Ji,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ym(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Ji,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await MT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Nv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await UC(i);ue(Ji,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Av(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Av(e.remoteStore,o))),i._onlineComponents=e}async function UC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Ji,"Using user provided OfflineComponentProvider");try{await ym(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await ym(i,new _h)}}else ue(Ji,"Using default OfflineComponentProvider"),await ym(i,new VC(void 0));return i._offlineComponents}async function WT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Ji,"Using user provided OnlineComponentProvider"),await Nv(i,i._uninitializedComponentsProvider._online)):(ue(Ji,"Using default OnlineComponentProvider"),await Nv(i,new Hm))),i._onlineComponents}function jC(i){return WT(i).then((e=>e.syncEngine))}async function Dv(i){const e=await WT(i),n=e.eventManager;return n.onListen=bC.bind(null,e.syncEngine),n.onUnlisten=SC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="firestore.googleapis.com",Mv=!0;class kv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JT,this.ssl=Mv}else this.host=e.host,this.ssl=e.ssl??Mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<px)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new q2;switch(s.type){case"firstParty":return new Q2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Ov.get(n);s&&(ue("ComponentProvider","Removing Datastore"),Ov.delete(n),s.terminate())})(this),Promise.resolve()}}function zC(i,e,n,s={}){i=Qi(i,Gh);const o=go(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(xE(`https://${m}`),CE("Firestore",!0)),u.host!==JT&&u.host!==m&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!$s(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=hS(s.mockUserToken,i._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(w)}i._authCredentials=new H2(new HE(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,wt._jsonSchema))return new wt(e,s||null,new me(Je.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:bt("string",wt._jsonSchemaVersion),referencePath:bt("string")};class Ki extends ia{constructor(e,n,s){super(e,n,dp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new me(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function vh(i,e,...n){if(i=It(i),FE("collection","path",e),i instanceof Gh){const s=Je.fromString(e,...n);return Q0(s),new Ki(i,null,s)}{if(!(i instanceof wt||i instanceof Ki))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Je.fromString(e,...n));return Q0(s),new Ki(i.firestore,null,s)}}function iu(i,e,...n){if(i=It(i),arguments.length===1&&(e=op.newId()),FE("doc","path",e),i instanceof Gh){const s=Je.fromString(e,...n);return G0(s),new wt(i,null,new me(s))}{if(!(i instanceof wt||i instanceof Ki))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Je.fromString(e,...n));return G0(s),new wt(i.firestore,i instanceof Ki?i.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="AsyncQueue";class Pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VT(this,"async_queue_retry"),this._c=()=>{const s=gm();s&&ue(Vv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;ue(Vv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",Lv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=xp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Lv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class fo extends Gh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Pv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pv(e),this._firestoreClient=void 0,await e}}}function BC(i,e){const n=typeof i=="object"?i:OE(),s=typeof i=="string"?i:hh,o=sp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uS("firestore");u&&zC(o,...u)}return o}function e1(i){if(i._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qC(i),i._firestoreClient}function qC(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new uR(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ZT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new LC(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ht.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:bt("string",On._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(du(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:bt("string",yr._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _r(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:bt("string",_r._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=/^__.*__$/;class FC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class t1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function n1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class Op{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(n1(this.Ac)&&HC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qh(e)}Cc(e,n,s,o=!1){return new Op({Ac:e,methodName:n,Dc:s,path:qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mp(i){const e=i._freezeSettings(),n=qh(i._databaseId);return new GC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function QC(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Vp("Data must be an object, but it was:",f,s);const m=r1(s,f);let p,g;if(u.merge)p=new vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=Fm(e,w,n);if(!f.contains(S))throw new le(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);s1(E,S)||E.push(S)}p=new vn(E),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new FC(new un(m),p,g)}class Yh extends Kh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class kp extends Kh{_toFieldTransform(e){return new VR(e.path,new tu)}isEqual(e){return e instanceof kp}}function KC(i,e,n,s){const o=i.Cc(1,e,n);Vp("Data must be an object, but it was:",o,s);const u=[],f=un.empty();ns(s,((p,g)=>{const E=Pp(e,p,n);g=It(g);const w=o.yc(E);if(g instanceof Yh)u.push(E);else{const S=_u(g,w);S!=null&&(u.push(E),f.set(E,S))}}));const m=new vn(u);return new t1(f,m,o.fieldTransforms)}function YC(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[Fm(e,s,n)],p=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Fm(e,u[S])),p.push(u[S+1]);const g=[],E=un.empty();for(let S=m.length-1;S>=0;--S)if(!s1(g,m[S])){const V=m[S];let j=p[S];j=It(j);const K=f.yc(V);if(j instanceof Yh)g.push(V);else{const H=_u(j,K);H!=null&&(g.push(V),E.set(V,H))}}const w=new vn(g);return new t1(E,w,f.fieldTransforms)}function $C(i,e,n,s=!1){return _u(n,i.Cc(s?4:3,e))}function _u(i,e){if(i1(i=It(i)))return Vp("Unsupported field value:",e,i),r1(i,e);if(i instanceof Kh)return(function(s,o){if(!n1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=_u(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:ph(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(s instanceof yr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:AT(o.serializer,s._byteString)};if(s instanceof wt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _r)return(function(f,m){return{mapValue:{fields:{[JE]:{stringValue:eT},[fh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return mp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Mh(s)}`)})(i,e)}function r1(i,e){const n={};return KE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(i,((s,o)=>{const u=_u(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function i1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof tt||i instanceof yr||i instanceof On||i instanceof wt||i instanceof Kh||i instanceof _r)}function Vp(i,e,n){if(!i1(n)||!GE(n)){const s=Mh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Fm(i,e,n){if((e=It(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return Pp(i,e);throw Eh("Field path arguments must be of type string or ",i,!1,void 0,n)}const XC=new RegExp("[~\\*/\\[\\]]");function Pp(i,e,n){if(e.search(XC)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Eh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(W.INVALID_ARGUMENT,m+i+p)}function s1(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WC extends a1{data(){return super.data()}}function Lp(i,e){return typeof e=="string"?Pp(i,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Up{}class o1 extends Up{}function l1(i,e,...n){let s=[];e instanceof Up&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof zp)).length,m=u.filter((p=>p instanceof jp)).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class jp extends o1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new jp(e,n,s)}_apply(e){const n=this._parse(e);return c1(e._query,n),new ia(e.firestore,e.converter,Mm(e._query,n))}_parse(e){const n=Mp(e.firestore);return(function(u,f,m,p,g,E,w){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){zv(w,E);const j=[];for(const K of w)j.push(jv(p,u,K));S={arrayValue:{values:j}}}else S=jv(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||zv(w,E),S=$C(m,f,w,E==="in"||E==="not-in");return Tt.create(g,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class zp extends Up{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)c1(f,p),f=Mm(f,p)})(e._query,n),new ia(e.firestore,e.converter,Mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bp extends o1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(u,f)})(e._query,this._field,this._direction);return new ia(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new To(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function u1(i,e="asc"){const n=e,s=Lp("orderBy",i);return Bp._create(s,n)}function jv(i,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lT(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Je.fromString(n));if(!me.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ev(i,new me(s))}if(n instanceof wt)return ev(i,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function zv(i,e){if(!Array.isArray(i)||i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c1(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JC{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ns(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[fh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new _r(n)}convertGeoPoint(e){return new yr(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=$i(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Je.fromString(e);Be(NT(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Xr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends a1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Lp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:bt("string",Ys._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class nh extends Ys{data(e={}){return super.data(e)}}class to{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new nh(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:tI(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:bt("string",to._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class h1 extends JC{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function f1(i,e,n,...s){i=Qi(i,wt);const o=Qi(i.firestore,fo),u=Mp(o);let f;return f=typeof(e=It(e))=="string"||e instanceof Qh?YC(u,"updateDoc",i._key,e,n,s):KC(u,"updateDoc",i._key,e),qp(o,[f.toMutation(i._key,$n.exists(!0))])}function d1(i){return qp(Qi(i.firestore,fo),[new pp(i._key,$n.none())])}function m1(i,e){const n=Qi(i.firestore,fo),s=iu(i),o=eI(i.converter,e);return qp(n,[QC(Mp(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then((()=>s))}function p1(i,...e){i=It(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Uv(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Uv(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(i instanceof wt)f=Qi(i.firestore,fo),m=dp(i._key.path),u={next:p=>{e[s]&&e[s](nI(f,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Qi(i,ia);f=Qi(p.firestore,fo),m=p._query;const g=new h1(f);u={next:E=>{e[s]&&e[s](new to(f,g,p,E))},error:e[s+1],complete:e[s+2]},ZC(i._query)}return(function(g,E,w,S){const V=new PC(S),j=new yC(E,V,w);return g.asyncQueue.enqueueAndForget((async()=>dC(await Dv(g),j))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>mC(await Dv(g),j)))}})(e1(f),m,o,u)}function qp(i,e){return(function(s,o){const u=new Ks;return s.asyncQueue.enqueueAndForget((async()=>xC(await jC(s),o,u))),u.promise})(e1(i),e)}function nI(i,e,n){const s=n.docs.get(e._key),o=new h1(i);return new Ys(i,o,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}function Th(){return new kp("serverTimestamp")}(function(e,n=!0){(function(o){_o=o})(yo),so(new Xs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new fo(new F2(s.getProvider("auth-internal")),new K2(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Fi(B0,q0,e),Fi(B0,q0,"esm2020")})();function g1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rI=g1,y1=new hu("auth","Firebase",g1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new rp("@firebase/auth");function iI(i,...e){bh.logLevel<=Me.WARN&&bh.warn(`Auth (${yo}): ${i}`,...e)}function rh(i,...e){bh.logLevel<=Me.ERROR&&bh.error(`Auth (${yo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(i,...e){throw Fp(i,...e)}function Xn(i,...e){return Fp(i,...e)}function Hp(i,e,n){const s={...rI(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:i.name})}function Kr(i){return Hp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Vn(i,"argument-error"),Hp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return y1.create(i,...e)}function _e(i,e,...n){if(!i)throw Fp(e,...n)}function Fr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw rh(e),new Error(e)}function Zr(i,e){i||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(){return typeof self<"u"&&self.location?.href||""}function aI(){return Bv()==="http:"||Bv()==="https:"}function Bv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aI()||yS()||"connection"in navigator)?navigator.onLine:!0}function lI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=mS()||_S()}get(){return oI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i,e){Zr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hI=new vu(3e4,6e4);function is(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ss(i,e,n,s,o={}){return v1(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return gS()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&go(i.emulatorConfig.host)&&(g.credentials="include"),_1.fetch()(await E1(i,i.config.apiHost,n,m),g)})}async function v1(i,e,n){i._canInitEmulator=!1;const s={...uI,...e};try{const o=new dI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Yc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Yc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hp(i,E,g);Vn(i,E)}}catch(o){if(o instanceof kn)throw o;Vn(i,"network-request-failed",{message:String(o)})}}async function Eu(i,e,n,s,o={}){const u=await ss(i,e,n,s,o);return"mfaPendingCredential"in u&&Vn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function E1(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Gp(i.config,o):`${i.config.apiScheme}://${o}`;return cI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function fI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),hI.get())})}}function Yc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Xn(i,e,s);return o.customData._tokenResponse=n,o}function qv(i){return i!==void 0&&i.enterprise!==void 0}class mI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pI(i,e){return ss(i,"GET","/v2/recaptchaConfig",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(i,e){return ss(i,"POST","/v1/accounts:delete",e)}async function wh(i,e){return ss(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yI(i,e=!1){const n=It(i),s=await n.getIdToken(e),o=Qp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(_m(o.auth_time)),issuedAtTime:Ql(_m(o.iat)),expirationTime:Ql(_m(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function _m(i){return Number(i)*1e3}function Qp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=wE(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Hv(i){const e=Qp(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof kn&&_I(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function _I({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(i){const e=i.auth,n=await i.getIdToken(),s=await su(i,wh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?T1(o.providerUserInfo):[],f=TI(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function EI(i){const e=It(i);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function T1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(i,e){const n=await v1(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await E1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&go(i.emulatorConfig.host)&&(p.credentials="include"),_1.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wI(i,e){return ss(i,"POST","/v2/accounts:revokeToken",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Hv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await bI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new vI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yI(this,e)}reload(){return EI(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await su(this,gI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:V,providerData:j,stsTokenManager:K}=n;_e(w&&K,e,"internal-error");const H=no.fromJSON(this.name,K);_e(typeof w=="string",e,"internal-error"),Pi(s,e.name),Pi(o,e.name),_e(typeof S=="boolean",e,"internal-error"),_e(typeof V=="boolean",e,"internal-error"),Pi(u,e.name),Pi(f,e.name),Pi(m,e.name),Pi(p,e.name),Pi(g,e.name),Pi(E,e.name);const ne=new Yn({uid:w,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:E});return j&&Array.isArray(j)&&(ne.providerData=j.map(te=>({...te}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?T1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new no;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;function Gr(i){Zr(i instanceof Function,"Expected a class definition");let e=Fv.get(i);return e?(Zr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Fv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b1.type="NONE";const Gv=b1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(i,e,n){return`firebase:${i}:${e}:${n}`}class ro{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ro(Gr(Gv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Gr(Gv);const f=ih(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const S=await wh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Yn._fromGetAccountInfoResponse(e,S,E)}else w=Yn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ro(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ro(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C1(e))return"Blackberry";if(I1(e))return"Webos";if(A1(e))return"Safari";if((e.includes("chrome/")||S1(e))&&!e.includes("edge/"))return"Chrome";if(x1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function w1(i=Wt()){return/firefox\//i.test(i)}function A1(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S1(i=Wt()){return/crios\//i.test(i)}function R1(i=Wt()){return/iemobile/i.test(i)}function x1(i=Wt()){return/android/i.test(i)}function C1(i=Wt()){return/blackberry/i.test(i)}function I1(i=Wt()){return/webos/i.test(i)}function Kp(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function AI(i=Wt()){return Kp(i)&&!!window.navigator?.standalone}function SI(){return vS()&&document.documentMode===10}function N1(i=Wt()){return Kp(i)||x1(i)||I1(i)||C1(i)||/windows phone/i.test(i)||R1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(i,e=[]){let n;switch(i){case"Browser":n=Qv(Wt());break;case"Worker":n=`${Qv(Wt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(i,e={}){return ss(i,"GET","/v2/passwordPolicy",is(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=6;class II{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new RI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Kr(this));const n=e?It(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xI(this),n=new II(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function as(i){return It(i)}class Kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=xS(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DI(i){$h=i}function O1(i){return $h.loadJS(i)}function OI(){return $h.recaptchaEnterpriseScript}function MI(){return $h.gapiScript}function kI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class VI{constructor(){this.enterprise=new PI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const LI="recaptcha-enterprise",M1="NO_RECAPTCHA";class UI{constructor(e){this.type=LI,this.auth=as(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{pI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new mI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;qv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(M1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&qv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=OI();p.length!==0&&(p+=m),O1(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Yv(i,e,n,s=!1,o=!1){const u=new UI(i);let f;if(o)f=M1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Km(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Yv(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Yv(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(i,e){const n=sp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,e??{}))return o;Vn(o,"already-initialized")}return n.initialize({options:e})}function zI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Gr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function BI(i,e,n){const s=as(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=k1(e),{host:f,port:m}=qI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e($s(g,s.config.emulator)&&$s(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,go(f)?(xE(`${u}//${f}${p}`),CE("Auth",!0)):HI()}function k1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function qI(i){const e=k1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:$v(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:$v(f)}}}function $v(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function HI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function FI(i,e){return ss(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(i,e){return Eu(i,"POST","/v1/accounts:signInWithPassword",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(i,e){return Eu(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}async function KI(i,e){return Eu(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Yp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,n,"signInWithPassword",GI);case"emailLink":return QI(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,s,"signUpPassword",FI);case"emailLink":return KI(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(i,e){return Eu(i,"POST","/v1/accounts:signInWithIdp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="http://localhost";class Js extends Yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,io(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:YI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XI(i){const e=Vl(Pl(i)).link,n=e?Vl(Pl(e)).deep_link_id:null,s=Vl(Pl(i)).deep_link_id;return(s?Vl(Pl(s)).link:null)||s||n||e||i}class $p{constructor(e){const n=Vl(Pl(e)),s=n.apiKey??null,o=n.oobCode??null,u=$I(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=XI(e);try{return new $p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=$p.parseLink(n);return _e(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Tu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Tu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Tu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ji.credential(n,s)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(i,e){return Eu(i,"POST","/v1/accounts:signUp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),f=Xv(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Xv(s);return new ea({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Xv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends kn{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Sh(e,n,s,o)}}function V1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(i,u,e,s):u})}async function ZI(i,e,n=!1){const s=await su(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ea._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(i,e,n=!1){const{auth:s}=i;if(_n(s.app))return Promise.reject(Kr(s));const o="reauthenticate";try{const u=await su(i,V1(s,o,e,i),n);_e(u.idToken,s,"internal-error");const f=Qp(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(i.uid===m,s,"user-mismatch"),ea._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Vn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(i,e,n=!1){if(_n(i.app))return Promise.reject(Kr(i));const s="signIn",o=await V1(i,s,e),u=await ea._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function eN(i,e){return P1(as(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(i){const e=as(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tN(i,e,n){if(_n(i.app))return Promise.reject(Kr(i));const s=as(i),f=await Km(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&L1(i),p}),m=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function nN(i,e,n){return _n(i.app)?Promise.reject(Kr(i)):eN(It(i),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&L1(i),s})}function rN(i,e,n,s){return It(i).onIdTokenChanged(e,n,s)}function iN(i,e,n){return It(i).beforeAuthStateChanged(e,n)}function sN(i,e,n,s){return It(i).onAuthStateChanged(e,n,s)}function aN(i){return It(i).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=1e3,lN=10;class j1 extends U1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);SI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j1.type="LOCAL";const uN=j1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends U1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z1.type="SESSION";const B1=z1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await cN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Wp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function fN(i){vr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function dN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mN(){return navigator?.serviceWorker?.controller||null}function pN(){return q1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebaseLocalStorageDb",gN=1,xh="firebaseLocalStorage",F1="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(i,e){return i.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function yN(){const i=indexedDB.deleteDatabase(H1);return new bu(i).toPromise()}function Ym(){const i=indexedDB.open(H1,gN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(xh,{keyPath:F1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await yN(),e(await Ym()))})})}async function Wv(i,e,n){const s=Wh(i,!0).put({[F1]:e,value:n});return new bu(s).toPromise()}async function _N(i,e){const n=Wh(i,!1).get(e),s=await new bu(n).toPromise();return s===void 0?null:s.value}function Zv(i,e){const n=Wh(i,!0).delete(e);return new bu(n).toPromise()}const vN=800,EN=3;class G1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>EN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(pN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dN(),!this.activeServiceWorker)return;this.sender=new hN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await Wv(e,Rh,"1"),await Zv(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Wv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_N(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G1.type="LOCAL";const TN=G1;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(i,e){return e?Gr(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends Yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bN(i){return P1(i.auth,new Zp(i),i.bypassAuthState)}function wN(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),JI(n,new Zp(i),i.bypassAuthState)}async function AN(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),ZI(n,new Zp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bN;case"linkViaPopup":case"linkViaRedirect":return AN;case"reauthViaPopup":case"reauthViaRedirect":return wN;default:Vn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new vu(2e3,1e4);async function RN(i,e,n){if(_n(i.app))return Promise.reject(Xn(i,"operation-not-supported-in-this-environment"));const s=as(i);sI(i,e,Xp);const o=Q1(s,n);return new Qs(s,"signInViaPopup",e,o).executeNotNull()}class Qs extends K1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SN.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="pendingRedirect",sh=new Map;class CN extends K1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await IN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IN(i,e){const n=ON(e),s=DN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function NN(i,e){sh.set(i._key(),e)}function DN(i){return Gr(i._redirectPersistence)}function ON(i){return ih(xN,i.config.apiKey,i.name)}async function MN(i,e,n=!1){if(_n(i.app))return Promise.reject(Kr(i));const s=as(i),o=Q1(s,e),f=await new CN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=600*1e3;class VN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Y1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Y1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function PN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(i,e={}){return ss(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jN=/^https?/;async function zN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await LN(i);for(const n of e)try{if(BN(n))return}catch{}Vn(i,"unauthorized-domain")}function BN(i){const e=Gm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!jN.test(n))return!1;if(UN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new vu(3e4,6e4);function eE(){const i=vr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function HN(i){return new Promise((e,n)=>{function s(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),n(Xn(i,"network-request-failed"))},timeout:qN.get()})}if(vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vr().gapi?.load)s();else{const o=kI("iframefcb");return vr()[o]=()=>{gapi.load?s():n(Xn(i,"network-request-failed"))},O1(`${MI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function FN(i){return ah=ah||HN(i),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new vu(5e3,15e3),QN="__/auth/iframe",KN="emulator/auth/iframe",YN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XN(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Gp(e,KN):`https://${i.config.authDomain}/${QN}`,s={apiKey:e.apiKey,appName:i.name,v:yo},o=$N.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function WN(i){const e=await FN(i),n=vr().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:XN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Xn(i,"network-request-failed"),m=vr().setTimeout(()=>{u(f)},GN.get());function p(){vr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JN=500,e4=600,t4="_blank",n4="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r4(i,e,n,s=JN,o=e4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...ZN,width:s.toString(),height:o.toString(),top:u,left:f},g=Wt().toLowerCase();n&&(m=S1(g)?t4:n),w1(g)&&(e=e||n4,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[V,j])=>`${S}${V}=${j},`,"");if(AI(g)&&m!=="_self")return i4(e||"",m),new tE(null);const w=window.open(e||"",m,E);_e(w,i,"popup-blocked");try{w.focus()}catch{}return new tE(w)}function i4(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="__/auth/handler",a4="emulator/auth/handler",o4=encodeURIComponent("fac");async function nE(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(e instanceof Xp){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",RS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Tu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${o4}=${encodeURIComponent(p)}`:"";return`${l4(i)}?${fu(m).slice(1)}${g}`}function l4({config:i}){return i.emulator?Gp(i,a4):`https://${i.authDomain}/${s4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class u4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B1,this._completeRedirectFn=MN,this._overrideRedirectResult=NN}async _openPopup(e,n,s,o){Zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await nE(e,n,s,Gm(),o);return r4(e,u,Wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await nE(e,n,s,Gm(),o);return fN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await WN(e),s=new VN(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},o=>{const u=o?.[0]?.[vm];u!==void 0&&n(!!u),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N1()||A1()||Kp()}}const c4=u4;var rE="@firebase/auth",iE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d4(i){so(new Xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D1(i)},g=new NI(s,o,u,p);return zI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),so(new Xs("auth-internal",e=>{const n=as(e.getProvider("auth").getImmediate());return(s=>new h4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(rE,iE,f4(i)),Fi(rE,iE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=300,p4=RE("authIdTokenMaxAge")||m4;let sE=null;const g4=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>p4)return;const o=n?.token;sE!==o&&(sE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function y4(i=OE()){const e=sp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=jI(i,{popupRedirectResolver:c4,persistence:[TN,uN,B1]}),s=RE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=g4(u.toString());iN(n,f,()=>f(n.currentUser)),rN(n,m=>f(m))}}const o=AE("auth");return o&&BI(n,`http://${o}`),n}function _4(){return document.getElementsByTagName("head")?.[0]??document}DI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Xn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",_4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d4("Browser");const v4={apiKey:"AIzaSyAZMh2Q_QBKb6y6RJFPkYZOz_ntJYKqgrQ",authDomain:"idea-board-c0239.firebaseapp.com",databaseURL:"https://idea-board-c0239-default-rtdb.firebaseio.com",projectId:"idea-board-c0239",storageBucket:"idea-board-c0239.firebasestorage.app",messagingSenderId:"560114265833",appId:"1:560114265833:web:d5c01ff5a75b0ba2d80a78"},$1=DE(v4),Bi=BC($1),Ml=y4($1),Zh=i=>{const[e,n]=P.useState([]);return P.useEffect(()=>{if(!i){n([]);return}try{const f=vh(Bi,"users",i,"notes"),m=l1(f,u1("createdAt","desc")),p=p1(m,g=>{const E=g.docs.map(w=>{const S=w.data();return{id:w.id,title:S.title,content:S.content,color:S.color,createdAt:S.createdAt,updatedAt:S.updatedAt}});n(E)},g=>{console.error("Error loading notes:",g)});return()=>p()}catch(f){console.error("Firebase configuration error:",f)}},[i]),{notes:e,addNote:async(f,m,p)=>{if(!i)throw new Error("User must be logged in to add notes");try{const g=vh(Bi,"users",i,"notes");await m1(g,{title:f,content:m,color:p,createdAt:Th(),updatedAt:null})}catch(g){throw console.error("Error adding note:",g),new Error("Failed to add note: "+g.message)}},editNote:async(f,m,p,g)=>{if(!i)throw new Error("User must be logged in to update notes");try{const E=iu(Bi,"users",i,"notes",f);await f1(E,{title:m,content:p,color:g,updatedAt:Th()})}catch(E){throw console.error("Error updating note:",E),new Error("Failed to update note: "+E.message)}},deleteNote:async f=>{if(!i)throw new Error("User must be logged in to delete notes");try{const m=iu(Bi,"users",i,"notes",f);await d1(m)}catch(m){throw console.error("Error deleting note:",m),new Error("Failed to delete note: "+m.message)}}}},Jh=()=>{const[i,e]=P.useState([]),{user:n}=Tr(),s=P.useMemo(()=>n?.uid,[n?.uid]);return P.useEffect(()=>{if(!s){e([]);return}try{const m=vh(Bi,"users",s,"tasks"),p=l1(m,u1("createdAt","desc")),g=p1(p,E=>{const w=E.docs.map(S=>{const V=S.data();return{id:S.id,title:V.title,description:V.description,status:V.status,priority:V.priority,createdAt:V.createdAt,updatedAt:V.updatedAt}});e(w)},E=>{console.error("Error loading tasks:",E)});return()=>g()}catch(m){console.error("Firebase configuration error:",m)}},[s]),{tasks:i,addTask:async(m,p,g)=>{if(!s)throw new Error("User must be logged in to add notes");try{const E=vh(Bi,"users",s,"tasks");await m1(E,{title:m,description:p,status:"open",priority:g,createdAt:Th(),updatedAt:null})}catch(E){throw console.error("Error adding note:",E),new Error("Failed to add note: "+E.message)}},editTask:async(m,p,g,E,w)=>{if(!s)throw new Error("User must be logged in to update notes");try{const S=iu(Bi,"users",s,"tasks",m);await f1(S,{title:p,description:g,status:E,priority:w,updatedAt:Th()})}catch(S){throw console.error("Error updating task:",S),new Error("Failed to update task: "+S.message)}},deleteTask:async m=>{if(!s)throw new Error("User must be logged in to delete tasks");try{const p=iu(Bi,"users",s,"tasks",m);await d1(p)}catch(p){throw console.error("Error deleting task:",p),new Error("Failed to delete task: "+p.message)}}}},E4=({onClick:i})=>T.jsx("button",{onClick:i,className:"cursor-pointer lg:hidden",children:T.jsxs("svg",{width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M4 18L20 18",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),T.jsx("path",{d:"M4 12L20 12",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),T.jsx("path",{d:"M4 6L20 6",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"})]})}),X1=P.createContext(void 0),Jp=()=>{const i=P.useContext(X1);if(i===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return i},ou=({children:i,title:e,className:n,fullscreenMobile:s=!1})=>{const{openSidebar:o}=Jp();return T.jsxs("div",{className:`flex flex-col gap-6 ${s?"p-0 sm:p-6 lg:ml-0 sm:lg:ml-64":"p-6 lg:ml-64"} ${n}`,children:[T.jsxs("div",{className:`flex items-center gap-3 ${s?"px-4 pt-4 sm:px-0 sm:pt-0":""}`,children:[T.jsx(E4,{onClick:o}),T.jsx("h1",{className:"text-3xl font-bold",children:e})]}),i]})};function T4(){const{user:i}=Tr(),{notes:e}=Zh(i?.uid||null),{tasks:n}=Jh(),s=P.useMemo(()=>`${e.length} ${e.length===1?"nota":"note"}`,[e]),o=P.useMemo(()=>`${n.length} ${n.length===1?"task":"tasks"}`,[n]);return T.jsx(ou,{title:"Dashboard",children:T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg",children:T.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[T.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-6",children:T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:T.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Benvenuto!"}),T.jsx("p",{className:"text-gray-600",children:"Sei autenticato correttamente"})]})]})}),T.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[T.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4",children:T.jsx("h3",{className:"text-lg font-semibold text-white",children:"Informazioni Account"})}),T.jsxs("div",{className:"p-6 space-y-4",children:[T.jsxs("div",{className:"flex items-start space-x-3",children:[T.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),T.jsx("p",{className:"text-base text-gray-900",children:i?.email})]})]}),T.jsxs("div",{className:"flex items-start space-x-3",children:[T.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-gray-500",children:"User ID"}),T.jsx("p",{className:"text-base text-gray-900 font-mono text-sm",children:i?.uid})]})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[T.jsx(Yl,{className:"bg-white rounded-xl shadow-md p-6",to:"/sticky-wall",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-lg p-3",children:T.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),T.jsxs("div",{className:"ml-4",children:[T.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Sticky Wall"}),T.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s})]})]})}),T.jsx(Yl,{className:"bg-white rounded-xl shadow-md p-6",to:"/task-list",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-lg p-3",children:T.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),T.jsxs("div",{className:"ml-4",children:[T.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Task List"}),T.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o})]})]})})]})]})})})})}const b4=({onClick:i})=>T.jsx("button",{onClick:i,className:"cursor-pointer p-1 hover:bg-gray-100 rounded lg:hidden",children:T.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:T.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),w4=()=>{const{isSidebarOpen:i,closeSidebar:e}=Jp(),n=[{title:"Sticky Wall",path:"/sticky-wall"},{title:"Task List",path:"/task-list"}],{logout:s}=Tr(),o=ts(),u=P.useCallback(async()=>{try{await s(),o("/login")}catch(f){console.error("Error during logout:",f)}},[s,o]);return T.jsxs("div",{className:`
        fixed top-0 left-0 h-screen bg-white shadow-2xl z-50
        transform transition-transform duration-300 ease-in-out
        w-80 lg:w-64 flex flex-col justify-between
        ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("div",{className:"flex items-center justify-between p-4",children:[T.jsx("h2",{className:"text-xl font-semibold",children:"Idea Board"}),T.jsx(b4,{onClick:e})]}),T.jsx("nav",{className:"px-4",children:T.jsxs("ul",{className:"space-y-3",children:[T.jsx(Yl,{to:"/dashboard",className:({isActive:f})=>`block px-4 py-2 rounded transition-colors ${f?"bg-gray-100":"text-gray-700 hover:bg-gray-100"}`,onClick:e,children:"Dashboard"},0),T.jsx("hr",{className:"text-gray-300"}),n.map((f,m)=>T.jsx(Yl,{to:f.path,className:({isActive:p})=>`block px-4 py-2 rounded transition-colors ${p?"bg-gray-100":"text-gray-700 hover:bg-gray-100"}`,onClick:e,children:f.title},m))]})})]}),T.jsx("button",{onClick:u,className:"cursor-pointer px-4 py-3 m-4 text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200",children:"Logout"})]})},lu={yellow:"bg-yellow-100",rose:"bg-rose-100",sky:"bg-sky-100",emerald:"bg-emerald-100",violet:"bg-violet-100",amber:"bg-amber-100"},A4=({isModalOpen:i,setIsModalOpen:e})=>{const[n,s]=P.useState(""),[o,u]=P.useState(""),[f,m]=P.useState("yellow"),{user:p}=Tr(),{addNote:g}=Zh(p?.uid||null),E=P.useCallback(()=>{e(!1),s(""),u(""),m("yellow"),document.body.style.overflow="unset"},[e]),w=P.useCallback(()=>{g(n,o,f),E()},[g,E,f,o,n]);if(i)return T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:S=>S.target===S.currentTarget&&E(),children:T.jsxs("div",{className:`${lu[f]} rounded-lg shadow-2xl w-full max-w-lg sm:max-w-xl lg:max-w-2xl min-h-96 max-h-[90vh] sm:max-h-[80vh] overflow-hidden flex flex-col p-4 gap-4`,children:[T.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[T.jsx("input",{type:"text",value:n,onChange:S=>s(S.target.value),className:"flex-1 font-bold text-gray-800 bg-white/50 px-3 py-2 rounded-lg border-2 border-gray-300 focus:border-blue-500 focus:outline-none mr-4",placeholder:"Inserisci il titolo..."}),T.jsx("button",{onClick:E,className:"w-8 h-8 rounded-full text-gray-500 text-xl cursor-pointer",children:""})]}),T.jsx("div",{className:"overflow-y-auto",children:T.jsx("textarea",{value:o,onChange:S=>u(S.target.value),rows:4,className:"w-full h-full min-h-[200px] text-gray-700 bg-white/50 p-3 rounded-lg border-2 border-gray-300 focus:border-blue-500 focus:outline-none resize-none",placeholder:"Scrivi il contenuto della nota..."})}),T.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[T.jsx("div",{className:"flex gap-3",children:Object.entries(lu).map(([S,V])=>T.jsx("button",{onClick:()=>m(S),className:`w-8 h-8 rounded-full ${V} border-2 transition-transform hover:scale-110 ${f===S?"border-slate-800 scale-110":"border-slate-300"}`},S))}),T.jsxs("div",{className:"flex justify-end gap-4",children:[T.jsx("button",{onClick:E,className:"cursor-pointer px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Annulla"}),T.jsx("button",{onClick:w,disabled:!n.trim()&&!o.trim(),className:"cursor-pointer px-6 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Salva Nota"})]})]})]})})},S4=()=>{const[i,e]=P.useState(!1),n=P.useCallback(()=>{e(!0),document.body.style.overflow="hidden"},[]);return T.jsxs(T.Fragment,{children:[T.jsx(A4,{isModalOpen:i,setIsModalOpen:e}),T.jsx("div",{onClick:n,className:`\r
          bg-white border-2 border-dashed border-gray-300 \r
          hover:border-gray-400 hover:bg-gray-50\r
          rounded-md shadow-md sm:aspect-square\r
          flex items-center justify-center\r
          cursor-pointer transition-colors duration-200 pt-2 pb-6\r
        `,children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-4xl text-gray-400 mb-2",children:"+"}),T.jsx("p",{className:"text-gray-500 font-medium",children:"Aggiungi nuova nota"})]})})]})},R4=({item:i,closeNote:e})=>{const[n,s]=P.useState(!1),[o,u]=P.useState(i.title),[f,m]=P.useState(i.content),[p,g]=P.useState(i.color),{user:E}=Tr(),{editNote:w,deleteNote:S}=Zh(E?.uid||null),V=P.useCallback(()=>{s(!1),u(i.title),m(i.content),g(i.color)},[i]),j=P.useCallback(()=>{w(i.id,o,f,p),e()},[i.id,o,f,p,w,e]),K=P.useCallback(()=>{S(i.id),e()},[S,e,i.id]);return T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:H=>H.target===H.currentTarget&&e(),children:T.jsxs("div",{onDoubleClick:()=>s(!0),className:`${lu[p]} rounded-lg shadow-2xl h-full w-full max-w-lg sm:max-w-xl lg:max-w-2xl min-h-96 max-h-[90vh] sm:max-h-[80vh] overflow-hidden flex flex-col ${n?"p-4":"p-8"} gap-4`,children:[T.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[n?T.jsx("input",{type:"text",value:o,onChange:H=>u(H.target.value),className:"flex-1 font-bold text-gray-800 bg-white/50 px-3 py-2 rounded-lg border-2 border-gray-300 focus:border-blue-500 focus:outline-none mr-4",placeholder:"Titolo..."}):T.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 truncate pr-4",children:i.title}),T.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full text-gray-500 text-xl cursor-pointer",children:""})]}),T.jsx("div",{className:"overflow-y-auto h-full",children:n?T.jsx("textarea",{value:f,onChange:H=>m(H.target.value),className:"w-full h-full min-h-[200px] text-gray-700 bg-white/50 p-3 rounded-lg border-2 border-gray-300 focus:border-blue-500 focus:outline-none resize-none",placeholder:"Contenuto..."}):T.jsx("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:i.content})}),T.jsxs("div",{className:`flex flex-col md:flex-row ${n?"justify-between":"justify-end"} md:items-center gap-4`,children:[n&&T.jsx("div",{className:"flex gap-3",children:Object.entries(lu).map(([H,ne])=>T.jsx("button",{onClick:()=>g(H),className:`w-8 h-8 rounded-full ${ne} border-2 transition-transform hover:scale-110 ${p===H?"border-slate-800 scale-110":"border-slate-300"}`},H))}),T.jsx("div",{className:"flex justify-end gap-4",children:n?T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:V,className:"cursor-pointer px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Annulla"}),T.jsx("button",{onClick:j,className:"cursor-pointer px-6 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Aggiorna"})]}):T.jsx("button",{onClick:K,className:"cursor-pointer px-6 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition-colors",children:"Delete"})})]})]})})},x4=()=>{const[i,e]=P.useState(null),{user:n}=Tr(),{notes:s}=Zh(n?.uid||null),o=P.useCallback(f=>{e(f),document.body.style.overflow="hidden"},[]),u=P.useCallback(()=>{e(null),document.body.style.overflow="unset"},[]);return T.jsxs(ou,{title:"Sticky Wall",children:[T.jsx("div",{className:"flex",children:T.jsx("main",{className:"flex-1",children:T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:[T.jsx(S4,{}),s.map(f=>T.jsxs("div",{onClick:()=>o(f),className:`${lu[f.color]} p-4 rounded-md shadow-md cursor-pointer min-h-[10rem] sm:aspect-square`,children:[T.jsx("h3",{className:"text-lg font-semibold mb-2 truncate",children:f.title}),T.jsx("div",{className:"text-sm text-gray-700 line-clamp-7 whitespace-pre-wrap",children:f.content})]},f.id))]})})}),i&&T.jsx(R4,{item:i,closeNote:u})]})},Ch=i=>{switch(i.toLowerCase().trim()){case"done":case"completato":return"bg-green-100 text-green-700 border-green-200";case"in progress":case"in corso":return"bg-orange-100 text-orange-700 border-orange-200";case"open":case"aperto":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-blue-100 text-blue-700 border-blue-200"}},C4=i=>{switch((i||"media").toLowerCase().trim()){case"bassa":return{color:"text-green-600 bg-white border-green-300",icon:"",label:"Bassa"};case"alta":return{color:"text-red-600 bg-white border-red-300",icon:"",label:"Alta"};case"media":default:return{color:"text-yellow-600 bg-white border-yellow-300",icon:"",label:"Media"}}},I4=(i,e="short")=>{if(!i)return"Data non disponibile";const n=i.toDate(),o=new Date().getTime()-n.getTime(),u=Math.floor(o/(1e3*60*60*24));if(e==="relative"){const f=Math.floor(o/6e4),m=Math.floor(o/(1e3*60*60));if(f<1)return"Adesso";if(f<60)return`${f} ${f===1?"minuto":"minuti"} fa`;if(m<24)return`${m} ${m===1?"ora":"ore"} fa`;if(u===0)return"Oggi";if(u===1)return"Ieri";if(u<7)return`${u} giorni fa`;if(u<30){const g=Math.floor(u/7);return`${g} ${g===1?"settimana":"settimane"} fa`}if(u<365){const g=Math.floor(u/30);return`${g} ${g===1?"mese":"mesi"} fa`}const p=Math.floor(u/365);return`${p} ${p===1?"anno":"anni"} fa`}if(e==="short"){const f=n.getDate(),m=n.toLocaleDateString("it-IT",{month:"short"}),p=n.getFullYear();return`${f} ${m.charAt(0).toUpperCase()+m.slice(1)} ${p}`}return e==="full"?n.toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString("it-IT")},N4=()=>{const{taskId:i}=uA(),e=ts(),{tasks:n,editTask:s,deleteTask:o}=Jh(),[u,f]=P.useState(null),[m,p]=P.useState(!1),[g,E]=P.useState(""),[w,S]=P.useState(""),[V,j]=P.useState("open"),[K,H]=P.useState("media"),[ne,te]=P.useState(!1);P.useEffect(()=>{const R=n.find(x=>x.id===i);R&&(f(R),E(R.title),S(R.description),j(R.status),H(R.priority))},[i,n]);const ie=P.useCallback(()=>{e("/task-list")},[e]),Se=P.useCallback(()=>{p(!0)},[]),he=P.useCallback(()=>{u&&(E(u.title),S(u.description),j(u.status),H(u.priority)),p(!1)},[u]),xe=P.useCallback(async()=>{if(u&&g.trim())try{await s(u.id,g,w,V,K),p(!1)}catch(R){console.error("Error updating task:",R)}},[u,g,w,V,K,s]),D=P.useCallback(async()=>{if(ne&&u)try{await o(u.id),e("/task-list")}catch(R){console.error("Error deleting task:",R)}else te(!0),setTimeout(()=>te(!1),3e3)},[ne,u,o,e]);return u?T.jsx(ou,{title:"Dettaglio Task",className:"lg:w-2/3",fullscreenMobile:!0,children:T.jsxs("div",{className:"bg-white sm:rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[T.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6",children:[T.jsxs("div",{className:"hidden sm:flex items-center justify-between mb-4",children:[T.jsxs("button",{onClick:ie,className:"flex items-center gap-2 text-white hover:bg-white/10 px-3 py-2 rounded-lg transition-colors cursor-pointer",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),T.jsx("span",{children:"Indietro"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[m?null:T.jsxs("button",{onClick:Se,className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition-colors cursor-pointer",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),T.jsx("span",{children:"Modifica"})]}),T.jsxs("button",{onClick:D,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors cursor-pointer ${ne?"bg-red-600 hover:bg-red-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),T.jsx("span",{children:ne?"Conferma":"Elimina"})]})]})]}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:ie,className:"sm:hidden flex items-center justify-center w-10 h-10 text-white hover:bg-white/10 rounded-lg transition-colors cursor-pointer flex-shrink-0",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),T.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm flex-shrink-0",children:T.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),T.jsxs("div",{children:[T.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Dettagli Attivit"}),T.jsx("div",{className:"flex items-center gap-2 mt-1",children:m?T.jsxs(T.Fragment,{children:[T.jsxs("select",{value:K,onChange:R=>H(R.target.value),className:`px-2 py-0.5 text-xs font-medium rounded-full border backdrop-blur-sm cursor-pointer ${K==="bassa"?"bg-green-100 text-green-700 border-green-200":K==="alta"?"bg-red-100 text-red-700 border-red-200":"bg-yellow-100 text-yellow-700 border-yellow-200"}`,children:[T.jsx("option",{value:"bassa",children:" Bassa"}),T.jsx("option",{value:"media",children:" Media"}),T.jsx("option",{value:"alta",children:" Alta"})]}),T.jsxs("select",{value:V,onChange:R=>j(R.target.value),className:`px-2 py-0.5 text-xs font-medium rounded-full border backdrop-blur-sm cursor-pointer ${Ch(V)}`,children:[T.jsx("option",{value:"open",children:"Aperto"}),T.jsx("option",{value:"in-progress",children:"In Corso"}),T.jsx("option",{value:"done",children:"Fatto"})]})]}):T.jsxs(T.Fragment,{children:[T.jsx("span",{className:`px-2 py-0.5 ${K==="bassa"?"bg-green-100 text-green-700 border-green-200":K==="alta"?"bg-red-100 text-red-700 border-red-200":"bg-yellow-100 text-yellow-700 border-yellow-200"} backdrop-blur-sm rounded-full text-xs font-medium border flex items-center gap-1`,children:T.jsx("span",{className:"font-bold",children:K==="bassa"?"":K==="alta"?"":""})}),T.jsx("span",{className:`px-2 py-0.5 ${Ch(u.status)} backdrop-blur-sm rounded-full text-xs font-medium`,children:u.status})]})})]})]}),T.jsxs("div",{className:"flex sm:hidden items-center gap-2",children:[m?null:T.jsx("button",{onClick:Se,className:"flex items-center justify-center w-10 h-10 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors cursor-pointer",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),T.jsx("button",{onClick:D,className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer ${ne?"bg-red-600 hover:bg-red-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]}),T.jsx("div",{className:"p-6 flex-1 overflow-y-auto bg-white",children:T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"group",children:[T.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[T.jsx("div",{className:"w-5 h-5 bg-indigo-100 rounded-lg flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:T.jsx("svg",{className:"w-3 h-3 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),"Titolo",T.jsx("span",{className:"text-red-500",children:"*"})]}),m?T.jsx("input",{type:"text",value:g,onChange:R=>E(R.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:bg-white transition-all duration-200 text-gray-800 font-medium",placeholder:"Nome attivit"}):T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:u.title})]}),T.jsxs("div",{className:"group",children:[T.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[T.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:T.jsx("svg",{className:"w-3 h-3 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),"Descrizione"]}),m?T.jsx("textarea",{value:w,onChange:R=>S(R.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl resize-none outline-none focus:border-indigo-500 focus:bg-white transition-all duration-200 text-gray-700",rows:5,placeholder:"Aggiungi una descrizione dettagliata..."}):T.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:u.description||"Nessuna descrizione disponibile"})]})]})}),T.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex-shrink-0",children:T.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("span",{children:I4(u.createdAt)})]}),m&&T.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[T.jsx("button",{onClick:he,className:"flex-1 sm:flex-none px-6 py-2.5 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition-colors cursor-pointer",children:"Annulla"}),T.jsx("button",{onClick:xe,disabled:!g.trim(),className:"flex-1 sm:flex-none px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-600 hover:to-purple-700 shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",children:"Aggiorna"})]})]})})]})}):T.jsx(ou,{title:"Task non trovato",className:"lg:w-2/3",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Task non trovato"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Il task che stai cercando non esiste o  stato eliminato."}),T.jsx("button",{onClick:ie,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors cursor-pointer",children:"Torna alla lista"})]})})};function D4(i,e){const[n,s]=P.useState(()=>{try{const u=localStorage.getItem(i);return u?JSON.parse(u):e}catch(u){return console.error(`Error loading ${i} from localStorage:`,u),e}});return[n,u=>{try{const f=u instanceof Function?u(n):u;s(f),localStorage.setItem(i,JSON.stringify(f))}catch(f){console.error(`Error saving ${i} to localStorage:`,f)}}]}const aE={sortBy:"date-desc",filterPriority:"all",filterStatus:"all"};function O4(i){const[e,n]=D4("taskListFilters",aE),s=p=>{n(g=>({...g,sortBy:p}))},o=p=>{n(g=>({...g,filterPriority:p}))},u=p=>{n(g=>({...g,filterStatus:p}))},f=()=>{n(aE)},m=P.useMemo(()=>{let p=[...i];return e.filterPriority!=="all"&&(p=p.filter(g=>g.priority===e.filterPriority)),e.filterStatus!=="all"&&(p=p.filter(g=>g.status===e.filterStatus)),p.sort((g,E)=>{switch(e.sortBy){case"date-desc":{const w=g.createdAt?.toMillis()??0;return(E.createdAt?.toMillis()??0)-w}case"date-asc":{const w=g.createdAt?.toMillis()??0,S=E.createdAt?.toMillis()??0;return w-S}case"priority":{const w={alta:0,media:1,bassa:2};return w[g.priority]-w[E.priority]}case"status":{const w={open:0,"in-progress":1,done:2};return w[g.status]-w[E.status]}default:return 0}}),p},[i,e]);return{sortBy:e.sortBy,filterPriority:e.filterPriority,filterStatus:e.filterStatus,setSortBy:s,setFilterPriority:o,setFilterStatus:u,resetFilters:f,filteredAndSortedTasks:m}}const M4=({task:i})=>{const[e,n]=P.useState(!1),s=ts(),{deleteTask:o}=Jh(),u=C4(i.priority),f=P.useCallback(()=>{s(`/task/${i.id}`)},[s,i.id]),m=P.useCallback(async p=>{if(p.stopPropagation(),e)try{await o(i.id)}catch(g){console.error("Error deleting task:",g)}else n(!0),setTimeout(()=>n(!1),3e3)},[o,i.id,e]);return T.jsx(T.Fragment,{children:T.jsxs("div",{onClick:f,className:"group bg-white border border-gray-200 hover:border-indigo-300 rounded-xl p-3 sm:p-4 hover:shadow-lg transition-all duration-300 cursor-pointer",children:[T.jsxs("div",{className:"sm:hidden",children:[T.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[T.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[T.jsx("div",{className:`w-6 h-6 rounded-lg border flex items-center justify-center flex-shrink-0 font-semibold text-xs ${u.color}`,title:`Priorit ${u.label}`,children:u.icon}),T.jsx("h3",{className:"text-sm font-semibold text-gray-800 group-hover:text-indigo-700 transition-colors duration-300 line-clamp-2 flex-1",children:i.title})]}),T.jsx("button",{onClick:m,className:`p-1 rounded-lg transition-all duration-200 cursor-pointer flex-shrink-0 ${e?"bg-red-500 text-white hover:bg-red-600":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:e?"Clicca per confermare":"Elimina task",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),i.description&&T.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed mb-2 ml-8",children:i.description}),T.jsx("div",{className:"flex items-center justify-end gap-2 ml-8",children:T.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full border ${Ch(i.status)}`,children:i.status})})]}),T.jsxs("div",{className:"hidden sm:flex gap-4 items-start",children:[T.jsx("div",{className:`w-7 h-7 rounded-lg border flex items-center justify-center flex-shrink-0 font-semibold text-sm ${u.color}`,title:`Priorit ${u.label}`,children:u.icon}),T.jsxs("div",{className:"flex flex-col gap-2 flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-start justify-between gap-3",children:[T.jsx("h3",{className:"text-base font-semibold text-gray-800 group-hover:text-indigo-700 transition-colors duration-300",children:i.title}),T.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[T.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-full border ${Ch(i.status)}`,children:i.status}),T.jsx("button",{onClick:m,className:`p-1.5 rounded-lg transition-all duration-200 cursor-pointer ${e?"bg-red-500 text-white hover:bg-red-600":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:e?"Clicca per confermare":"Elimina task",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),T.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:i.description})]}),T.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-500 transition-all duration-300 group-hover:translate-x-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})},k4=()=>{const{tasks:i}=Jh(),e=ts(),{sortBy:n,filterPriority:s,filterStatus:o,setSortBy:u,setFilterPriority:f,setFilterStatus:m,resetFilters:p,filteredAndSortedTasks:g}=O4(i),E=P.useCallback(()=>{e("/task/create")},[e]),w={all:"Tutte",alta:"Alta",media:"Media",bassa:"Bassa"},S={all:"Tutti",open:"Aperto","in-progress":"In Corso",done:"Fatto"},V={"date-desc":"Pi recenti","date-asc":"Meno recenti",priority:"Priorit",status:"Stato"};return T.jsxs(ou,{title:"Task List",className:"lg:w-2/3",children:[T.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-200 space-y-4",children:[T.jsxs("div",{className:"flex items-center gap-2 pb-3 border-b border-gray-200",children:[T.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:T.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),T.jsx("h3",{className:"font-semibold text-gray-800",children:"Filtra e Ordina"})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Priorit"}),T.jsx("select",{value:s,onChange:j=>f(j.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["all","alta","media","bassa"].map(j=>T.jsx("option",{value:j,children:w[j]},j))})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Stato"}),T.jsx("select",{value:o,onChange:j=>m(j.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["all","open","in-progress","done"].map(j=>T.jsx("option",{value:j,children:S[j]},j))})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Ordina per"}),T.jsx("select",{value:n,onChange:j=>u(j.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["date-desc","date-asc","priority","status"].map(j=>T.jsx("option",{value:j,children:V[j]},j))})]})]}),(s!=="all"||o!=="all")&&T.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-2 border-t border-gray-200",children:[T.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Filtri attivi:"}),s!=="all"&&T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium",children:["Priorit: ",w[s],T.jsx("button",{onClick:()=>f("all"),className:"hover:bg-indigo-200 rounded-full p-0.5 cursor-pointer",children:T.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),o!=="all"&&T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:["Stato: ",S[o],T.jsx("button",{onClick:()=>m("all"),className:"hover:bg-purple-200 rounded-full p-0.5 cursor-pointer",children:T.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),T.jsx("button",{onClick:p,className:"text-xs text-gray-500 hover:text-gray-700 underline cursor-pointer ml-auto",children:"Rimuovi tutti"})]})]}),T.jsx("div",{onClick:E,className:"border-2 border-dashed border-gray-300 hover:border-indigo-400 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-purple-50 rounded-xl p-6 cursor-pointer transition-all duration-300 group",children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100 group-hover:from-indigo-200 group-hover:to-purple-200 flex items-center justify-center transition-all duration-300 group-hover:scale-110",children:T.jsx("svg",{className:"w-6 h-6 text-indigo-600 group-hover:text-indigo-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-indigo-700 transition-colors duration-300",children:"Aggiungi nuova attivit"}),T.jsx("p",{className:"text-sm text-gray-500 group-hover:text-gray-600 transition-colors duration-300",children:"Clicca per creare un nuovo task"})]}),T.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-500 transition-all duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),T.jsx("div",{className:"flex flex-col gap-4",children:g.length>0?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-sm text-gray-600 px-2",children:[g.length," ",g.length===1?"task trovato":"tasks trovati",(s!=="all"||o!=="all")&&T.jsxs("span",{className:"ml-1",children:["(",i.length," totali)"]})]}),g.map(j=>T.jsx(M4,{task:j},j.id))]}):i.length===0?T.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[T.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),T.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Nessun task presente"}),T.jsx("p",{className:"text-gray-500",children:"Inizia creando il tuo primo task!"})]}):T.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[T.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),T.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Nessun task trovato"}),T.jsx("p",{className:"text-gray-500 mb-4",children:"Prova a modificare i filtri di ricerca"}),T.jsx("button",{onClick:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer text-sm font-medium",children:"Rimuovi filtri"})]})})]})},V4=()=>{const{isSidebarOpen:i,closeSidebar:e}=Jp(),{user:n}=Tr(),[s,o]=P.useState(!1);return P.useEffect(()=>{const u=setTimeout(()=>{o(!0)},100);return()=>clearTimeout(u)},[]),s?n?T.jsxs("div",{className:"flex h-screen",children:[i&&T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:e}),T.jsx(w4,{}),T.jsx("div",{className:"flex-1",children:T.jsxs(R0,{children:[T.jsx(Kn,{path:"/",element:T.jsx(kl,{to:"/dashboard",replace:!0})}),T.jsx(Kn,{path:"/sticky-wall",element:T.jsx(x4,{})}),T.jsx(Kn,{path:"/task-list",element:T.jsx(k4,{})}),T.jsx(Kn,{path:"/task/:taskId",element:T.jsx(j0,{children:T.jsx(N4,{})})}),T.jsx(Kn,{path:"/dashboard",element:T.jsx(j0,{children:T.jsx(T4,{})})}),T.jsx(Kn,{path:"*",element:T.jsx(kl,{to:"/dashboard",replace:!0})})]})})]}):T.jsxs(R0,{children:[T.jsx(Kn,{path:"/",element:T.jsx(kl,{to:"/login",replace:!0})}),T.jsx(Kn,{path:"/login",element:T.jsx(z2,{})}),T.jsx(Kn,{path:"/signup",element:T.jsx(B2,{})}),T.jsx(Kn,{path:"*",element:T.jsx(kl,{to:"/login",replace:!0})})]}):T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-purple-50",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mb-4"}),T.jsx("p",{className:"text-gray-600",children:"Caricamento..."})]})})},P4=({children:i})=>{const[e,n]=P.useState(null),[s,o]=P.useState(!0),u=async(E,w)=>{await tN(Ml,E,w)},f=async(E,w)=>{await nN(Ml,E,w)},m=async()=>{const E=new Hr;await RN(Ml,E)},p=async()=>{await aN(Ml)};P.useEffect(()=>sN(Ml,w=>{n(w),o(!1)}),[]);const g={user:e,signup:u,login:f,loginWithGoogle:m,logout:p};return T.jsx(VE.Provider,{value:g,children:!s&&i})},L4=({children:i})=>{const[e,n]=P.useState(!1),s=P.useCallback(()=>{n(!0),document.body.style.overflow="hidden"},[]),o=P.useCallback(()=>{n(!1),document.body.style.overflow="unset"},[]);return T.jsx(X1.Provider,{value:{isSidebarOpen:e,openSidebar:s,closeSidebar:o},children:i})};Mw.createRoot(document.getElementById("root")).render(T.jsx(P.StrictMode,{children:T.jsx(QA,{children:T.jsx(P4,{children:T.jsx(L4,{children:T.jsx(V4,{})})})})}));
