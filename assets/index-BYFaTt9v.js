(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var rm={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function B1(){if(E0)return kl;E0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var b0;function q1(){return b0||(b0=1,rm.exports=B1()),rm.exports}var b=q1(),im={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function H1(){if(T0)return Re;T0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,K={};function F(D,ne,oe){this.props=D,this.context=ne,this.refs=K,this.updater=oe||V}F.prototype.isReactComponent={},F.prototype.setState=function(D,ne){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ne,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Z(){}Z.prototype=F.prototype;function te(D,ne,oe){this.props=D,this.context=ne,this.refs=K,this.updater=oe||V}var ie=te.prototype=new Z;ie.constructor=te,B(ie,F.prototype),ie.isPureReactComponent=!0;var Se=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function N(D,ne,oe,se,me,Oe){return oe=Oe.ref,{$$typeof:i,type:D,key:ne,ref:oe!==void 0?oe:null,props:Oe}}function x(D,ne){return N(D.type,ne,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function P(D){var ne={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return ne[oe]})}var O=/\/+/g;function j(D,ne){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):ne.toString(36)}function I(){}function ut(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(ne){D.status==="pending"&&(D.status="fulfilled",D.value=ne)},function(ne){D.status==="pending"&&(D.status="rejected",D.reason=ne)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function rt(D,ne,oe,se,me){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var be=!1;if(D===null)be=!0;else switch(Oe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(D.$$typeof){case i:case e:be=!0;break;case _:return be=D._init,rt(be(D._payload),ne,oe,se,me)}}if(be)return me=me(D),be=se===""?"."+j(D,0):se,Se(me)?(oe="",be!=null&&(oe=be.replace(O,"$&/")+"/"),rt(me,ne,oe,"",function(jn){return jn})):me!=null&&(R(me)&&(me=x(me,oe+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(O,"$&/")+"/")+be)),ne.push(me)),1;be=0;var Lt=se===""?".":se+":";if(Se(D))for(var Ge=0;Ge<D.length;Ge++)se=D[Ge],Oe=Lt+j(se,Ge),be+=rt(se,ne,oe,Oe,me);else if(Ge=A(D),typeof Ge=="function")for(D=Ge.call(D),Ge=0;!(se=D.next()).done;)se=se.value,Oe=Lt+j(se,Ge++),be+=rt(se,ne,oe,Oe,me);else if(Oe==="object"){if(typeof D.then=="function")return rt(ut(D),ne,oe,se,me);throw ne=String(D),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function Q(D,ne,oe){if(D==null)return D;var se=[],me=0;return rt(D,se,"","",function(Oe){return ne.call(oe,Oe,me++)}),se}function ae(D){if(D._status===-1){var ne=D._result;ne=ne(),ne.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=ne)}if(D._status===1)return D._result.default;throw D._result}var ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function je(){}return Re.Children={map:Q,forEach:function(D,ne,oe){Q(D,function(){ne.apply(this,arguments)},oe)},count:function(D){var ne=0;return Q(D,function(){ne++}),ne},toArray:function(D){return Q(D,function(ne){return ne})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=F,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=te,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return he.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,ne,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=B({},D.props),me=D.key,Oe=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(me=""+ne.key),ne)!fe.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(se[be]=ne[be]);var be=arguments.length-2;if(be===1)se.children=oe;else if(1<be){for(var Lt=Array(be),Ge=0;Ge<be;Ge++)Lt[Ge]=arguments[Ge+2];se.children=Lt}return N(D.type,me,void 0,void 0,Oe,se)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,ne,oe){var se,me={},Oe=null;if(ne!=null)for(se in ne.key!==void 0&&(Oe=""+ne.key),ne)fe.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=ne[se]);var be=arguments.length-2;if(be===1)me.children=oe;else if(1<be){for(var Lt=Array(be),Ge=0;Ge<be;Ge++)Lt[Ge]=arguments[Ge+2];me.children=Lt}if(D&&D.defaultProps)for(se in be=D.defaultProps,be)me[se]===void 0&&(me[se]=be[se]);return N(D,Oe,void 0,void 0,null,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=R,Re.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:ae}},Re.memo=function(D,ne){return{$$typeof:g,type:D,compare:ne===void 0?null:ne}},Re.startTransition=function(D){var ne=he.T,oe={};he.T=oe;try{var se=D(),me=he.S;me!==null&&me(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(je,ge)}catch(Oe){ge(Oe)}finally{he.T=ne}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(D){return he.H.use(D)},Re.useActionState=function(D,ne,oe){return he.H.useActionState(D,ne,oe)},Re.useCallback=function(D,ne){return he.H.useCallback(D,ne)},Re.useContext=function(D){return he.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,ne){return he.H.useDeferredValue(D,ne)},Re.useEffect=function(D,ne,oe){var se=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(D,ne)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(D,ne,oe){return he.H.useImperativeHandle(D,ne,oe)},Re.useInsertionEffect=function(D,ne){return he.H.useInsertionEffect(D,ne)},Re.useLayoutEffect=function(D,ne){return he.H.useLayoutEffect(D,ne)},Re.useMemo=function(D,ne){return he.H.useMemo(D,ne)},Re.useOptimistic=function(D,ne){return he.H.useOptimistic(D,ne)},Re.useReducer=function(D,ne,oe){return he.H.useReducer(D,ne,oe)},Re.useRef=function(D){return he.H.useRef(D)},Re.useState=function(D){return he.H.useState(D)},Re.useSyncExternalStore=function(D,ne,oe){return he.H.useSyncExternalStore(D,ne,oe)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.1",Re}var w0;function np(){return w0||(w0=1,im.exports=H1()),im.exports}var M=np(),sm={exports:{}},Ml={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function F1(){return S0||(S0=1,(function(i){function e(Q,ae){var ge=Q.length;Q.push(ae);e:for(;0<ge;){var je=ge-1>>>1,D=Q[je];if(0<o(D,ae))Q[je]=ae,Q[ge]=D,ge=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ae=Q[0],ge=Q.pop();if(ge!==ae){Q[0]=ge;e:for(var je=0,D=Q.length,ne=D>>>1;je<ne;){var oe=2*(je+1)-1,se=Q[oe],me=oe+1,Oe=Q[me];if(0>o(se,ge))me<D&&0>o(Oe,se)?(Q[je]=Oe,Q[me]=ge,je=me):(Q[je]=se,Q[oe]=ge,je=oe);else if(me<D&&0>o(Oe,ge))Q[je]=Oe,Q[me]=ge,je=me;else break e}}return ae}function o(Q,ae){var ge=Q.sortIndex-ae.sortIndex;return ge!==0?ge:Q.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],_=1,T=null,A=3,V=!1,B=!1,K=!1,F=!1,Z=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Se(Q){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Q)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function he(Q){if(K=!1,Se(Q),!B)if(n(p)!==null)B=!0,fe||(fe=!0,j());else{var ae=n(g);ae!==null&&rt(he,ae.startTime-Q)}}var fe=!1,N=-1,x=5,R=-1;function P(){return F?!0:!(i.unstable_now()-R<x)}function O(){if(F=!1,fe){var Q=i.unstable_now();R=Q;var ae=!0;try{e:{B=!1,K&&(K=!1,te(N),N=-1),V=!0;var ge=A;try{t:{for(Se(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&P());){var je=T.callback;if(typeof je=="function"){T.callback=null,A=T.priorityLevel;var D=je(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof D=="function"){T.callback=D,Se(Q),ae=!0;break t}T===n(p)&&s(p),Se(Q)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var ne=n(g);ne!==null&&rt(he,ne.startTime-Q),ae=!1}}break e}finally{T=null,A=ge,V=!1}ae=void 0}}finally{ae?j():fe=!1}}}var j;if(typeof ie=="function")j=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ut=I.port2;I.port1.onmessage=O,j=function(){ut.postMessage(null)}}else j=function(){Z(O,0)};function rt(Q,ae){N=Z(function(){Q(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var ge=A;A=ae;try{return Q()}finally{A=ge}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=A;A=Q;try{return ae()}finally{A=ge}},i.unstable_scheduleCallback=function(Q,ae,ge){var je=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ge+D,Q={id:_++,callback:ae,priorityLevel:Q,startTime:ge,expirationTime:D,sortIndex:-1},ge>je?(Q.sortIndex=ge,e(g,Q),n(p)===null&&Q===n(g)&&(K?(te(N),N=-1):K=!0,rt(he,ge-je))):(Q.sortIndex=D,e(p,Q),B||V||(B=!0,fe||(fe=!0,j()))),Q},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Q){var ae=A;return function(){var ge=A;A=ae;try{return Q.apply(this,arguments)}finally{A=ge}}}})(om)),om}var A0;function G1(){return A0||(A0=1,am.exports=F1()),am.exports}var lm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function $1(){if(x0)return Qt;x0=1;var i=np();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Qt.flushSync=function(p){var g=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=_,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:V}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,_){return f.H.useFormState(p,g,_)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.1",Qt}var R0;function K1(){if(R0)return lm.exports;R0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),lm.exports=$1(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function Q1(){if(C0)return Ml;C0=1;var i=G1(),e=np(),n=K1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case F:return"Profiler";case K:return"StrictMode";case he:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case Se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:ut(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return ut(t(r))}catch{}}return null}var rt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],D=-1;function ne(t){return{current:t}}function oe(t){0>D||(t.current=je[D],je[D]=null,D--)}function se(t,r){D++,je[D]=t.current,t.current=r}var me=ne(null),Oe=ne(null),be=ne(null),Lt=ne(null);function Ge(t,r){switch(se(be,r),se(Oe,t),se(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Q_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Q_(r),t=Y_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(me),se(me,t)}function jn(){oe(me),oe(Oe),oe(be)}function Ro(t){t.memoizedState!==null&&se(Lt,t);var r=me.current,a=Y_(r,t.type);r!==a&&(se(Oe,t),se(me,a))}function oa(t){Oe.current===t&&(oe(me),oe(Oe)),Lt.current===t&&(oe(Lt),Cl._currentValue=ge)}var la=Object.prototype.hasOwnProperty,ls=i.unstable_scheduleCallback,ua=i.unstable_cancelCallback,rf=i.unstable_shouldYield,Co=i.unstable_requestPaint,an=i.unstable_now,xu=i.unstable_getCurrentPriorityLevel,At=i.unstable_ImmediatePriority,Dt=i.unstable_UserBlockingPriority,wr=i.unstable_NormalPriority,sf=i.unstable_LowPriority,Io=i.unstable_IdlePriority,af=i.log,us=i.unstable_setDisableYieldValue,ti=null,Gt=null;function wn(t){if(typeof af=="function"&&us(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ti,t)}catch{}}var Jt=Math.clz32?Math.clz32:Cu,of=Math.log,Ru=Math.LN2;function Cu(t){return t>>>=0,t===0?32:31-(of(t)/Ru|0)|0}var nr=256,ni=4194304;function Un(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Un(l):(E&=w,E!==0?h=Un(E):a||(a=w&~t,a!==0&&(h=Un(a))))):(w=l&~d,w!==0?h=Un(w):E!==0?h=Un(E):a||(a=l&~t,a!==0&&(h=Un(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ri(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ca(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var t=nr;return nr<<=1,(nr&4194048)===0&&(nr=256),t}function ii(){var t=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),t}function ha(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ft(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Iu(t,r,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-Jt(a),J=1<<Y;w[Y]=0,C[Y]=-1;var H=q[Y];if(H!==null)for(q[Y]=null,Y=0;Y<H.length;Y++){var G=H[Y];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&si(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function si(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Jt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ai(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Jt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Do(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:m0(t.type))}function lf(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var rr=Math.random().toString(36).slice(2),dt="__reactFiber$"+rr,jt="__reactProps$"+rr,Ar="__reactContainer$"+rr,cs="__reactEvents$"+rr,hs="__reactListeners$"+rr,uf="__reactHandles$"+rr,zn="__reactResources$"+rr,oi="__reactMarker$"+rr;function fa(t){delete t[dt],delete t[jt],delete t[cs],delete t[hs],delete t[uf]}function ir(t){var r=t[dt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ar]||a[dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=J_(t);t!==null;){if(a=t[dt])return a;t=J_(t)}return r}t=a,a=t.parentNode}return null}function sr(t){if(t=t[dt]||t[Ar]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function li(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function ui(t){var r=t[zn];return r||(r=t[zn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(t){t[oi]=!0}var Nu=new Set,fs={};function ar(t,r){or(t,r),or(t+"Capture",r)}function or(t,r){for(fs[t]=r,t=0;t<r.length;t++)Nu.add(r[t])}var ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},da={};function cf(t){return la.call(da,t)?!0:la.call(lr,t)?!1:ds.test(t)?da[t]=!0:(lr[t]=!0,!1)}function ms(t,r,a){if(cf(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ps(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function An(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var gs,ma;function xr(t){if(gs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gs=r&&r[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+t+ma}var pa=!1;function ga(t,r){if(!t||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){H=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var C=E.split(`
`),q=w.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xr(a):""}function hf(t){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return ga(t.type,!1);case 11:return ga(t.type.render,!1);case 1:return ga(t.type,!0);case 31:return xr("Activity");default:return""}}function Bn(t){try{var r="";do r+=hf(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function at(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ci(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ys(t){var r=ci(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function hi(t){t._valueTracker||(t._valueTracker=ys(t))}function $e(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=ci(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function Ot(t){return t.replace(_s,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ko(t,r,a,l,h,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+at(r)):t.value!==""+at(r)&&(t.value=""+at(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Vo(t,E,at(r)):a!=null?Vo(t,E,at(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+at(w):t.removeAttribute("name")}function Mo(t,r,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+at(a):"",r=r!=null?""+at(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Vo(t,r,a){r==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+at(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Du(t,r,a){if(r!=null&&(r=""+at(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+at(a):""}function Ou(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=at(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Cr.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Lo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Po(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Po(t,d,r[d])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return Mu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var jo=null;function Uo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,en=null;function Vu(t){var r=sr(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(ko(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));ko(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&$e(l)}break e;case"textarea":Du(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&fi(t,!!a.multiple,r,!1)}}}var vs=!1;function Es(t,r,a){if(vs)return t(r,a);vs=!0;try{var l=t(r);return l}finally{if(vs=!1,(di!==null||en!==null)&&(Sc(),di&&(r=di,t=en,en=di=null,Vu(r),t)))for(r=0;r<t.length;r++)Vu(t[r])}}function mi(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(tn)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Ir=!1}var Rn=null,We=null,_a=null;function Pu(){if(_a)return _a;var t,r=We,a=r.length,l,h="value"in Rn?Rn.value:Rn.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===h[d-l];l++);return _a=h.slice(t,1<l?1-l:void 0)}function bs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function zo(){return!1}function xt(t){function r(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ts:zo,this.isPropagationStopped=zo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),r}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=xt($t),Ss=_({},$t,{view:0,detail:0}),As=xt(Ss),va,xs,ur,Rs=_({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&t.type==="mousemove"?(va=t.screenX-ur.screenX,xs=t.screenY-ur.screenY):xs=va=0,ur=t),va)},movementY:function(t){return"movementY"in t?t.movementY:xs}}),Cs=xt(Rs),ff=_({},Rs,{dataTransfer:0}),Lu=xt(ff),Is=_({},Ss,{relatedTarget:0}),Ea=xt(Is),ju=_({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),Bo=xt(ju),qo=_({},$t,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=xt(qo),ba=_({},$t,{data:0}),Ho=xt(ba),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Bu[t])?!!r[t]:!1}function Ta(){return qu}var Hu=_({},Ss,{key:function(t){if(t.key){var r=zu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(t){return t.type==="keypress"?bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=xt(Hu),nn=_({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=xt(nn),Fu=_({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),gi=xt(Fu),c=_({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=xt(c),v=_({},Rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=xt(v),z=_({},$t,{newState:0,oldState:0}),$=xt(z),re=[9,13,27,32],Ae=tn&&"CompositionEvent"in window,tt=null;tn&&"documentMode"in document&&(tt=document.documentMode);var qe=tn&&"TextEvent"in window&&!tt,pt=tn&&(!Ae||tt&&8<tt&&11>=tt),fn=" ",cr=!1;function Hn(t,r){switch(t){case"keyup":return re.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gn=!1;function Go(t,r){switch(t){case"compositionend":return Fn(r);case"keypress":return r.which!==32?null:(cr=!0,fn);case"textInput":return t=r.data,t===fn&&cr?null:t;default:return null}}function mw(t,r){if(Gn)return t==="compositionend"||!Ae&&Hn(t,r)?(t=Pu(),_a=We=Rn=null,Gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return pt&&r.locale!=="ko"?null:r.data;default:return null}}var pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!pw[t.type]:r==="textarea"}function ug(t,r,a,l){di?en?en.push(l):en=[l]:di=l,r=Nc(r,"onChange"),0<r.length&&(a=new ws("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var $o=null,Ko=null;function gw(t){H_(t,0)}function Gu(t){var r=li(t);if($e(r))return t}function cg(t,r){if(t==="change")return r}var hg=!1;if(tn){var df;if(tn){var mf="oninput"in document;if(!mf){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),mf=typeof fg.oninput=="function"}df=mf}else df=!1;hg=df&&(!document.documentMode||9<document.documentMode)}function dg(){$o&&($o.detachEvent("onpropertychange",mg),Ko=$o=null)}function mg(t){if(t.propertyName==="value"&&Gu(Ko)){var r=[];ug(r,Ko,t,Uo(t)),Es(gw,r)}}function yw(t,r,a){t==="focusin"?(dg(),$o=r,Ko=a,$o.attachEvent("onpropertychange",mg)):t==="focusout"&&dg()}function _w(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(Ko)}function vw(t,r){if(t==="click")return Gu(r)}function Ew(t,r){if(t==="input"||t==="change")return Gu(r)}function bw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var dn=typeof Object.is=="function"?Object.is:bw;function Qo(t,r){if(dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!la.call(r,h)||!dn(t[h],r[h]))return!1}return!0}function pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gg(t,r){var a=pg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pg(a)}}function yg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?yg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Rr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Rr(t.document)}return r}function pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Tw=tn&&"documentMode"in document&&11>=document.documentMode,Sa=null,gf=null,Yo=null,yf=!1;function vg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||Sa==null||Sa!==Rr(l)||(l=Sa,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=Nc(gf,"onSelect"),0<l.length&&(r=new ws("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Sa)))}function Ns(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Aa={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},_f={},Eg={};tn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Ds(t){if(_f[t])return _f[t];if(!Aa[t])return t;var r=Aa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Eg)return _f[t]=r[a];return t}var bg=Ds("animationend"),Tg=Ds("animationiteration"),wg=Ds("animationstart"),ww=Ds("transitionrun"),Sw=Ds("transitionstart"),Aw=Ds("transitioncancel"),Sg=Ds("transitionend"),Ag=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function $n(t,r){Ag.set(t,r),ar(r,[t])}var xg=new WeakMap;function Cn(t,r){if(typeof t=="object"&&t!==null){var a=xg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Bn(r)},xg.set(t,r),r)}return{value:t,source:r,stack:Bn(r)}}var In=[],xa=0,Ef=0;function $u(){for(var t=xa,r=Ef=xa=0;r<t;){var a=In[r];In[r++]=null;var l=In[r];In[r++]=null;var h=In[r];In[r++]=null;var d=In[r];if(In[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Rg(a,h,d)}}function Ku(t,r,a,l){In[xa++]=t,In[xa++]=r,In[xa++]=a,In[xa++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bf(t,r,a,l){return Ku(t,r,a,l),Qu(t)}function Ra(t,r){return Ku(t,null,null,r),Qu(t)}function Rg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Jt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Qu(t){if(50<El)throw El=0,Rd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ca={};function xw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,a,l){return new xw(t,r,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dr(t,r){var a=t.alternate;return a===null?(a=mn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Yu(t,r,a,l,h,d){var E=0;if(l=t,typeof t=="function")Tf(t)&&(E=1);else if(typeof t=="string")E=C1(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=mn(31,a,r,h),t.elementType=R,t.lanes=d,t;case B:return Os(a.children,h,d,r);case K:E=8,h|=24;break;case F:return t=mn(12,a,r,h|2),t.elementType=F,t.lanes=d,t;case he:return t=mn(13,a,r,h),t.elementType=he,t.lanes=d,t;case fe:return t=mn(19,a,r,h),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:case ie:E=10;break e;case te:E=9;break e;case Se:E=11;break e;case N:E=14;break e;case x:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=mn(E,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Os(t,r,a,l){return t=mn(7,t,l,r),t.lanes=a,t}function wf(t,r,a){return t=mn(6,t,null,r),t.lanes=a,t}function Sf(t,r,a){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ia=[],Na=0,Xu=null,Wu=0,Nn=[],Dn=0,ks=null,Or=1,kr="";function Ms(t,r){Ia[Na++]=Wu,Ia[Na++]=Xu,Xu=t,Wu=r}function Ig(t,r,a){Nn[Dn++]=Or,Nn[Dn++]=kr,Nn[Dn++]=ks,ks=t;var l=Or;t=kr;var h=32-Jt(l)-1;l&=~(1<<h),a+=1;var d=32-Jt(r)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Or=1<<32-Jt(r)+h|a<<h|l,kr=d+t}else Or=1<<d|a<<h|l,kr=t}function Af(t){t.return!==null&&(Ms(t,1),Ig(t,1,0))}function xf(t){for(;t===Xu;)Xu=Ia[--Na],Ia[Na]=null,Wu=Ia[--Na],Ia[Na]=null;for(;t===ks;)ks=Nn[--Dn],Nn[Dn]=null,kr=Nn[--Dn],Nn[Dn]=null,Or=Nn[--Dn],Nn[Dn]=null}var rn=null,ct=null,ze=!1,Vs=null,hr=!1,Rf=Error(s(519));function Ps(t){var r=Error(s(418,""));throw Zo(Cn(r,t)),Rf}function Ng(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[dt]=t,r[jt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<Tl.length;a++)De(Tl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),Mo(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),hi(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Ou(r,l.value,l.defaultValue,l.children),hi(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||K_(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=Dc),r=!0):r=!1,r||Ps(t)}function Dg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:rn=rn.return}}function Xo(t){if(t!==rn)return!1;if(!ze)return Dg(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&ct&&Ps(t),Dg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ct=Qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ct=null}}else r===27?(r=ct,Oi(t.type)?(t=Kd,Kd=null,ct=t):ct=r):ct=rn?Qn(t.stateNode.nextSibling):null;return!0}function Wo(){ct=rn=null,ze=!1}function Og(){var t=Vs;return t!==null&&(un===null?un=t:un.push.apply(un,t),Vs=null),t}function Zo(t){Vs===null?Vs=[t]:Vs.push(t)}var Cf=ne(null),Ls=null,Mr=null;function yi(t,r,a){se(Cf,r._currentValue),r._currentValue=a}function Vr(t){t._currentValue=Cf.current,oe(Cf)}function If(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Nf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var C=0;C<r.length;C++)if(w.context===r[C]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),If(d.return,a,t),l||(E=null);break e}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),If(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Jo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;dn(h.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(h===Lt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&Nf(r,t,a,l),r.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Ls=t,Mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return kg(Ls,t)}function Ju(t,r){return Ls===null&&js(t),kg(t,r)}function kg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Mr===null){if(t===null)throw Error(s(308));Mr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Mr=Mr.next=r;return a}var Rw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Cw=i.unstable_scheduleCallback,Iw=i.unstable_NormalPriority,Rt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new Rw,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&Cw(Iw,function(){t.controller.abort()})}var tl=null,Of=0,Da=0,Oa=null;function Nw(t,r){if(tl===null){var a=tl=[];Of=0,Da=Md(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,r.then(Mg,Mg),r}function Mg(){if(--Of===0&&tl!==null){Oa!==null&&(Oa.status="fulfilled");var t=tl;tl=null,Da=0,Oa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Dw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Nw(t,r),Vg!==null&&Vg(t,r)};var Us=ne(null);function kf(){var t=Us.current;return t!==null?t:Ze.pooledCache}function ec(t,r){r===null?se(Us,Us.current):se(Us,r.pool)}function Pg(){var t=kf();return t===null?null:{parent:Rt._currentValue,pool:t}}var nl=Error(s(460)),Lg=Error(s(474)),tc=Error(s(542)),Mf={then:function(){}};function jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nc(){}function Ug(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(nc,nc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Bg(t),t;default:if(typeof r.status=="string")r.then(nc,nc);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Bg(t),t}throw rl=r,nl}}var rl=null;function zg(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}function Bg(t){if(t===nl||t===tc)throw Error(s(483))}var _i=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Qu(t),Rg(t,null,a),r}return Ku(t,l,r,a),Qu(t)}function il(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ai(t,a)}}function Lf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var jf=!1;function sl(){if(jf){var t=Oa;if(t!==null)throw t}}function al(t,r,a,l){jf=!1;var h=t.updateQueue;_i=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,q=C.next;C.next=null,E===null?d=q:E.next=q,E=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==E&&(w===null?Y.firstBaseUpdate=q:w.next=q,Y.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;E=0,Y=q=C=null,w=d;do{var H=w.lane&-536870913,G=H!==w.lane;if(G?(Pe&H)===H:(l&H)===H){H!==0&&H===Da&&(jf=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Te=t,ye=w;H=r;var Ye=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){J=Te.call(Ye,J,H);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,H=typeof Te=="function"?Te.call(Ye,J,H):Te,H==null)break e;J=_({},J,H);break e;case 2:_i=!0}}H=w.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(q=Y=G,C=J):Y=Y.next=G,E|=H;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;G=w,w=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(C=J),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Ci|=E,t.lanes=E,t.memoizedState=J}}function qg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Hg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qg(a[t],r)}var ka=ne(null),rc=ne(0);function Fg(t,r){t=qr,se(rc,t),se(ka,r),qr=t|r.baseLanes}function Uf(){se(rc,qr),se(ka,ka.current)}function zf(){qr=rc.current,oe(ka),oe(rc)}var bi=0,Ce=null,Ke=null,vt=null,ic=!1,Ma=!1,zs=!1,sc=0,ol=0,Va=null,Ow=0;function gt(){throw Error(s(321))}function Bf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!dn(t[a],r[a]))return!1;return!0}function qf(t,r,a,l,h,d){return bi=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?Ry:Cy,zs=!1,d=a(l,h),zs=!1,Ma&&(d=$g(r,a,l,h)),Gg(t),d}function Gg(t){Q.H=hc;var r=Ke!==null&&Ke.next!==null;if(bi=0,vt=Ke=Ce=null,ic=!1,ol=0,Va=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Zu(t)&&(kt=!0))}function $g(t,r,a,l){Ce=t;var h=0;do{if(Ma&&(Va=null),ol=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,vt=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Uw,d=r(a,l)}while(Ma);return d}function kw(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?ll(r):r,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ce.flags|=1024),r}function Hf(){var t=sc!==0;return sc=0,t}function Ff(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Gf(t){if(ic){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ic=!1}bi=0,vt=Ke=Ce=null,Ma=!1,ol=sc=0,Va=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ce.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if(Ke===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var r=vt===null?Ce.memoizedState:vt.next;if(r!==null)vt=r,Ke=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},vt===null?Ce.memoizedState=vt=t:vt=vt.next=t}return vt}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var r=ol;return ol+=1,Va===null&&(Va=[]),t=Ug(Va,t,r),r=Ce,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Ry:Cy),t}function ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ie)return Kt(t)}throw Error(s(438,String(t)))}function Kf(t){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=$f(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=P;return r.index++,a}function Pr(t,r){return typeof r=="function"?r(t):r}function oc(t){var r=Et();return Qf(r,Ke,t)}function Qf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var w=E=null,C=null,q=r,Y=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Pe&J)===J:(bi&J)===J){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Da&&(Y=!0);else if((bi&H)===H){q=q.next,H===Da&&(Y=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(w=C=J,E=d):C=C.next=J,Ce.lanes|=H,Ci|=H;J=q.action,zs&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else H={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(w=C=H,E=d):C=C.next=H,Ce.lanes|=J,Ci|=J;q=q.next}while(q!==null&&q!==r);if(C===null?E=d:C.next=w,!dn(d,t.memoizedState)&&(kt=!0,Y&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);dn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Kg(t,r,a){var l=Ce,h=Et(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!dn((Ke||h).memoizedState,a);E&&(h.memoizedState=a,kt=!0),h=h.queue;var w=Xg.bind(null,l,h,t);if(ul(2048,8,w,[t]),h.getSnapshot!==r||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,lc(),Yg.bind(null,l,h,a,r),null),Ze===null)throw Error(s(349));d||(bi&124)!==0||Qg(l,r,a)}return a}function Qg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=$f(),Ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Yg(t,r,a,l){r.value=a,r.getSnapshot=l,Wg(r)&&Zg(t)}function Xg(t,r,a){return a(function(){Wg(r)&&Zg(t)})}function Wg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!dn(t,a)}catch{return!0}}function Zg(t){var r=Ra(t,2);r!==null&&vn(r,t,2)}function Xf(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),zs){wn(!0);try{a()}finally{wn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:t},r}function Jg(t,r,a,l){return t.baseState=a,Qf(t,Ke,typeof l=="function"?l:Pr)}function Mw(t,r,a,l,h){if(cc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ey(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ey(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Q.T,E={};Q.T=E;try{var w=a(h,l),C=Q.S;C!==null&&C(E,w),ty(t,r,w)}catch(q){Wf(t,r,q)}finally{Q.T=d}}else try{d=a(h,l),ty(t,r,d)}catch(q){Wf(t,r,q)}}function ty(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ny(t,r,l)},function(l){return Wf(t,r,l)}):ny(t,r,a)}function ny(t,r,a){r.status="fulfilled",r.value=a,ry(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ey(t,a)))}function Wf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ry(r),r=r.next;while(r!==l)}t.action=null}function ry(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function iy(t,r){return r}function sy(t,r){if(ze){var a=Ze.formState;if(a!==null){e:{var l=Ce;if(ze){if(ct){t:{for(var h=ct,d=hr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Qn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:r},a.queue=l,a=Sy.bind(null,Ce,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,Ce,!1,l.queue),l=on(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Mw.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function ay(t){var r=Et();return oy(r,Ke,t)}function oy(t,r,a){if(r=Qf(t,r,iy)[0],t=oc(Pr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ll(r)}catch(E){throw E===nl?tc:E}else l=r;r=Et();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,Pa(9,lc(),Vw.bind(null,h,a),null)),[l,d,t]}function Vw(t,r){t.action=r}function ly(t){var r=Et(),a=Ke;if(a!==null)return oy(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Pa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=$f(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function lc(){return{destroy:void 0,resource:void 0}}function uy(){return Et().memoizedState}function uc(t,r,a,l){var h=on();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=Pa(1|r,lc(),a,l)}function ul(t,r,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Ke!==null&&l!==null&&Bf(l,Ke.memoizedState.deps)?h.memoizedState=Pa(r,d,a,l):(Ce.flags|=t,h.memoizedState=Pa(1|r,d,a,l))}function cy(t,r){uc(8390656,8,t,r)}function hy(t,r){ul(2048,8,t,r)}function fy(t,r){return ul(4,2,t,r)}function dy(t,r){return ul(4,4,t,r)}function my(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function py(t,r,a){a=a!=null?a.concat([t]):null,ul(4,4,my.bind(null,r,t),a)}function Zf(){}function gy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Bf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function yy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Bf(r,l[1]))return l[0];if(l=t(),zs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,r],l}function Jf(t,r,a){return a===void 0||(bi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=E_(),Ce.lanes|=t,Ci|=t,a)}function _y(t,r,a,l){return dn(a,r)?a:ka.current!==null?(t=Jf(t,a,l),dn(t,r)||(kt=!0),t):(bi&42)===0?(kt=!0,t.memoizedState=a):(t=E_(),Ce.lanes|=t,Ci|=t,r)}function vy(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=Q.T,w={};Q.T=w,nd(t,!1,r,a);try{var C=h(),q=Q.S;if(q!==null&&q(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=Dw(C,l);cl(t,r,Y,_n(t))}else cl(t,r,l,_n(t))}catch(J){cl(t,r,{then:function(){},status:"rejected",reason:J},_n())}finally{ae.p=d,Q.T=E}}function Pw(){}function ed(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ey(t).queue;vy(t,h,r,ge,a===null?Pw:function(){return by(t),a(l)})}function Ey(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function by(t){var r=Ey(t).next.queue;cl(t,r,{},_n())}function td(){return Kt(Cl)}function Ty(){return Et().memoizedState}function wy(){return Et().memoizedState}function Lw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();t=vi(a);var l=Ei(r,t,a);l!==null&&(vn(l,r,a),il(l,r,a)),r={cache:Df()},t.payload=r;return}r=r.return}}function jw(t,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},cc(t)?Ay(r,a):(a=bf(t,r,a,l),a!==null&&(vn(a,t,l),xy(a,r,l)))}function Sy(t,r,a){var l=_n();cl(t,r,a,l)}function cl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(t))Ay(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,dn(w,E))return Ku(t,r,h,0),Ze===null&&$u(),!1}catch{}finally{}if(a=bf(t,r,h,l),a!==null)return vn(a,t,l),xy(a,r,l),!0}return!1}function nd(t,r,a,l){if(l={lane:2,revertLane:Md(),action:l,hasEagerState:!1,eagerState:null,next:null},cc(t)){if(r)throw Error(s(479))}else r=bf(t,a,l,2),r!==null&&vn(r,t,2)}function cc(t){var r=t.alternate;return t===Ce||r!==null&&r===Ce}function Ay(t,r){Ma=ic=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function xy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ai(t,a)}}var hc={readContext:Kt,use:ac,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Ry={readContext:Kt,use:ac,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:cy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,uc(4194308,4,my.bind(null,r,t),a)},useLayoutEffect:function(t,r){return uc(4194308,4,t,r)},useInsertionEffect:function(t,r){uc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(zs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var h=a(r);if(zs){wn(!0);try{a(r)}finally{wn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=jw.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=Xf(t);var r=t.queue,a=Sy.bind(null,Ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,r){var a=on();return Jf(a,t,r)},useTransition:function(){var t=Xf(!1);return t=vy.bind(null,Ce,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ce,h=on();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));(Pe&124)!==0||Qg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,cy(Xg.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,lc(),Yg.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=Ze.identifierPrefix;if(ze){var a=kr,l=Or;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=sc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Ow++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:td,useFormState:sy,useActionState:sy,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=nd.bind(null,Ce,!0,a),a.dispatch=r,[t,r]},useMemoCache:Kf,useCacheRefresh:function(){return on().memoizedState=Lw.bind(null,Ce)}},Cy={readContext:Kt,use:ac,useCallback:gy,useContext:Kt,useEffect:hy,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:oc,useRef:uy,useState:function(){return oc(Pr)},useDebugValue:Zf,useDeferredValue:function(t,r){var a=Et();return _y(a,Ke.memoizedState,t,r)},useTransition:function(){var t=oc(Pr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:td,useFormState:ay,useActionState:ay,useOptimistic:function(t,r){var a=Et();return Jg(a,Ke,t,r)},useMemoCache:Kf,useCacheRefresh:wy},Uw={readContext:Kt,use:ac,useCallback:gy,useContext:Kt,useEffect:hy,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:Yf,useRef:uy,useState:function(){return Yf(Pr)},useDebugValue:Zf,useDeferredValue:function(t,r){var a=Et();return Ke===null?Jf(a,t,r):_y(a,Ke.memoizedState,t,r)},useTransition:function(){var t=Yf(Pr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:td,useFormState:ly,useActionState:ly,useOptimistic:function(t,r){var a=Et();return Ke!==null?Jg(a,Ke,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:wy},La=null,hl=0;function fc(t){var r=hl;return hl+=1,La===null&&(La=[]),Ug(La,t,r)}function fl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function dc(t,r){throw r.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Iy(t){var r=t._init;return r(t._payload)}function Ny(t){function r(L,k){if(t){var U=L.deletions;U===null?(L.deletions=[k],L.flags|=16):U.push(k)}}function a(L,k){if(!t)return null;for(;k!==null;)r(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function h(L,k){return L=Dr(L,k),L.index=0,L.sibling=null,L}function d(L,k,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<k?(L.flags|=67108866,k):U):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function E(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function w(L,k,U,X){return k===null||k.tag!==6?(k=wf(U,L.mode,X),k.return=L,k):(k=h(k,U),k.return=L,k)}function C(L,k,U,X){var ce=U.type;return ce===B?Y(L,k,U.props.children,X,U.key):k!==null&&(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===x&&Iy(ce)===k.type)?(k=h(k,U.props),fl(k,U),k.return=L,k):(k=Yu(U.type,U.key,U.props,null,L.mode,X),fl(k,U),k.return=L,k)}function q(L,k,U,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=Sf(U,L.mode,X),k.return=L,k):(k=h(k,U.children||[]),k.return=L,k)}function Y(L,k,U,X,ce){return k===null||k.tag!==7?(k=Os(U,L.mode,X,ce),k.return=L,k):(k=h(k,U),k.return=L,k)}function J(L,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=wf(""+k,L.mode,U),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return U=Yu(k.type,k.key,k.props,null,L.mode,U),fl(U,k),U.return=L,U;case V:return k=Sf(k,L.mode,U),k.return=L,k;case x:var X=k._init;return k=X(k._payload),J(L,k,U)}if(rt(k)||j(k))return k=Os(k,L.mode,U,null),k.return=L,k;if(typeof k.then=="function")return J(L,fc(k),U);if(k.$$typeof===ie)return J(L,Ju(L,k),U);dc(L,k)}return null}function H(L,k,U,X){var ce=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ce!==null?null:w(L,k,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===ce?C(L,k,U,X):null;case V:return U.key===ce?q(L,k,U,X):null;case x:return ce=U._init,U=ce(U._payload),H(L,k,U,X)}if(rt(U)||j(U))return ce!==null?null:Y(L,k,U,X,null);if(typeof U.then=="function")return H(L,k,fc(U),X);if(U.$$typeof===ie)return H(L,k,Ju(L,U),X);dc(L,U)}return null}function G(L,k,U,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(U)||null,w(k,L,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return L=L.get(X.key===null?U:X.key)||null,C(k,L,X,ce);case V:return L=L.get(X.key===null?U:X.key)||null,q(k,L,X,ce);case x:var Ie=X._init;return X=Ie(X._payload),G(L,k,U,X,ce)}if(rt(X)||j(X))return L=L.get(U)||null,Y(k,L,X,ce,null);if(typeof X.then=="function")return G(L,k,U,fc(X),ce);if(X.$$typeof===ie)return G(L,k,U,Ju(k,X),ce);dc(k,X)}return null}function Te(L,k,U,X){for(var ce=null,Ie=null,de=k,_e=k=0,Vt=null;de!==null&&_e<U.length;_e++){de.index>_e?(Vt=de,de=null):Vt=de.sibling;var Ue=H(L,de,U[_e],X);if(Ue===null){de===null&&(de=Vt);break}t&&de&&Ue.alternate===null&&r(L,de),k=d(Ue,k,_e),Ie===null?ce=Ue:Ie.sibling=Ue,Ie=Ue,de=Vt}if(_e===U.length)return a(L,de),ze&&Ms(L,_e),ce;if(de===null){for(;_e<U.length;_e++)de=J(L,U[_e],X),de!==null&&(k=d(de,k,_e),Ie===null?ce=de:Ie.sibling=de,Ie=de);return ze&&Ms(L,_e),ce}for(de=l(de);_e<U.length;_e++)Vt=G(de,L,_e,U[_e],X),Vt!==null&&(t&&Vt.alternate!==null&&de.delete(Vt.key===null?_e:Vt.key),k=d(Vt,k,_e),Ie===null?ce=Vt:Ie.sibling=Vt,Ie=Vt);return t&&de.forEach(function(Li){return r(L,Li)}),ze&&Ms(L,_e),ce}function ye(L,k,U,X){if(U==null)throw Error(s(151));for(var ce=null,Ie=null,de=k,_e=k=0,Vt=null,Ue=U.next();de!==null&&!Ue.done;_e++,Ue=U.next()){de.index>_e?(Vt=de,de=null):Vt=de.sibling;var Li=H(L,de,Ue.value,X);if(Li===null){de===null&&(de=Vt);break}t&&de&&Li.alternate===null&&r(L,de),k=d(Li,k,_e),Ie===null?ce=Li:Ie.sibling=Li,Ie=Li,de=Vt}if(Ue.done)return a(L,de),ze&&Ms(L,_e),ce;if(de===null){for(;!Ue.done;_e++,Ue=U.next())Ue=J(L,Ue.value,X),Ue!==null&&(k=d(Ue,k,_e),Ie===null?ce=Ue:Ie.sibling=Ue,Ie=Ue);return ze&&Ms(L,_e),ce}for(de=l(de);!Ue.done;_e++,Ue=U.next())Ue=G(de,L,_e,Ue.value,X),Ue!==null&&(t&&Ue.alternate!==null&&de.delete(Ue.key===null?_e:Ue.key),k=d(Ue,k,_e),Ie===null?ce=Ue:Ie.sibling=Ue,Ie=Ue);return t&&de.forEach(function(z1){return r(L,z1)}),ze&&Ms(L,_e),ce}function Ye(L,k,U,X){if(typeof U=="object"&&U!==null&&U.type===B&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var ce=U.key;k!==null;){if(k.key===ce){if(ce=U.type,ce===B){if(k.tag===7){a(L,k.sibling),X=h(k,U.props.children),X.return=L,L=X;break e}}else if(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===x&&Iy(ce)===k.type){a(L,k.sibling),X=h(k,U.props),fl(X,U),X.return=L,L=X;break e}a(L,k);break}else r(L,k);k=k.sibling}U.type===B?(X=Os(U.props.children,L.mode,X,U.key),X.return=L,L=X):(X=Yu(U.type,U.key,U.props,null,L.mode,X),fl(X,U),X.return=L,L=X)}return E(L);case V:e:{for(ce=U.key;k!==null;){if(k.key===ce)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(L,k.sibling),X=h(k,U.children||[]),X.return=L,L=X;break e}else{a(L,k);break}else r(L,k);k=k.sibling}X=Sf(U,L.mode,X),X.return=L,L=X}return E(L);case x:return ce=U._init,U=ce(U._payload),Ye(L,k,U,X)}if(rt(U))return Te(L,k,U,X);if(j(U)){if(ce=j(U),typeof ce!="function")throw Error(s(150));return U=ce.call(U),ye(L,k,U,X)}if(typeof U.then=="function")return Ye(L,k,fc(U),X);if(U.$$typeof===ie)return Ye(L,k,Ju(L,U),X);dc(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(L,k.sibling),X=h(k,U),X.return=L,L=X):(a(L,k),X=wf(U,L.mode,X),X.return=L,L=X),E(L)):a(L,k)}return function(L,k,U,X){try{hl=0;var ce=Ye(L,k,U,X);return La=null,ce}catch(de){if(de===nl||de===tc)throw de;var Ie=mn(29,de,null,L.mode);return Ie.lanes=X,Ie.return=L,Ie}finally{}}}var ja=Ny(!0),Dy=Ny(!1),On=ne(null),fr=null;function Ti(t){var r=t.alternate;se(Ct,Ct.current&1),se(On,t),fr===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(fr=t)}function Oy(t){if(t.tag===22){if(se(Ct,Ct.current),se(On,t),fr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(fr=t)}}else wi()}function wi(){se(Ct,Ct.current),se(On,On.current)}function Lr(t){oe(On),fr===t&&(fr=null),oe(Ct)}var Ct=ne(0);function mc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$d(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function rd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var id={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=_n(),h=vi(l);h.payload=r,a!=null&&(h.callback=a),r=Ei(t,h,l),r!==null&&(vn(r,t,l),il(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=_n(),h=vi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ei(t,h,l),r!==null&&(vn(r,t,l),il(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_n(),l=vi(a);l.tag=2,r!=null&&(l.callback=r),r=Ei(t,l,a),r!==null&&(vn(r,t,a),il(r,t,a))}};function ky(t,r,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function My(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&id.enqueueReplaceState(r,r.state,null)}function Bs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vy(t){pc(t)}function Py(t){console.error(t)}function Ly(t){pc(t)}function gc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function jy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,r,a){return a=vi(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,r)},a}function Uy(t){return t=vi(t),t.tag=3,t}function zy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){jy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){jy(r,a,l),typeof h!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function zw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Jo(r,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return fr===null?Id():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Mf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Dd(t,l,h)),!1;case 22:return a.flags|=65536,l===Mf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Dd(t,l,h)),!1}throw Error(s(435,a.tag))}return Dd(t,l,h),Id(),!1}if(ze)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Rf&&(t=Error(s(422),{cause:l}),Zo(Cn(t,a)))):(l!==Rf&&(r=Error(s(423),{cause:l}),Zo(Cn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=sd(t.stateNode,l,h),Lf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),vl===null?vl=[d]:vl.push(d),ht!==4&&(ht=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sd(a.stateNode,l,t),Lf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ii===null||!Ii.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Uy(h),zy(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var By=Error(s(461)),kt=!1;function Ut(t,r,a,l){r.child=t===null?Dy(r,null,a,l):ja(r,t.child,a,l)}function qy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return js(r),l=qf(t,r,a,E,d,h),w=Hf(),t!==null&&!kt?(Ff(t,r,h),jr(t,r,h)):(ze&&w&&Af(r),r.flags|=1,Ut(t,r,l,h),r.child)}function Hy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Fy(t,r,d,l,h)):(t=Yu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!dd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(E,l)&&t.ref===r.ref)return jr(t,r,h)}return r.flags|=1,t=Dr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Fy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=d,dd(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,jr(t,r,h)}return ad(t,r,a,l,h)}function Gy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return $y(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(r,d!==null?d.cachePool:null),d!==null?Fg(r,d):Uf(),Oy(r);else return r.lanes=r.childLanes=536870912,$y(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(ec(r,d.cachePool),Fg(r,d),wi(),r.memoizedState=null):(t!==null&&ec(r,null),Uf(),wi());return Ut(t,r,h,a),r.child}function $y(t,r,a,l){var h=kf();return h=h===null?null:{parent:Rt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&ec(r,null),Uf(),Oy(r),t!==null&&Jo(t,r,l,!0),null}function yc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ad(t,r,a,l,h){return js(r),a=qf(t,r,a,l,void 0,h),l=Hf(),t!==null&&!kt?(Ff(t,r,h),jr(t,r,h)):(ze&&l&&Af(r),r.flags|=1,Ut(t,r,a,h),r.child)}function Ky(t,r,a,l,h,d){return js(r),r.updateQueue=null,a=$g(r,l,a,h),Gg(t),l=Hf(),t!==null&&!kt?(Ff(t,r,d),jr(t,r,d)):(ze&&l&&Af(r),r.flags|=1,Ut(t,r,a,d),r.child)}function Qy(t,r,a,l,h){if(js(r),r.stateNode===null){var d=Ca,E=a.contextType;typeof E=="object"&&E!==null&&(d=Kt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Vf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Kt(E):Ca,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(rd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&id.enqueueReplaceState(d,d.state,null),al(r,l,d,h),sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,C=Bs(a,w);d.props=C;var q=d.context,Y=a.contextType;E=Ca,typeof Y=="object"&&Y!==null&&(E=Kt(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==E)&&My(r,d,l,E),_i=!1;var H=r.memoizedState;d.state=H,al(r,l,d,h),sl(),q=r.memoizedState,w||H!==q||_i?(typeof J=="function"&&(rd(r,a,J,l),q=r.memoizedState),(C=_i||ky(r,a,C,l,H,q,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Pf(t,r),E=r.memoizedProps,Y=Bs(a,E),d.props=Y,J=r.pendingProps,H=d.context,q=a.contextType,C=Ca,typeof q=="object"&&q!==null&&(C=Kt(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||H!==C)&&My(r,d,l,C),_i=!1,H=r.memoizedState,d.state=H,al(r,l,d,h),sl();var G=r.memoizedState;E!==J||H!==G||_i||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof w=="function"&&(rd(r,a,w,l),G=r.memoizedState),(Y=_i||ky(r,a,Y,l,H,G,C)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,yc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ja(r,t.child,null,h),r.child=ja(r,null,a,h)):Ut(t,r,a,h),r.memoizedState=d.state,t=r.child):t=jr(t,r,h),t}function Yy(t,r,a,l){return Wo(),r.flags|=256,Ut(t,r,a,l),r.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Pg()}}function ud(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kn),t}function Xy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(h?Ti(r):wi(),ze){var w=ct,C;if(C=w){e:{for(C=w,w=hr;C.nodeType!==8;){if(!w){w=null;break e}if(C=Qn(C.nextSibling),C===null){w=null;break e}}w=C}w!==null?(r.memoizedState={dehydrated:w,treeContext:ks!==null?{id:Or,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},C=mn(18,null,null,0),C.stateNode=w,C.return=r,r.child=C,rn=r,ct=null,C=!0):C=!1}C||Ps(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return $d(w)?r.lanes=32:r.lanes=536870912,null;Lr(r)}return w=l.children,l=l.fallback,h?(wi(),h=r.mode,w=_c({mode:"hidden",children:w},h),l=Os(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,h=r.child,h.memoizedState=ld(a),h.childLanes=ud(t,E,a),r.memoizedState=od,l):(Ti(r),cd(r,w))}if(C=t.memoizedState,C!==null&&(w=C.dehydrated,w!==null)){if(d)r.flags&256?(Ti(r),r.flags&=-257,r=hd(t,r,a)):r.memoizedState!==null?(wi(),r.child=t.child,r.flags|=128,r=null):(wi(),h=l.fallback,w=r.mode,l=_c({mode:"visible",children:l.children},w),h=Os(h,w,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ja(r,t.child,null,a),l=r.child,l.memoizedState=ld(a),l.childLanes=ud(t,E,a),r.memoizedState=od,r=h);else if(Ti(r),$d(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,Zo({value:l,source:null,stack:null}),r=hd(t,r,a)}else if(kt||Jo(t,r,a,!1),E=(a&t.childLanes)!==0,kt||E){if(E=Ze,E!==null&&(l=a&-a,l=(l&42)!==0?1:Do(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ra(t,l),vn(E,t,l),By;w.data==="$?"||Id(),r=hd(t,r,a)}else w.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ct=Qn(w.nextSibling),rn=r,ze=!0,Vs=null,hr=!1,t!==null&&(Nn[Dn++]=Or,Nn[Dn++]=kr,Nn[Dn++]=ks,Or=t.id,kr=t.overflow,ks=r),r=cd(r,l.children),r.flags|=4096);return r}return h?(wi(),h=l.fallback,w=r.mode,C=t.child,q=C.sibling,l=Dr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Dr(q,h):(h=Os(h,w,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,w=t.child.memoizedState,w===null?w=ld(a):(C=w.cachePool,C!==null?(q=Rt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=Pg(),w={baseLanes:w.baseLanes|a,cachePool:C}),h.memoizedState=w,h.childLanes=ud(t,E,a),r.memoizedState=od,l):(Ti(r),a=t.child,t=a.sibling,a=Dr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function cd(t,r){return r=_c({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function _c(t,r){return t=mn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hd(t,r,a){return ja(r,t.child,null,a),t=cd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Wy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),If(t.return,r,a)}function fd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Zy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,a,r);else if(t.tag===19)Wy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Ct,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),fd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&mc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}fd(r,!0,a,null,d);break;case"together":fd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function jr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ci|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Jo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Dr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Dr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function dd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function Bw(t,r,a){switch(r.tag){case 3:Ge(r,r.stateNode.containerInfo),yi(r,Rt,t.memoizedState.cache),Wo();break;case 27:case 5:Ro(r);break;case 4:Ge(r,r.stateNode.containerInfo);break;case 10:yi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ti(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Xy(t,r,a):(Ti(r),t=jr(t,r,a),t!==null?t.sibling:null);Ti(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Jo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Zy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,Gy(t,r,a);case 24:yi(r,Rt,t.memoizedState.cache)}return jr(t,r,a)}function Jy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!dd(t,a)&&(r.flags&128)===0)return kt=!1,Bw(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,ze&&(r.flags&1048576)!==0&&Ig(r,Wu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Tf(l)?(t=Bs(l,t),r.tag=1,r=Qy(null,r,l,t,a)):(r.tag=0,r=ad(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Se){r.tag=11,r=qy(null,r,l,t,a);break e}else if(h===N){r.tag=14,r=Hy(null,r,l,t,a);break e}}throw r=ut(l)||l,Error(s(306,r,""))}}return r;case 0:return ad(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Bs(l,r.pendingProps),Qy(t,r,l,h,a);case 3:e:{if(Ge(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Pf(t,r),al(r,l,null,a);var E=r.memoizedState;if(l=E.cache,yi(r,Rt,l),l!==d.cache&&Nf(r,[Rt],a,!0),sl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Yy(t,r,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),r),Zo(h),r=Yy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Qn(t.firstChild),rn=r,ze=!0,Vs=null,hr=!0,a=Dy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){r=jr(t,r,a);break e}Ut(t,r,l,a)}r=r.child}return r;case 26:return yc(t,r),t===null?(a=r0(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=Oc(be.current).createElement(a),l[dt]=r,l[jt]=t,Bt(l,a,t),mt(l),r.stateNode=l):r.memoizedState=r0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ro(r),t===null&&ze&&(l=r.stateNode=e0(r.type,r.pendingProps,be.current),rn=r,hr=!0,h=ct,Oi(r.type)?(Kd=h,ct=Qn(l.firstChild)):ct=h),Ut(t,r,r.pendingProps.children,a),yc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((h=l=ct)&&(l=p1(l,r.type,r.pendingProps,hr),l!==null?(r.stateNode=l,rn=r,ct=Qn(l.firstChild),hr=!1,h=!0):h=!1),h||Ps(r)),Ro(r),h=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:E!==null&&Hd(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=qf(t,r,kw,null,null,a),Cl._currentValue=h),yc(t,r),Ut(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=ct)&&(a=g1(a,r.pendingProps,hr),a!==null?(r.stateNode=a,rn=r,ct=null,t=!0):t=!1),t||Ps(r)),null;case 13:return Xy(t,r,a);case 4:return Ge(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ja(r,null,l,a):Ut(t,r,l,a),r.child;case 11:return qy(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,yi(r,r.type,l.value),Ut(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,js(r),h=Kt(h),l=l(h),r.flags|=1,Ut(t,r,l,a),r.child;case 14:return Hy(t,r,r.type,r.pendingProps,a);case 15:return Fy(t,r,r.type,r.pendingProps,a);case 19:return Zy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=_c(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Dr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Gy(t,r,a);case 24:return js(r),l=Kt(Rt),t===null?(h=kf(),h===null&&(h=Ze,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Vf(r),yi(r,Rt,h)):((t.lanes&a)!==0&&(Pf(t,r),al(r,null,null,a),sl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),yi(r,Rt,l)):(l=d.cache,yi(r,Rt,l),l!==h.cache&&Nf(r,[Rt],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ur(t){t.flags|=4}function e_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!l0(r)){if(r=On.current,r!==null&&((Pe&4194048)===Pe?fr!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||r!==fr))throw rl=Mf,Lg;t.flags|=8192}}function vc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ii():536870912,t.lanes|=r,qa|=r)}function dl(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function qw(t,r,a){var l=r.pendingProps;switch(xf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Vr(Rt),jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xo(r)?Ur(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Og())),ot(r),null;case 26:return a=r.memoizedState,t===null?(Ur(r),a!==null?(ot(r),e_(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Ur(r),ot(r),e_(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&Ur(r),ot(r),r.flags&=-16777217),null;case 27:oa(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=me.current,Xo(r)?Ng(r):(t=e0(h,l,a),r.stateNode=t,Ur(r))}return ot(r),null;case 5:if(oa(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=me.current,Xo(r))Ng(r);else{switch(h=Oc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[dt]=r,t[jt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ur(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ur(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Xo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[dt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(t.nodeValue,a)),t||Ps(r)}else t=Oc(t).createTextNode(l),t[dt]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[dt]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Og(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Lr(r),r):(Lr(r),null)}if(Lr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),vc(r,r.updateQueue),ot(r),null;case 4:return jn(),t===null&&jd(r.stateNode.containerInfo),ot(r),null;case 10:return Vr(r.type),ot(r),null;case 19:if(oe(Ct),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=mc(t),d!==null){for(r.flags|=128,dl(h,!1),t=d.updateQueue,r.updateQueue=t,vc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Cg(a,t),a=a.sibling;return se(Ct,Ct.current&1|2),r.child}t=t.sibling}h.tail!==null&&an()>Tc&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304)}else{if(!l)if(t=mc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,vc(r,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ze)return ot(r),null}else 2*an()-h.renderingStartTime>Tc&&a!==536870912&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=an(),r.sibling=null,t=Ct.current,se(Ct,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Lr(r),zf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&vc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Vr(Rt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Hw(t,r){switch(xf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Vr(Rt),jn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return oa(r),null;case 13:if(Lr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Wo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(Ct),null;case 4:return jn(),null;case 10:return Vr(r.type),null;case 22:case 23:return Lr(r),zf(),t!==null&&oe(Us),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Vr(Rt),null;case 25:return null;default:return null}}function t_(t,r){switch(xf(r),r.tag){case 3:Vr(Rt),jn();break;case 26:case 27:case 5:oa(r);break;case 4:jn();break;case 13:Lr(r);break;case 19:oe(Ct);break;case 10:Vr(r.type);break;case 22:case 23:Lr(r),zf(),t!==null&&oe(Us);break;case 24:Vr(Rt)}}function ml(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){Xe(r,r.return,w)}}function Si(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=r;var C=a,q=w;try{q()}catch(Y){Xe(h,C,Y)}}}l=l.next}while(l!==d)}}catch(Y){Xe(r,r.return,Y)}}function n_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Hg(r,a)}catch(l){Xe(t,t.return,l)}}}function r_(t,r,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function pl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,r,h)}}function dr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,r,h)}else a.current=null}function i_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function md(t,r,a){try{var l=t.stateNode;c1(l,t.type,a,r),l[jt]=r}catch(h){Xe(t,t.return,h)}}function s_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Oi(t.type)||t.tag===4}function pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Oi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Dc));else if(l!==4&&(l===27&&Oi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(gd(t,r,a),t=t.sibling;t!==null;)gd(t,r,a),t=t.sibling}function Ec(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Oi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,r,a),t=t.sibling;t!==null;)Ec(t,r,a),t=t.sibling}function a_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Bt(r,l,a),r[dt]=t,r[jt]=a}catch(d){Xe(t,t.return,d)}}var zr=!1,yt=!1,yd=!1,o_=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Fw(t,r){if(t=t.containerInfo,Bd=jc,t=_g(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,C=-1,q=0,Y=0,J=t,H=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(w=E+h),J!==d||l!==0&&J.nodeType!==3||(C=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===t)break t;if(H===a&&++q===h&&(w=E),H===d&&++Y===l&&(C=E),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}a=w===-1||C===-1?null:{start:w,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},jc=!1,Mt=r;Mt!==null;)if(r=Mt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Mt=t;else for(;Mt!==null;){switch(r=Mt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Bs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Xe(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Mt=t;break}Mt=r.return}}function l_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ai(t,a),l&4&&ml(5,a);break;case 1:if(Ai(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){Xe(a,a.return,E)}else{var h=Bs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(a,a.return,E)}}l&64&&n_(a),l&512&&pl(a,a.return);break;case 3:if(Ai(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Hg(t,r)}catch(E){Xe(a,a.return,E)}}break;case 27:r===null&&l&4&&a_(a);case 26:case 5:Ai(t,a),r===null&&l&4&&i_(a),l&512&&pl(a,a.return);break;case 12:Ai(t,a);break;case 13:Ai(t,a),l&4&&h_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Jw.bind(null,a),y1(t,a))));break;case 22:if(l=a.memoizedState!==null||zr,!l){r=r!==null&&r.memoizedState!==null||yt,h=zr;var d=yt;zr=l,(yt=r)&&!d?xi(t,a,(a.subtreeFlags&8772)!==0):Ai(t,a),zr=h,yt=d}break;case 30:break;default:Ai(t,a)}}function u_(t){var r=t.alternate;r!==null&&(t.alternate=null,u_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&fa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,ln=!1;function Br(t,r,a){for(a=a.child;a!==null;)c_(t,r,a),a=a.sibling}function c_(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:yt||dr(a,r),Br(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||dr(a,r);var l=it,h=ln;Oi(a.type)&&(it=a.stateNode,ln=!1),Br(t,r,a),Sl(a.stateNode),it=l,ln=h;break;case 5:yt||dr(a,r);case 6:if(l=it,h=ln,it=null,Br(t,r,a),it=l,ln=h,it!==null)if(ln)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{it.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:it!==null&&(ln?(t=it,Z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ol(t)):Z_(it,a.stateNode));break;case 4:l=it,h=ln,it=a.stateNode.containerInfo,ln=!0,Br(t,r,a),it=l,ln=h;break;case 0:case 11:case 14:case 15:yt||Si(2,a,r),yt||Si(4,a,r),Br(t,r,a);break;case 1:yt||(dr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&r_(a,r,l)),Br(t,r,a);break;case 21:Br(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Br(t,r,a),yt=l;break;default:Br(t,r,a)}}function h_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(a){Xe(r,r.return,a)}}function Gw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new o_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new o_),r;default:throw Error(s(435,t.tag))}}function _d(t,r){var a=Gw(t);r.forEach(function(l){var h=e1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Oi(w.type)){it=w.stateNode,ln=!1;break e}break;case 5:it=w.stateNode,ln=!1;break e;case 3:case 4:it=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(it===null)throw Error(s(160));c_(d,E,h),it=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)f_(r,t),r=r.sibling}var Kn=null;function f_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),l&4&&(Si(3,t,t.return),ml(3,t),Si(5,t,t.return));break;case 1:pn(r,t),gn(t),l&512&&(yt||a===null||dr(a,a.return)),l&64&&zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(pn(r,t),gn(t),l&512&&(yt||a===null||dr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[oi]||d[dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[dt]=t,mt(d),l=d;break e;case"link":var E=a0("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=a0("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[dt]=t,mt(d),l=d}t.stateNode=l}else o0(h,t.type,t.stateNode);else t.stateNode=s0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?o0(h,t.type,t.stateNode):s0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&md(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(r,t),gn(t),l&512&&(yt||a===null||dr(a,a.return)),a!==null&&l&4&&md(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,t),gn(t),l&512&&(yt||a===null||dr(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(G){Xe(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,md(t,h,a!==null?a.memoizedProps:h)),l&1024&&(yd=!0);break;case 6:if(pn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){Xe(t,t.return,G)}}break;case 3:if(Vc=null,h=Kn,Kn=kc(r.containerInfo),pn(r,t),Kn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(r.containerInfo)}catch(G){Xe(t,t.return,G)}yd&&(yd=!1,d_(t));break;case 4:l=Kn,Kn=kc(t.stateNode.containerInfo),pn(r,t),gn(t),Kn=l;break;case 12:pn(r,t),gn(t);break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sd=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_d(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=zr,Y=yt;if(zr=q||h,yt=Y||C,pn(r,t),yt=Y,zr=q,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||zr||yt||qs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=C.stateNode;var J=C.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Xe(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){Xe(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_d(t,a))));break;case 19:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_d(t,l)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(s_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=pd(t);Ec(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(xn(E,""),a.flags&=-33);var w=pd(t);Ec(t,w,E);break;case 3:case 4:var C=a.stateNode.containerInfo,q=pd(t);gd(t,q,C);break;default:throw Error(s(161))}}catch(Y){Xe(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function d_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;d_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ai(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)l_(t,r.alternate,r),r=r.sibling}function qs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Si(4,r,r.return),qs(r);break;case 1:dr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&r_(r,r.return,a),qs(r);break;case 27:Sl(r.stateNode);case 26:case 5:dr(r,r.return),qs(r);break;case 22:r.memoizedState===null&&qs(r);break;case 30:qs(r);break;default:qs(r)}t=t.sibling}}function xi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:xi(h,d,a),ml(4,d);break;case 1:if(xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)qg(C[h],w)}catch(q){Xe(l,l.return,q)}}a&&E&64&&n_(d),pl(d,d.return);break;case 27:a_(d);case 26:case 5:xi(h,d,a),a&&l===null&&E&4&&i_(d),pl(d,d.return);break;case 12:xi(h,d,a);break;case 13:xi(h,d,a),a&&E&4&&h_(h,d);break;case 22:d.memoizedState===null&&xi(h,d,a),pl(d,d.return);break;case 30:break;default:xi(h,d,a)}r=r.sibling}}function vd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function Ed(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t))}function mr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m_(t,r,a,l),r=r.sibling}function m_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:mr(t,r,a,l),h&2048&&ml(9,r);break;case 1:mr(t,r,a,l);break;case 3:mr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){mr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Xe(r,r.return,C)}}else mr(t,r,a,l);break;case 13:mr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?mr(t,r,a,l):gl(t,r):d._visibility&2?mr(t,r,a,l):(d._visibility|=2,Ua(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&vd(E,r);break;case 24:mr(t,r,a,l),h&2048&&Ed(r.alternate,r);break;default:mr(t,r,a,l)}}function Ua(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,w=a,C=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:Ua(d,E,w,C,h),ml(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?Ua(d,E,w,C,h):gl(d,E):(Y._visibility|=2,Ua(d,E,w,C,h)),h&&q&2048&&vd(E.alternate,E);break;case 24:Ua(d,E,w,C,h),h&&q&2048&&Ed(E.alternate,E);break;default:Ua(d,E,w,C,h)}r=r.sibling}}function gl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&vd(l.alternate,l);break;case 24:gl(a,l),h&2048&&Ed(l.alternate,l);break;default:gl(a,l)}r=r.sibling}}var yl=8192;function za(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 26:za(t),t.flags&yl&&t.memoizedState!==null&&N1(Kn,t.memoizedState,t.memoizedProps);break;case 5:za(t);break;case 3:case 4:var r=Kn;Kn=kc(t.stateNode.containerInfo),za(t),Kn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=yl,yl=16777216,za(t),yl=r):za(t));break;default:za(t)}}function g_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function _l(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,__(l,t)}g_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y_(t),t=t.sibling}function y_(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Si(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,bc(t)):_l(t);break;default:_l(t)}}function bc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,__(l,t)}g_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Si(8,r,r.return),bc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,bc(r));break;default:bc(r)}t=t.sibling}}function __(t,r){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Si(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(u_(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var $w={getCacheForType:function(t){var r=Kt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Kw=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ne=null,Pe=0,Fe=0,yn=null,Ri=!1,Ba=!1,bd=!1,qr=0,ht=0,Ci=0,Hs=0,Td=0,kn=0,qa=0,vl=null,un=null,wd=!1,Sd=0,Tc=1/0,wc=null,Ii=null,zt=0,Ni=null,Ha=null,Fa=0,Ad=0,xd=null,v_=null,El=0,Rd=null;function _n(){if((He&2)!==0&&Pe!==0)return Pe&-Pe;if(Q.T!==null){var t=Da;return t!==0?t:Md()}return Sr()}function E_(){kn===0&&(kn=(Pe&536870912)===0||ze?No():536870912);var t=On.current;return t!==null&&(t.flags|=32),kn}function vn(t,r,a){(t===Ze&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Di(t,Pe,kn,!1)),ft(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Hs|=a),ht===4&&Di(t,Pe,kn,!1)),pr(t))}function b_(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ri(t,r),h=l?Xw(t,r):Nd(t,r,!0),d=l;do{if(h===0){Ba&&!l&&Di(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Qw(a)){h=Nd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var w=t;h=vl;var C=w.current.memoizedState.isDehydrated;if(C&&(Ga(w,E).flags|=256),E=Nd(w,E,!1),E!==2){if(bd&&!C){w.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),Di(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Di(l,r,kn,!Ri);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Sd+300-an(),10<h)){if(Di(l,r,kn,!Ri),Sn(l,0,!0)!==0)break e;l.timeoutHandle=X_(T_.bind(null,l,a,un,wc,wd,r,kn,Hs,qa,Ri,d,2,-0,0),h);break e}T_(l,a,un,wc,wd,r,kn,Hs,qa,Ri,d,0,-0,0)}}break}while(!0);pr(t)}function T_(t,r,a,l,h,d,E,w,C,q,Y,J,H,G){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:I1},p_(r),J=D1(),J!==null)){t.cancelPendingCommit=J(I_.bind(null,t,r,d,a,l,h,E,w,C,Y,1,H,G)),Di(t,d,E,!q);return}I_(t,r,d,a,l,h,E,w,C)}function Qw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Di(t,r,a,l){r&=~Td,r&=~Hs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Jt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&si(t,a,r)}function Sc(){return(He&6)===0?(bl(0),!1):!0}function Cd(){if(Ne!==null){if(Fe===0)var t=Ne.return;else t=Ne,Mr=Ls=null,Gf(t),La=null,hl=0,t=Ne;for(;t!==null;)t_(t.alternate,t),t=t.return;Ne=null}}function Ga(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,f1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cd(),Ze=t,Ne=a=Dr(t.current,null),Pe=r,Fe=0,yn=null,Ri=!1,Ba=ri(t,r),bd=!1,qa=kn=Td=Hs=Ci=ht=0,un=vl=null,wd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Jt(l),d=1<<h;r|=t[h],l&=~d}return qr=r,$u(),a}function w_(t,r){Ce=null,Q.H=hc,r===nl||r===tc?(r=zg(),Fe=3):r===Lg?(r=zg(),Fe=4):Fe=r===By?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,Ne===null&&(ht=1,gc(t,Cn(r,t.current)))}function S_(){var t=Q.H;return Q.H=hc,t===null?hc:t}function A_(){var t=Q.A;return Q.A=$w,t}function Id(){ht=4,Ri||(Pe&4194048)!==Pe&&On.current!==null||(Ba=!0),(Ci&134217727)===0&&(Hs&134217727)===0||Ze===null||Di(Ze,Pe,kn,!1)}function Nd(t,r,a){var l=He;He|=2;var h=S_(),d=A_();(Ze!==t||Pe!==r)&&(wc=null,Ga(t,r)),r=!1;var E=ht;e:do try{if(Fe!==0&&Ne!==null){var w=Ne,C=yn;switch(Fe){case 8:Cd(),E=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var q=Fe;if(Fe=0,yn=null,$a(t,w,C,q),a&&Ba){E=0;break e}break;default:q=Fe,Fe=0,yn=null,$a(t,w,C,q)}}Yw(),E=ht;break}catch(Y){w_(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Mr=Ls=null,He=l,Q.H=h,Q.A=d,Ne===null&&(Ze=null,Pe=0,$u()),E}function Yw(){for(;Ne!==null;)x_(Ne)}function Xw(t,r){var a=He;He|=2;var l=S_(),h=A_();Ze!==t||Pe!==r?(wc=null,Tc=an()+500,Ga(t,r)):Ba=ri(t,r);e:do try{if(Fe!==0&&Ne!==null){r=Ne;var d=yn;t:switch(Fe){case 1:Fe=0,yn=null,$a(t,r,d,1);break;case 2:case 9:if(jg(d)){Fe=0,yn=null,R_(r);break}r=function(){Fe!==2&&Fe!==9||Ze!==t||(Fe=7),pr(t)},d.then(r,r);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:jg(d)?(Fe=0,yn=null,R_(r)):(Fe=0,yn=null,$a(t,r,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var w=Ne;if(!E||l0(E)){Fe=0,yn=null;var C=w.sibling;if(C!==null)Ne=C;else{var q=w.return;q!==null?(Ne=q,Ac(q)):Ne=null}break t}}Fe=0,yn=null,$a(t,r,d,5);break;case 6:Fe=0,yn=null,$a(t,r,d,6);break;case 8:Cd(),ht=6;break e;default:throw Error(s(462))}}Ww();break}catch(Y){w_(t,Y)}while(!0);return Mr=Ls=null,Q.H=l,Q.A=h,He=a,Ne!==null?0:(Ze=null,Pe=0,$u(),ht)}function Ww(){for(;Ne!==null&&!rf();)x_(Ne)}function x_(t){var r=Jy(t.alternate,t,qr);t.memoizedProps=t.pendingProps,r===null?Ac(t):Ne=r}function R_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Ky(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=Ky(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Gf(r);default:t_(a,r),r=Ne=Cg(r,qr),r=Jy(a,r,qr)}t.memoizedProps=t.pendingProps,r===null?Ac(t):Ne=r}function $a(t,r,a,l){Mr=Ls=null,Gf(r),La=null,hl=0;var h=r.return;try{if(zw(t,h,r,a,Pe)){ht=1,gc(t,Cn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,gc(t,Cn(a,t.current)),Ne=null;return}r.flags&32768?(ze||l===1?t=!0:Ba||(Pe&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),C_(r,t)):Ac(r)}function Ac(t){var r=t;do{if((r.flags&32768)!==0){C_(r,Ri);return}t=r.return;var a=qw(r.alternate,r,qr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ht===0&&(ht=5)}function C_(t,r){do{var a=Hw(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function I_(t,r,a,l,h,d,E,w,C){t.cancelPendingCommit=null;do xc();while(zt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Ef,Iu(t,a,d,E,w,C),t===Ze&&(Ne=Ze=null,Pe=0),Ha=r,Ni=t,Fa=a,Ad=d,xd=h,v_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,t1(wr,function(){return M_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ae.p,ae.p=2,E=He,He|=4;try{Fw(t,r,a)}finally{He=E,ae.p=h,Q.T=l}}zt=1,N_(),D_(),O_()}}function N_(){if(zt===1){zt=0;var t=Ni,r=Ha,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{f_(r,t);var d=qd,E=_g(t.containerInfo),w=d.focusedElem,C=d.selectionRange;if(E!==w&&w&&w.ownerDocument&&yg(w.ownerDocument.documentElement,w)){if(C!==null&&pf(w)){var q=C.start,Y=C.end;if(Y===void 0&&(Y=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(Y,w.value.length);else{var J=w.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),Te=w.textContent.length,ye=Math.min(C.start,Te),Ye=C.end===void 0?ye:Math.min(C.end,Te);!G.extend&&ye>Ye&&(E=Ye,Ye=ye,ye=E);var L=gg(w,ye),k=gg(w,Ye);if(L&&k&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var U=J.createRange();U.setStart(L.node,L.offset),G.removeAllRanges(),ye>Ye?(G.addRange(U),G.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),G.addRange(U))}}}}for(J=[],G=w;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<J.length;w++){var X=J[w];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}jc=!!Bd,qd=Bd=null}finally{He=h,ae.p=l,Q.T=a}}t.current=r,zt=2}}function D_(){if(zt===2){zt=0;var t=Ni,r=Ha,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{l_(t,r.alternate,r)}finally{He=h,ae.p=l,Q.T=a}}zt=3}}function O_(){if(zt===4||zt===3){zt=0,Co();var t=Ni,r=Ha,a=Fa,l=v_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Ha=Ni=null,k_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ii=null),Oo(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ti,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=ae.p,ae.p=2,Q.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var w=l[E];d(w.value,{componentStack:w.stack})}}finally{Q.T=r,ae.p=h}}(Fa&3)!==0&&xc(),pr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Rd?El++:(El=0,Rd=t):El=0,bl(0)}}function k_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,el(r)))}function xc(t){return N_(),D_(),O_(),M_()}function M_(){if(zt!==5)return!1;var t=Ni,r=Ad;Ad=0;var a=Oo(Fa),l=Q.T,h=ae.p;try{ae.p=32>a?32:a,Q.T=null,a=xd,xd=null;var d=Ni,E=Fa;if(zt=0,Ha=Ni=null,Fa=0,(He&6)!==0)throw Error(s(331));var w=He;if(He|=4,y_(d.current),m_(d,d.current,E,a),He=w,bl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ti,d)}catch{}return!0}finally{ae.p=h,Q.T=l,k_(t,r)}}function V_(t,r,a){r=Cn(a,r),r=sd(t.stateNode,r,2),t=Ei(t,r,2),t!==null&&(ft(t,2),pr(t))}function Xe(t,r,a){if(t.tag===3)V_(t,t,a);else for(;r!==null;){if(r.tag===3){V_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ii===null||!Ii.has(l))){t=Cn(a,t),a=Uy(2),l=Ei(r,a,2),l!==null&&(zy(a,l,r,t),ft(l,2),pr(l));break}}r=r.return}}function Dd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Kw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(bd=!0,h.add(a),t=Zw.bind(null,t,r,a),r.then(t,t))}function Zw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Pe&a)===a&&(ht===4||ht===3&&(Pe&62914560)===Pe&&300>an()-Sd?(He&2)===0&&Ga(t,0):Td|=a,qa===Pe&&(qa=0)),pr(t)}function P_(t,r){r===0&&(r=ii()),t=Ra(t,r),t!==null&&(ft(t,r),pr(t))}function Jw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),P_(t,a)}function e1(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),P_(t,a)}function t1(t,r){return ls(t,r)}var Rc=null,Ka=null,Od=!1,Cc=!1,kd=!1,Fs=0;function pr(t){t!==Ka&&t.next===null&&(Ka===null?Rc=Ka=t:Ka=Ka.next=t),Cc=!0,Od||(Od=!0,r1())}function bl(t,r){if(!kd&&Cc){kd=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=h&~(E&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=Pe,d=Sn(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ri(l,d)||(a=!0,z_(l,d));l=l.next}while(a);kd=!1}}function n1(){L_()}function L_(){Cc=Od=!1;var t=0;Fs!==0&&(h1()&&(t=Fs),Fs=0);for(var r=an(),a=null,l=Rc;l!==null;){var h=l.next,d=j_(l,r);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Cc=!0)),l=h}bl(t)}function j_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Jt(d),w=1<<E,C=h[E];C===-1?((w&a)===0||(w&l)!==0)&&(h[E]=ca(w,r)):C<=r&&(t.expiredLanes|=w),d&=~w}if(r=Ze,a=Pe,a=Sn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ua(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ri(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ua(l),Oo(a)){case 2:case 8:a=Dt;break;case 32:a=wr;break;case 268435456:a=Io;break;default:a=wr}return l=U_.bind(null,t),a=ls(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ua(l),t.callbackPriority=2,t.callbackNode=null,2}function U_(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xc()&&t.callbackNode!==a)return null;var l=Pe;return l=Sn(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(b_(t,l,r),j_(t,an()),t.callbackNode!=null&&t.callbackNode===a?U_.bind(null,t):null)}function z_(t,r){if(xc())return null;b_(t,r,!0)}function r1(){d1(function(){(He&6)!==0?ls(At,n1):L_()})}function Md(){return Fs===0&&(Fs=No()),Fs}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function q_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function i1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=B_((h[jt]||null).action),E=l.submitter;E&&(r=(r=E[jt]||null)?B_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var w=new ws("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var C=E?q_(h,E):new FormData(h);ed(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(w.preventDefault(),C=E?q_(h,E):new FormData(h),ed(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Vd=0;Vd<vf.length;Vd++){var Pd=vf[Vd],s1=Pd.toLowerCase(),a1=Pd[0].toUpperCase()+Pd.slice(1);$n(s1,"on"+a1)}$n(bg,"onAnimationEnd"),$n(Tg,"onAnimationIteration"),$n(wg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(ww,"onTransitionRun"),$n(Sw,"onTransitionStart"),$n(Aw,"onTransitionCancel"),$n(Sg,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function H_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var w=l[E],C=w.instance,q=w.currentTarget;if(w=w.listener,C!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=q;try{d(h)}catch(Y){pc(Y)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(w=l[E],C=w.instance,q=w.currentTarget,w=w.listener,C!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=q;try{d(h)}catch(Y){pc(Y)}h.currentTarget=null,d=C}}}}function De(t,r){var a=r[cs];a===void 0&&(a=r[cs]=new Set);var l=t+"__bubble";a.has(l)||(F_(r,t,2,!1),a.add(l))}function Ld(t,r,a){var l=0;r&&(l|=4),F_(a,t,l,r)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Ic]){t[Ic]=!0,Nu.forEach(function(a){a!=="selectionchange"&&(o1.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ic]||(r[Ic]=!0,Ld("selectionchange",!1,r))}}function F_(t,r,a,l){switch(m0(r)){case 2:var h=M1;break;case 8:h=V1;break;default:h=Zd}a=h.bind(null,r,a,t),h=void 0,!Ir||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Ud(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;w!==null;){if(E=ir(w),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}w=w.parentNode}}l=l.return}Es(function(){var q=d,Y=Uo(a),J=[];e:{var H=Ag.get(t);if(H!==void 0){var G=ws,Te=t;switch(t){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":G=wa;break;case"focusin":Te="focus",G=Ea;break;case"focusout":Te="blur",G=Ea;break;case"beforeblur":case"afterblur":G=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=gi;break;case bg:case Tg:case wg:G=Bo;break;case Sg:G=y;break;case"scroll":case"scrollend":G=As;break;case"wheel":G=S;break;case"copy":case"cut":case"paste":G=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Fo;break;case"toggle":case"beforetoggle":G=$}var ye=(r&4)!==0,Ye=!ye&&(t==="scroll"||t==="scrollend"),L=ye?H!==null?H+"Capture":null:H;ye=[];for(var k=q,U;k!==null;){var X=k;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||L===null||(X=mi(k,L),X!=null&&ye.push(wl(k,X,U))),Ye)break;k=k.return}0<ye.length&&(H=new G(H,Te,null,a,Y),J.push({event:H,listeners:ye}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==jo&&(Te=a.relatedTarget||a.fromElement)&&(ir(Te)||Te[Ar]))break e;if((G||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Te=a.relatedTarget||a.toElement,G=q,Te=Te?ir(Te):null,Te!==null&&(Ye=u(Te),ye=Te.tag,Te!==Ye||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(G=null,Te=q),G!==Te)){if(ye=Cs,X="onMouseLeave",L="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Fo,X="onPointerLeave",L="onPointerEnter",k="pointer"),Ye=G==null?H:li(G),U=Te==null?H:li(Te),H=new ye(X,k+"leave",G,a,Y),H.target=Ye,H.relatedTarget=U,X=null,ir(Y)===q&&(ye=new ye(L,k+"enter",Te,a,Y),ye.target=U,ye.relatedTarget=Ye,X=ye),Ye=X,G&&Te)t:{for(ye=G,L=Te,k=0,U=ye;U;U=Qa(U))k++;for(U=0,X=L;X;X=Qa(X))U++;for(;0<k-U;)ye=Qa(ye),k--;for(;0<U-k;)L=Qa(L),U--;for(;k--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=Qa(ye),L=Qa(L)}ye=null}else ye=null;G!==null&&G_(J,H,G,ye,!1),Te!==null&&Ye!==null&&G_(J,Ye,Te,ye,!0)}}e:{if(H=q?li(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ce=cg;else if(lg(H))if(hg)ce=Ew;else{ce=_w;var Ie=yw}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&ya(q.elementType)&&(ce=cg):ce=vw;if(ce&&(ce=ce(t,q))){ug(J,ce,a,Y);break e}Ie&&Ie(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Vo(H,"number",H.value)}switch(Ie=q?li(q):window,t){case"focusin":(lg(Ie)||Ie.contentEditable==="true")&&(Sa=Ie,gf=q,Yo=null);break;case"focusout":Yo=gf=Sa=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,vg(J,a,Y);break;case"selectionchange":if(Tw)break;case"keydown":case"keyup":vg(J,a,Y)}var de;if(Ae)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Gn?Hn(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(pt&&a.locale!=="ko"&&(Gn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Gn&&(de=Pu()):(Rn=Y,We="value"in Rn?Rn.value:Rn.textContent,Gn=!0)),Ie=Nc(q,_e),0<Ie.length&&(_e=new Ho(_e,t,null,a,Y),J.push({event:_e,listeners:Ie}),de?_e.data=de:(de=Fn(a),de!==null&&(_e.data=de)))),(de=qe?Go(t,a):mw(t,a))&&(_e=Nc(q,"onBeforeInput"),0<_e.length&&(Ie=new Ho("onBeforeInput","beforeinput",null,a,Y),J.push({event:Ie,listeners:_e}),Ie.data=de)),i1(J,t,q,a,Y)}H_(J,r)})}function wl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Nc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=mi(t,a),h!=null&&l.unshift(wl(t,h,d)),h=mi(t,r),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,r,a,l,h){for(var d=r._reactName,E=[];a!==null&&a!==l;){var w=a,C=w.alternate,q=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||q===null||(C=q,h?(q=mi(a,d),q!=null&&E.unshift(wl(a,q,C))):h||(q=mi(a,d),q!=null&&E.push(wl(a,q,C)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var l1=/\r\n?/g,u1=/\u0000|\uFFFD/g;function $_(t){return(typeof t=="string"?t:""+t).replace(l1,`
`).replace(u1,"")}function K_(t,r){return r=$_(r),$_(t)===r}function Dc(){}function Qe(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(t,""+l);break;case"className":ps(t,"class",l);break;case"tabIndex":ps(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ps(t,a,l);break;case"style":Lo(t,l,d);break;case"data":if(r!=="object"){ps(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Qe(t,r,"name",h.name,h,null),Qe(t,r,"formEncType",h.formEncType,h,null),Qe(t,r,"formMethod",h.formMethod,h,null),Qe(t,r,"formTarget",h.formTarget,h,null)):(Qe(t,r,"encType",h.encType,h,null),Qe(t,r,"method",h.method,h,null),Qe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ms(t,"popover",l);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ms(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ku.get(a)||a,ms(t,a,l))}}function zd(t,r,a,l,h,d){switch(a){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ms(t,a,l)}}}function Bt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,d,E,a,null)}}h&&Qe(t,r,"srcSet",a.srcSet,a,null),l&&Qe(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var w=d=E=h=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":E=Y;break;case"checked":C=Y;break;case"defaultChecked":q=Y;break;case"value":d=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Qe(t,r,l,Y,a,null)}}Mo(t,d,w,C,q,E,h,!1),hi(t);return;case"select":De("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:Qe(t,r,h,w,a,null)}r=d,a=E,t.multiple=!!l,r!=null?fi(t,!!l,r,!1):a!=null&&fi(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Qe(t,r,E,w,a,null)}Ou(t,l,h,d),hi(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,r,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)De(Tl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,q,l,a,null)}return;default:if(ya(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&zd(t,r,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Qe(t,r,w,l,a,null))}function c1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,C=null,q=null,Y=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(G)||Qe(t,r,G,null,l,J)}}for(var H in l){var G=l[H];if(J=a[H],l.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":Y=G;break;case"value":E=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==J&&Qe(t,r,H,G,l,J)}}ko(t,E,w,C,q,Y,d,h);return;case"select":G=E=w=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Qe(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==C&&Qe(t,r,h,d,l,C)}r=w,a=E,l=G,H!=null?fi(t,!!a,H,!1):!!l!=!!a&&(r!=null?fi(t,!!a,r,!0):fi(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Qe(t,r,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qe(t,r,E,h,l,d)}Du(t,H,G);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Qe(t,r,Te,null,l,H)}for(C in l)if(H=l[C],G=a[C],l.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Qe(t,r,C,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Qe(t,r,ye,null,l,H);for(q in l)if(H=l[q],G=a[q],l.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Qe(t,r,q,H,l,G)}return;default:if(ya(r)){for(var Ye in a)H=a[Ye],a.hasOwnProperty(Ye)&&H!==void 0&&!l.hasOwnProperty(Ye)&&zd(t,r,Ye,void 0,l,H);for(Y in l)H=l[Y],G=a[Y],!l.hasOwnProperty(Y)||H===G||H===void 0&&G===void 0||zd(t,r,Y,H,l,G);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Qe(t,r,L,null,l,H);for(J in l)H=l[J],G=a[J],!l.hasOwnProperty(J)||H===G||H==null&&G==null||Qe(t,r,J,H,l,G)}var Bd=null,qd=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function Q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Hd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fd=null;function h1(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,f1=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(m1)}:X_;function m1(t){setTimeout(function(){throw t})}function Oi(t){return t==="head"}function Z_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Sl(E.documentElement),a&2&&Sl(E.body),a&4)for(a=E.head,Sl(a),E=a.firstChild;E;){var w=E.nextSibling,C=E.nodeName;E[oi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(h===0){t.removeChild(d),Ol(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ol(r)}function Gd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function p1(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[oi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function g1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function y1(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Kd=null;function J_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function e0(t,r,a){switch(r=Oc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Sl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);fa(t)}var Mn=new Map,t0=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hr=ae.d;ae.d={f:_1,r:v1,D:E1,C:b1,L:T1,m:w1,X:A1,S:S1,M:x1};function _1(){var t=Hr.f(),r=Sc();return t||r}function v1(t){var r=sr(t);r!==null&&r.tag===5&&r.type==="form"?by(r):Hr.r(t)}var Ya=typeof document>"u"?null:document;function n0(t,r,a){var l=Ya;if(l&&typeof r=="string"&&r){var h=Ot(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),t0.has(h)||(t0.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Bt(r,"link",t),mt(r),l.head.appendChild(r)))}}function E1(t){Hr.D(t),n0("dns-prefetch",t,null)}function b1(t,r){Hr.C(t,r),n0("preconnect",t,r)}function T1(t,r,a){Hr.L(t,r,a);var l=Ya;if(l&&t&&r){var h='link[rel="preload"][as="'+Ot(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ot(a.imageSizes)+'"]')):h+='[href="'+Ot(t)+'"]';var d=h;switch(r){case"style":d=Xa(t);break;case"script":d=Wa(t)}Mn.has(d)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Mn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Al(d))||r==="script"&&l.querySelector(xl(d))||(r=l.createElement("link"),Bt(r,"link",t),mt(r),l.head.appendChild(r)))}}function w1(t,r){Hr.m(t,r);var a=Ya;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Mn.has(d)&&(t=_({rel:"modulepreload",href:t},r),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),Bt(l,"link",t),mt(l),a.head.appendChild(l)}}}function S1(t,r,a){Hr.S(t,r,a);var l=Ya;if(l&&t){var h=ui(l).hoistableStyles,d=Xa(t);r=r||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Al(d)))w.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Mn.get(d))&&Qd(t,a);var C=E=l.createElement("link");mt(C),Bt(C,"link",t),C._p=new Promise(function(q,Y){C.onload=q,C.onerror=Y}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Mc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function A1(t,r){Hr.X(t,r);var a=Ya;if(a&&t){var l=ui(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=_({src:t,async:!0},r),(r=Mn.get(h))&&Yd(t,r),d=a.createElement("script"),mt(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function x1(t,r){Hr.M(t,r);var a=Ya;if(a&&t){var l=ui(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=_({src:t,async:!0,type:"module"},r),(r=Mn.get(h))&&Yd(t,r),d=a.createElement("script"),mt(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function r0(t,r,a,l){var h=(h=be.current)?kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Xa(a.href),a=ui(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=ui(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Al(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||R1(h,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wa(a),a=ui(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+Ot(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function i0(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function R1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Bt(r,"link",a),mt(r),t.head.appendChild(r))}function Wa(t){return'[src="'+Ot(t)+'"]'}function xl(t){return"script[async]"+t}function s0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Bt(l,"style",h),Mc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Xa(a.href);var d=t.querySelector(Al(h));if(d)return r.state.loading|=4,r.instance=d,mt(d),d;l=i0(a),(h=Mn.get(h))&&Qd(l,h),d=(t.ownerDocument||t).createElement("link"),mt(d);var E=d;return E._p=new Promise(function(w,C){E.onload=w,E.onerror=C}),Bt(d,"link",l),r.state.loading|=4,Mc(d,a.precedence,t),r.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(xl(d)))?(r.instance=h,mt(h),h):(l=a,(h=Mn.get(d))&&(l=_({},a),Yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),Bt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Mc(l,a.precedence,t));return r.instance}function Mc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Yd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Vc=null;function a0(t,r,a){if(Vc===null){var l=new Map,h=Vc=new Map;h.set(a,l)}else h=Vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[oi]||d[dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function o0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function C1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function l0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function I1(){}function N1(t,r,a){if(Rl===null)throw Error(s(475));var l=Rl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xa(a.href),d=t.querySelector(Al(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,mt(d);return}d=t.ownerDocument||t,a=i0(a),(h=Mn.get(h))&&Qd(a,h),d=d.createElement("link"),mt(d);var E=d;E._p=new Promise(function(w,C){E.onload=w,E.onerror=C}),Bt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Pc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function D1(){if(Rl===null)throw Error(s(475));var t=Rl;return t.stylesheets&&t.count===0&&Xd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Xd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Xd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,r.forEach(O1,t),Lc=null,Pc.call(t))}function O1(t,r){if(!(r.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Cl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function k1(t,r,a,l,h,d,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.hiddenUpdates=ha(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function u0(t,r,a,l,h,d,E,w,C,q,Y,J){return t=new k1(t,r,a,E,w,C,q,J),r=1,d===!0&&(r|=24),d=mn(3,null,null,r),t.current=d,d.stateNode=t,r=Df(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Vf(d),t}function c0(t){return t?(t=Ca,t):Ca}function h0(t,r,a,l,h,d){h=c0(h),l.context===null?l.context=h:l.pendingContext=h,l=vi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ei(t,l,r),a!==null&&(vn(a,t,r),il(a,t,r))}function f0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Wd(t,r){f0(t,r),(t=t.alternate)&&f0(t,r)}function d0(t){if(t.tag===13){var r=Ra(t,67108864);r!==null&&vn(r,t,67108864),Wd(t,67108864)}}var jc=!0;function M1(t,r,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=2,Zd(t,r,a,l)}finally{ae.p=d,Q.T=h}}function V1(t,r,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=8,Zd(t,r,a,l)}finally{ae.p=d,Q.T=h}}function Zd(t,r,a,l){if(jc){var h=Jd(l);if(h===null)Ud(t,r,l,Uc,a),p0(t,l);else if(L1(h,t,r,a,l))l.stopPropagation();else if(p0(t,l),r&4&&-1<P1.indexOf(t)){for(;h!==null;){var d=sr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Un(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var C=1<<31-Jt(E);w.entanglements[1]|=C,E&=~C}pr(d),(He&6)===0&&(Tc=an()+500,bl(0))}}break;case 13:w=Ra(d,2),w!==null&&vn(w,d,2),Sc(),Wd(d,2)}if(d=Jd(l),d===null&&Ud(t,r,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ud(t,r,l,null,a)}}function Jd(t){return t=Uo(t),em(t)}var Uc=null;function em(t){if(Uc=null,t=ir(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Uc=t,null}function m0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xu()){case At:return 2;case Dt:return 8;case wr:case sf:return 32;case Io:return 268435456;default:return 32}default:return 32}}var tm=!1,ki=null,Mi=null,Vi=null,Il=new Map,Nl=new Map,Pi=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p0(t,r){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Il.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(r.pointerId)}}function Dl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=sr(r),r!==null&&d0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function L1(t,r,a,l,h){switch(r){case"focusin":return ki=Dl(ki,t,r,a,l,h),!0;case"dragenter":return Mi=Dl(Mi,t,r,a,l,h),!0;case"mouseover":return Vi=Dl(Vi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Dl(Il.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Dl(Nl.get(d)||null,t,r,a,l,h)),!0}return!1}function g0(t){var r=ir(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,lf(t.priority,function(){if(a.tag===13){var l=_n();l=Do(l);var h=Ra(a,l);h!==null&&vn(h,a,l),Wd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);jo=l,a.target.dispatchEvent(l),jo=null}else return r=sr(a),r!==null&&d0(r),t.blockedOn=a,!1;r.shift()}return!0}function y0(t,r,a){zc(t)&&a.delete(r)}function j1(){tm=!1,ki!==null&&zc(ki)&&(ki=null),Mi!==null&&zc(Mi)&&(Mi=null),Vi!==null&&zc(Vi)&&(Vi=null),Il.forEach(y0),Nl.forEach(y0)}function Bc(t,r){t.blockedOn===r&&(t.blockedOn=null,tm||(tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,j1)))}var qc=null;function _0(t){qc!==t&&(qc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(em(l||a)===null)continue;break}var d=sr(a);d!==null&&(t.splice(r,3),r-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ol(t){function r(C){return Bc(C,t)}ki!==null&&Bc(ki,t),Mi!==null&&Bc(Mi,t),Vi!==null&&Bc(Vi,t),Il.forEach(r),Nl.forEach(r);for(var a=0;a<Pi.length;a++){var l=Pi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pi.length&&(a=Pi[0],a.blockedOn===null);)g0(a),a.blockedOn===null&&Pi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[jt]||null;if(typeof d=="function")E||_0(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[jt]||null)w=E.formAction;else if(em(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),_0(a)}}}function nm(t){this._internalRoot=t}Hc.prototype.render=nm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();h0(a,l,t,r,null,null)},Hc.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;h0(t.current,2,null,t,null,null),Sc(),r[Ar]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Sr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Pi.length&&r!==0&&r<Pi[a].priority;a++);Pi.splice(a,0,t),a===0&&g0(t)}};var v0=e.version;if(v0!=="19.1.1")throw Error(s(527,v0,"19.1.1"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var U1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{ti=Fc.inject(U1),Gt=Fc}catch{}}return Ml.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Vy,d=Py,E=Ly,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=u0(t,1,!1,null,null,a,l,h,d,E,w,null),t[Ar]=r.current,jd(t),new nm(r)},Ml.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Vy,E=Py,w=Ly,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=u0(t,1,!0,r,a??null,l,h,d,E,w,C,q),r.context=c0(null),a=r.current,l=_n(),l=Do(l),h=vi(l),h.callback=null,Ei(a,h,l),a=l,r.current.lanes=a,ft(r,a),pr(r),t[Ar]=r.current,jd(t),new Hc(r)},Ml.version="19.1.1",Ml}var I0;function Y1(){if(I0)return sm.exports;I0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sm.exports=Q1(),sm.exports}var X1=Y1();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N0="popstate";function W1(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=na(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),wm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Xl(u))}function s(o,u){Pn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return J1(e,n,s,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Pn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z1(){return Math.random().toString(36).substring(2,10)}function D0(i,e){return{usr:i.state,key:i.key,idx:e}}function wm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:n,key:e&&e.key||s||Z1()}}function Xl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function na(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function J1(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=_();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function _(){return(f.state||{idx:null}).idx}function T(){m="POP";let F=_(),Z=F==null?null:F-g;g=F,p&&p({action:m,location:K.location,delta:Z})}function A(F,Z){m="PUSH";let te=wm(K.location,F,Z);n&&n(te,F),g=_()+1;let ie=D0(te,g),Se=K.createHref(te);try{f.pushState(ie,"",Se)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(Se)}u&&p&&p({action:m,location:K.location,delta:1})}function V(F,Z){m="REPLACE";let te=wm(K.location,F,Z);n&&n(te,F),g=_();let ie=D0(te,g),Se=K.createHref(te);f.replaceState(ie,"",Se),u&&p&&p({action:m,location:K.location,delta:0})}function B(F){return eS(F)}let K={get action(){return m},get location(){return i(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(N0,T),p=F,()=>{o.removeEventListener(N0,T),p=null}},createHref(F){return e(o,F)},createURL:B,encodeLocation(F){let Z=B(F);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:V,go(F){return f.go(F)}};return K}function eS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Xl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pE(i,e,n="/"){return tS(i,e,n,!1)}function tS(i,e,n,s){let o=typeof e=="string"?na(e):e,u=Yr(o.pathname||"/",n);if(u==null)return null;let f=gE(i);nS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=dS(u);m=hS(f[p],g,s)}return m}function gE(i,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let _={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;st(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=Kr([s,_.relativePath]),A=n.concat(_);f.children&&f.children.length>0&&(st(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),gE(f.children,e,A,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:uS(T,f.index),routesMeta:A})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of yE(f.path))u(f,m,!0,p)}),e}function yE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=yE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function nS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:cS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var rS=/^:[\w-]+$/,iS=3,sS=2,aS=1,oS=10,lS=-2,O0=i=>i==="*";function uS(i,e){let n=i.split("/"),s=n.length;return n.some(O0)&&(s+=lS),e&&(s+=sS),n.filter(o=>!O0(o)).reduce((o,u)=>o+(rS.test(u)?iS:u===""?aS:oS),s)}function cS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function hS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Kr([u,T.pathname]),pathnameBase:yS(Kr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=Kr([u,T.pathnameBase]))}return f}function ch(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=fS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},A)=>{if(_==="*"){let B=m[A]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const V=m[A];return T&&!V?g[_]=void 0:g[_]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function fS(i,e=!1,n=!0){Pn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function mS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?na(i):i;return{pathname:n?n.startsWith("/")?n:pS(n,e):e,search:_S(s),hash:vS(o)}}function pS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function um(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rp(i){let e=gS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ip(i,e,n,s=!1){let o;typeof i=="string"?o=na(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),um("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),um("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),um("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=mS(o,m),g=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Kr=i=>i.join("/").replace(/\/\/+/g,"/"),yS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),_S=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,vS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ES(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var bS=["GET",..._E];new Set(bS);var go=M.createContext(null);go.displayName="DataRouter";var kh=M.createContext(null);kh.displayName="DataRouterState";M.createContext(!1);var vE=M.createContext({isTransitioning:!1});vE.displayName="ViewTransition";var TS=M.createContext(new Map);TS.displayName="Fetchers";var wS=M.createContext(null);wS.displayName="Await";var Jn=M.createContext(null);Jn.displayName="Navigation";var fu=M.createContext(null);fu.displayName="Location";var er=M.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var sp=M.createContext(null);sp.displayName="RouteError";function SS(i,{relative:e}={}){st(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(Jn),{hash:o,pathname:u,search:f}=du(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Kr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function yo(){return M.useContext(fu)!=null}function ns(){return st(yo(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(fu).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bE(i){M.useContext(Jn).static||M.useLayoutEffect(i)}function Tn(){let{isDataRoute:i}=M.useContext(er);return i?LS():AS()}function AS(){st(yo(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(go),{basename:e,navigator:n}=M.useContext(Jn),{matches:s}=M.useContext(er),{pathname:o}=ns(),u=JSON.stringify(rp(s)),f=M.useRef(!1);return bE(()=>{f.current=!0}),M.useCallback((p,g={})=>{if(Pn(f.current,EE),!f.current)return;if(typeof p=="number"){n.go(p);return}let _=ip(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Kr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,i])}M.createContext(null);function TE(){let{matches:i}=M.useContext(er),e=i[i.length-1];return e?e.params:{}}function du(i,{relative:e}={}){let{matches:n}=M.useContext(er),{pathname:s}=ns(),o=JSON.stringify(rp(n));return M.useMemo(()=>ip(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function xS(i,e){return wE(i,e)}function wE(i,e,n,s,o){st(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=M.useContext(Jn),{matches:f}=M.useContext(er),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let te=T&&T.path||"";SE(g,!T||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let A=ns(),V;if(e){let te=typeof e=="string"?na(e):e;st(_==="/"||te.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${te.pathname}" was given in the \`location\` prop.`),V=te}else V=A;let B=V.pathname||"/",K=B;if(_!=="/"){let te=_.replace(/^\//,"").split("/");K="/"+B.replace(/^\//,"").split("/").slice(te.length).join("/")}let F=pE(i,{pathname:K});Pn(T||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Pn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=DS(F&&F.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:Kr([_,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?_:Kr([_,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&Z?M.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Z):Z}function RS(){let i=PS(),e=ES(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,f)}var CS=M.createElement(RS,null),IS=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?M.createElement(er.Provider,{value:this.props.routeContext},M.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NS({routeContext:i,match:e,children:n}){let s=M.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(er.Provider,{value:i},n)}function DS(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let g=u.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:A}=n,V=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||V){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,T)=>{let A,V=!1,B=null,K=null;n&&(A=f&&_.route.id?f[_.route.id]:void 0,B=_.route.errorElement||CS,m&&(p<0&&T===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,K=null):p===T&&(V=!0,K=_.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,T+1)),Z=()=>{let te;return A?te=B:V?te=K:_.route.Component?te=M.createElement(_.route.Component,null):_.route.element?te=_.route.element:te=g,M.createElement(NS,{match:_,routeContext:{outlet:g,matches:F,isDataRoute:n!=null},children:te})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?M.createElement(IS,{location:n.location,revalidation:n.revalidation,component:B,error:A,children:Z(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):Z()},null)}function ap(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(i){let e=M.useContext(go);return st(e,ap(i)),e}function kS(i){let e=M.useContext(kh);return st(e,ap(i)),e}function MS(i){let e=M.useContext(er);return st(e,ap(i)),e}function op(i){let e=MS(i),n=e.matches[e.matches.length-1];return st(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function VS(){return op("useRouteId")}function PS(){let i=M.useContext(sp),e=kS("useRouteError"),n=op("useRouteError");return i!==void 0?i:e.errors?.[n]}function LS(){let{router:i}=OS("useNavigate"),e=op("useNavigate"),n=M.useRef(!1);return bE(()=>{n.current=!0}),M.useCallback(async(o,u={})=>{Pn(n.current,EE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var k0={};function SE(i,e,n){!e&&!k0[i]&&(k0[i]=!0,Pn(!1,n))}M.memo(jS);function jS({routes:i,future:e,state:n,unstable_onError:s}){return wE(i,void 0,n,s,e)}function Vl({to:i,replace:e,state:n,relative:s}){st(yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(Jn);Pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=M.useContext(er),{pathname:f}=ns(),m=Tn(),p=ip(i,rp(u),f,s==="path"),g=JSON.stringify(p);return M.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function sn(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function US({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=M.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=na(n));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:A="default"}=n,V=M.useMemo(()=>{let B=Yr(p,f);return B==null?null:{location:{pathname:B,search:g,hash:_,state:T,key:A},navigationType:s}},[f,p,g,_,T,A,s]);return Pn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:M.createElement(Jn.Provider,{value:m},M.createElement(fu.Provider,{children:e,value:V}))}function M0({children:i,location:e}){return xS(Sm(i),e)}function Sm(i,e=[]){let n=[];return M.Children.forEach(i,(s,o)=>{if(!M.isValidElement(s))return;let u=[...e,o];if(s.type===M.Fragment){n.push.apply(n,Sm(s.props.children,u));return}st(s.type===sn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),n.push(f)}),n}var Zc="get",Jc="application/x-www-form-urlencoded";function Mh(i){return i!=null&&typeof i.tagName=="string"}function zS(i){return Mh(i)&&i.tagName.toLowerCase()==="button"}function BS(i){return Mh(i)&&i.tagName.toLowerCase()==="form"}function qS(i){return Mh(i)&&i.tagName.toLowerCase()==="input"}function HS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function FS(i,e){return i.button===0&&(!e||e==="_self")&&!HS(i)}var Gc=null;function GS(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var $S=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(i){return i!=null&&!$S.has(i)?(Pn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):i}function KS(i,e){let n,s,o,u,f;if(BS(i)){let m=i.getAttribute("action");s=m?Yr(m,e):null,n=i.getAttribute("method")||Zc,o=cm(i.getAttribute("enctype"))||Jc,u=new FormData(i)}else if(zS(i)||qS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Yr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=cm(i.getAttribute("formenctype"))||cm(m.getAttribute("enctype"))||Jc,u=new FormData(m,i),!GS()){let{name:g,type:_,value:T}=i;if(_==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Mh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=Jc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function QS(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Yr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function YS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function WS(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await YS(u,n);return f.links?f.links():[]}return[]}));return tA(s.flat(1).filter(XS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V0(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function ZS(i,e,{includeHydrateFallback:n}={}){return JS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JS(i){return[...new Set(i)]}function eA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function tA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(eA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function AE(){let i=M.useContext(go);return lp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function nA(){let i=M.useContext(kh);return lp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var up=M.createContext(void 0);up.displayName="FrameworkContext";function xE(){let i=M.useContext(up);return lp(i,"You must render this element inside a <HydratedRouter> element"),i}function rA(i,e){let n=M.useContext(up),[s,o]=M.useState(!1),[u,f]=M.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,A=M.useRef(null);M.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=Z=>{Z.forEach(te=>{f(te.isIntersecting)})},F=new IntersectionObserver(K,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[i]),M.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let V=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Pl(m,V),onBlur:Pl(p,B),onMouseEnter:Pl(g,V),onMouseLeave:Pl(_,B),onTouchStart:Pl(T,V)}]:[!1,A,{}]}function Pl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function iA({page:i,...e}){let{router:n}=AE(),s=M.useMemo(()=>pE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?M.createElement(aA,{page:i,matches:s,...e}):null}function sA(i){let{manifest:e,routeModules:n}=xE(),[s,o]=M.useState([]);return M.useEffect(()=>{let u=!1;return WS(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function aA({page:i,matches:e,...n}){let s=ns(),{manifest:o,routeModules:u}=xE(),{basename:f}=AE(),{loaderData:m,matches:p}=nA(),g=M.useMemo(()=>V0(i,e,p,o,s,"data"),[i,e,p,o,s]),_=M.useMemo(()=>V0(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=M.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let B=new Set,K=!1;if(e.forEach(Z=>{let te=o.routes[Z.route.id];!te||!te.hasLoader||(!g.some(ie=>ie.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||te.hasClientLoader?K=!0:B.add(Z.route.id))}),B.size===0)return[];let F=QS(i,f,"data");return K&&B.size>0&&F.searchParams.set("_routes",e.filter(Z=>B.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,i,u]),A=M.useMemo(()=>ZS(_,o),[_,o]),V=sA(_);return M.createElement(M.Fragment,null,T.map(B=>M.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),A.map(B=>M.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),V.map(({key:B,link:K})=>M.createElement("link",{key:B,nonce:n.nonce,...K})))}function oA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RE&&(window.__reactRouterVersion="7.9.3")}catch{}function lA({basename:i,children:e,window:n}){let s=M.useRef();s.current==null&&(s.current=W1({window:n,v5Compat:!0}));let o=s.current,[u,f]=M.useState({action:o.action,location:o.location}),m=M.useCallback(p=>{M.startTransition(()=>f(p))},[f]);return M.useLayoutEffect(()=>o.listen(m),[o,m]),M.createElement(US,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vh=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,...A},V){let{basename:B}=M.useContext(Jn),K=typeof g=="string"&&CE.test(g),F,Z=!1;if(typeof g=="string"&&K&&(F=g,RE))try{let R=new URL(window.location.href),P=g.startsWith("//")?new URL(R.protocol+g):new URL(g),O=Yr(P.pathname,B);P.origin===R.origin&&O!=null?g=O+P.search+P.hash:Z=!0}catch{Pn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=SS(g,{relative:o}),[ie,Se,he]=rA(s,A),fe=hA(g,{replace:f,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T});function N(R){e&&e(R),R.defaultPrevented||fe(R)}let x=M.createElement("a",{...A,...he,href:F||te,onClick:Z||u?e:N,ref:oA(V,Se),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ie&&!K?M.createElement(M.Fragment,null,x,M.createElement(iA,{page:te})):x});Vh.displayName="Link";var hh=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},_){let T=du(f,{relative:g.relative}),A=ns(),V=M.useContext(kh),{navigator:B,basename:K}=M.useContext(Jn),F=V!=null&&gA(T)&&m===!0,Z=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,te=A.pathname,ie=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,Z=Z.toLowerCase()),ie&&K&&(ie=Yr(ie,K)||ie);const Se=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let he=te===Z||!o&&te.startsWith(Z)&&te.charAt(Se)==="/",fe=ie!=null&&(ie===Z||!o&&ie.startsWith(Z)&&ie.charAt(Z.length)==="/"),N={isActive:he,isPending:fe,isTransitioning:F},x=he?e:void 0,R;typeof s=="function"?R=s(N):R=[s,he?"active":null,fe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(N):u;return M.createElement(Vh,{...g,"aria-current":x,className:R,ref:_,style:P,to:f,viewTransition:m},typeof p=="function"?p(N):p)});hh.displayName="NavLink";var uA=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...A},V)=>{let B=mA(),K=pA(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&CE.test(m),te=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let Se=ie.nativeEvent.submitter,he=Se?.getAttribute("formmethod")||f;B(Se||ie.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T})};return M.createElement("form",{ref:V,method:F,action:K,onSubmit:s?p:te,...A,"data-discover":!Z&&i==="render"?"true":void 0})});uA.displayName="Form";function cA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IE(i){let e=M.useContext(go);return st(e,cA(i)),e}function hA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Tn(),p=ns(),g=du(i,{relative:u});return M.useCallback(_=>{if(FS(_,e)){_.preventDefault();let T=n!==void 0?n:Xl(p)===Xl(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var fA=0,dA=()=>`__${String(++fA)}__`;function mA(){let{router:i}=IE("useSubmit"),{basename:e}=M.useContext(Jn),n=VS();return M.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=KS(s,e);if(o.navigate===!1){let _=o.fetcherKey||dA();await i.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function pA(i,{relative:e}={}){let{basename:n}=M.useContext(Jn),s=M.useContext(er);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(i||".",{relative:e})},f=ns();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Kr([n,u.pathname])),Xl(u)}function gA(i,{relative:e}={}){let n=M.useContext(vE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=IE("useViewTransitionState"),o=du(i,{relative:e});if(!n.isTransitioning)return!1;let u=Yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}const yA=()=>{};var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_A=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(A=64)),s.push(n[_],n[T],n[A],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(NE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):_A(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new vA;const A=u<<2|m>>4;if(s.push(A),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const B=g<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EA=function(i){const e=NE(i);return DE.encodeByteArray(e,!0)},fh=function(i){return EA(i).replace(/\./g,"")},OE=function(i){try{return DE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=()=>bA().__FIREBASE_DEFAULTS__,wA=()=>{if(typeof process>"u"||typeof P0>"u")return;const i=P0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},SA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&OE(i[1]);return e&&JSON.parse(e)},Ph=()=>{try{return yA()||TA()||wA()||SA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},kE=i=>Ph()?.emulatorHosts?.[i],AA=i=>{const e=kE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ME=()=>Ph()?.config,VE=i=>Ph()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}const Fl={};function CA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?i.emulator.push(e):i.prod.push(e);return i}function IA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let L0=!1;function LE(i,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Fl[i]===e||Fl[i]||L0)return;Fl[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=CA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{L0=!0,f()},A}function _(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=IA(s),V=n("text"),B=document.getElementById(V)||document.createElement("span"),K=n("learnmore"),F=document.getElementById(K)||document.createElement("a"),Z=n("preprendIcon"),te=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),_(F,K);const Se=g();p(te,Z),ie.append(te,B,F,Se),document.body.appendChild(ie)}u?(B.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function DA(){const i=Ph()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function MA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VA(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function PA(){return!DA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function jA(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="FirebaseError";class tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=UA,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?zA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new tr(o,m,s)}}function zA(i,e){return i.replace(BA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BA=/\{\$([^}]+)}/g;function qA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(j0(u)&&j0(f)){if(!Xs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function j0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function HA(i,e){const n=new FA(i,e);return n.subscribe.bind(n)}class FA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i){return i&&i._delegate?i._delegate:i}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new xA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QA(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KA(i){return i===Gs?void 0:i}function QA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $A(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const XA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},WA=ke.INFO,ZA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},JA=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=ZA[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=WA,this._logHandler=JA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const ex=(i,e)=>e.some(n=>i instanceof n);let U0,z0;function tx(){return U0||(U0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nx(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,Am=new WeakMap,UE=new WeakMap,fm=new WeakMap,hp=new WeakMap;function rx(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Fi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&jE.set(n,i)}).catch(()=>{}),hp.set(e,i),e}function ix(i){if(Am.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Am.set(i,e)}let xm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Am.get(i);if(e==="objectStoreNames")return i.objectStoreNames||UE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function sx(i){xm=i(xm)}function ax(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(dm(this),e,...n);return UE.set(s,e.sort?e.sort():[e]),Fi(s)}:nx().includes(i)?function(...e){return i.apply(dm(this),e),Fi(jE.get(this))}:function(...e){return Fi(i.apply(dm(this),e))}}function ox(i){return typeof i=="function"?ax(i):(i instanceof IDBTransaction&&ix(i),ex(i,tx())?new Proxy(i,xm):i)}function Fi(i){if(i instanceof IDBRequest)return rx(i);if(fm.has(i))return fm.get(i);const e=ox(i);return e!==i&&(fm.set(i,e),hp.set(e,i)),e}const dm=i=>hp.get(i);function lx(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Fi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Fi(f.result),p.oldVersion,p.newVersion,Fi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ux=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],mm=new Map;function B0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=cx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ux.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return mm.set(e,u),u}sx(i=>({...i,get:(e,n,s)=>B0(e,n)||i.get(e,n,s),has:(e,n)=>!!B0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fx(i){return i.getComponent()?.type==="VERSION"}const Rm="@firebase/app",q0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new cp("@firebase/app"),dx="@firebase/app-compat",mx="@firebase/analytics-compat",px="@firebase/analytics",gx="@firebase/app-check-compat",yx="@firebase/app-check",_x="@firebase/auth",vx="@firebase/auth-compat",Ex="@firebase/database",bx="@firebase/data-connect",Tx="@firebase/database-compat",wx="@firebase/functions",Sx="@firebase/functions-compat",Ax="@firebase/installations",xx="@firebase/installations-compat",Rx="@firebase/messaging",Cx="@firebase/messaging-compat",Ix="@firebase/performance",Nx="@firebase/performance-compat",Dx="@firebase/remote-config",Ox="@firebase/remote-config-compat",kx="@firebase/storage",Mx="@firebase/storage-compat",Vx="@firebase/firestore",Px="@firebase/ai",Lx="@firebase/firestore-compat",jx="firebase",Ux="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",zx={[Rm]:"fire-core",[dx]:"fire-core-compat",[px]:"fire-analytics",[mx]:"fire-analytics-compat",[yx]:"fire-app-check",[gx]:"fire-app-check-compat",[_x]:"fire-auth",[vx]:"fire-auth-compat",[Ex]:"fire-rtdb",[bx]:"fire-data-connect",[Tx]:"fire-rtdb-compat",[wx]:"fire-fn",[Sx]:"fire-fn-compat",[Ax]:"fire-iid",[xx]:"fire-iid-compat",[Rx]:"fire-fcm",[Cx]:"fire-fcm-compat",[Ix]:"fire-perf",[Nx]:"fire-perf-compat",[Dx]:"fire-rc",[Ox]:"fire-rc-compat",[kx]:"fire-gcs",[Mx]:"fire-gcs-compat",[Vx]:"fire-fst",[Lx]:"fire-fst-compat",[Px]:"fire-vertex","fire-js":"fire-js",[jx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,Bx=new Map,Im=new Map;function H0(i,e){try{i.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function oo(i){const e=i.name;if(Im.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,i);for(const n of dh.values())H0(n,i);for(const n of Bx.values())H0(n,i);return!0}function fp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function En(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new mu("app","Firebase",qx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=Ux;function zE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Cm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(n||(n=ME()),!n)throw Gi.create("no-options");const u=dh.get(o);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const f=new YA(o);for(const p of Im.values())f.addComponent(p);const m=new Hx(n,s,f);return dh.set(o,m),m}function BE(i=Cm){const e=dh.get(i);if(!e&&i===Cm&&ME())return zE();if(!e)throw Gi.create("no-app",{appName:i});return e}function $i(i,e,n){let s=zx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(f.join(" "));return}oo(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firebase-heartbeat-database",Gx=1,Wl="firebase-heartbeat-store";let pm=null;function qE(){return pm||(pm=lx(Fx,Gx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Gi.create("idb-open",{originalErrorMessage:i.message})})),pm}async function $x(i){try{const n=(await qE()).transaction(Wl),s=await n.objectStore(Wl).get(HE(i));return await n.done,s}catch(e){if(e instanceof tr)Xr.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(n.message)}}}async function F0(i,e){try{const s=(await qE()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,HE(i)),await s.done}catch(n){if(n instanceof tr)Xr.warn(n.message);else{const s=Gi.create("idb-set",{originalErrorMessage:n?.message});Xr.warn(s.message)}}}function HE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=1024,Qx=30;class Yx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=G0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Qx){const o=Zx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G0(),{heartbeatsToSend:n,unsentEntries:s}=Xx(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xr.warn(e),""}}}function G0(){return new Date().toISOString().substring(0,10)}function Xx(i,e=Kx){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),$0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Wx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?jA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $x(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return F0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return F0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $0(i){return fh(JSON.stringify({version:2,heartbeats:i})).length}function Zx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(i){oo(new Ws("platform-logger",e=>new hx(e),"PRIVATE")),oo(new Ws("heartbeat",e=>new Yx(e),"PRIVATE")),$i(Rm,q0,i),$i(Rm,q0,"esm2020"),$i("fire-js","")}Jx("");var eR="firebase",tR="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(eR,tR,"app");/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rR=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),K0=i=>{const e=rR(i);return e.charAt(0).toUpperCase()+e.slice(1)},FE=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),iR=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=M.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>M.createElement("svg",{ref:p,...sR,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:FE("lucide",o),...!u&&!iR(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,_])=>M.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(i,e)=>{const n=M.forwardRef(({className:s,...o},u)=>M.createElement(aR,{ref:u,iconNode:e,className:FE(`lucide-${nR(K0(i))}`,`lucide-${i}`,s),...o}));return n.displayName=K0(i),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zl=et("chevron-left",oR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uR=et("chevron-right",lR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],GE=et("circle-alert",cR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],dp=et("clipboard-list",hR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Nm=et("clock",fR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],mR=et("columns-2",dR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],gR=et("frown",pR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_R=et("grip-vertical",yR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],ER=et("inbox",vR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TR=et("info",bR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],SR=et("list",wR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$E=et("loader-circle",AR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RR=et("log-out",xR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],IR=et("menu",CR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Dm=et("pencil",NR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],KE=et("plus",DR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kR=et("search",OR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],VR=et("sliders-horizontal",MR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LR=et("square-check-big",PR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],UR=et("sticky-note",jR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],QE=et("tag",zR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],YE=et("text-align-start",BR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jl=et("trash-2",qR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FR=et("user",HR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Om=et("x",GR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],KR=et("zap",$R),XE=M.createContext(void 0),ra=()=>{const i=M.useContext(XE);if(!i)throw new Error("useAuth must be used within a AuthContext");return i};function QR(){const[i,e]=M.useState(""),[n,s]=M.useState(""),[o,u]=M.useState(""),[f,m]=M.useState(!1),{login:p}=ra(),g=Tn(),_=async A=>{A.preventDefault();try{u(""),m(!0),await p(i,n),g("/dashboard")}catch(V){V instanceof tr?u(T(V.code)):u("Error during login")}finally{m(!1)}},T=A=>{switch(A){case"auth/user-not-found":return"User not found";case"auth/wrong-password":return"Incorrect password";case"auth/invalid-email":return"Invalid email address";case"auth/user-disabled":return"Account disabled";case"auth/popup-closed-by-user":return"Login cancelled";case"auth/invalid-credential":return"Invalid credentials";default:return"Error during login"}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-purple-50 p-4",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Sign in to your account"}),b.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Welcome back! Enter your credentials"})]}),o&&b.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:b.jsxs("div",{className:"flex",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(GE,{className:"h-5 w-5 text-red-400"})}),b.jsx("div",{className:"ml-3",children:b.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),b.jsxs("form",{onSubmit:_,className:"mt-8 space-y-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:i,autoComplete:"email",onChange:A=>e(A.target.value),required:!0,disabled:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:"you@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),b.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:A=>s(A.target.value),required:!0,disabled:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:""})]})]}),b.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed transition duration-200 cursor-pointer",children:f?b.jsx($E,{className:"h-5 w-5 animate-spin"}):"Sign in"})]}),b.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",b.jsx(Vh,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500 transition",children:"Sign up"})]})]})})}function YR(){const[i,e]=M.useState(""),[n,s]=M.useState(""),[o,u]=M.useState(""),[f,m]=M.useState(""),[p,g]=M.useState(!1),{signup:_}=ra(),T=Tn(),A=async B=>{if(B.preventDefault(),n!==o)return m("Passwords do not match");if(n.length<6)return m("Password must be at least 6 characters long");try{m(""),g(!0),await _(i,n),T("/dashboard")}catch(K){K instanceof tr?m(V(K.code)):m("Error during registration")}finally{g(!1)}},V=B=>{switch(B){case"auth/email-already-in-use":return"Email is already registered";case"auth/invalid-email":return"Invalid email address";case"auth/weak-password":return"Password is too weak";default:return"Error during registration"}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50 p-4",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Create a new account"}),b.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Get started for free today"})]}),f&&b.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:b.jsxs("div",{className:"flex",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(GE,{className:"h-5 w-5 text-red-400"})}),b.jsx("div",{className:"ml-3",children:b.jsx("p",{className:"text-sm text-red-700",children:f})})]})}),b.jsxs("form",{onSubmit:A,className:"mt-8 space-y-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:i,onChange:B=>e(B.target.value),required:!0,disabled:p,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:"you@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),b.jsx("input",{id:"password",type:"password",value:n,onChange:B=>s(B.target.value),required:!0,disabled:p,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:""}),b.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 6 characters"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),b.jsx("input",{id:"confirmPassword",type:"password",value:o,onChange:B=>u(B.target.value),required:!0,disabled:p,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition",placeholder:""})]})]}),b.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:bg-purple-400 disabled:cursor-not-allowed transition duration-200 cursor-pointer",children:p?b.jsx($E,{className:"h-5 w-5 animate-spin"}):"Create Account"})]}),b.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",b.jsx(Vh,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500 transition",children:"Sign in"})]})]})})}var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,WE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,x){function R(){}R.prototype=x.prototype,N.F=x.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(P,O,j){for(var I=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)I[ut-2]=arguments[ut];return x.prototype[O].apply(P,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,R){R||(R=0);const P=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)P[O]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(O=0;O<16;++O)P[O]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=N.g[0],R=N.g[1],O=N.g[2];let j=N.g[3],I;I=x+(j^R&(O^j))+P[0]+3614090360&4294967295,x=R+(I<<7&4294967295|I>>>25),I=j+(O^x&(R^O))+P[1]+3905402710&4294967295,j=x+(I<<12&4294967295|I>>>20),I=O+(R^j&(x^R))+P[2]+606105819&4294967295,O=j+(I<<17&4294967295|I>>>15),I=R+(x^O&(j^x))+P[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=x+(j^R&(O^j))+P[4]+4118548399&4294967295,x=R+(I<<7&4294967295|I>>>25),I=j+(O^x&(R^O))+P[5]+1200080426&4294967295,j=x+(I<<12&4294967295|I>>>20),I=O+(R^j&(x^R))+P[6]+2821735955&4294967295,O=j+(I<<17&4294967295|I>>>15),I=R+(x^O&(j^x))+P[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=x+(j^R&(O^j))+P[8]+1770035416&4294967295,x=R+(I<<7&4294967295|I>>>25),I=j+(O^x&(R^O))+P[9]+2336552879&4294967295,j=x+(I<<12&4294967295|I>>>20),I=O+(R^j&(x^R))+P[10]+4294925233&4294967295,O=j+(I<<17&4294967295|I>>>15),I=R+(x^O&(j^x))+P[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=x+(j^R&(O^j))+P[12]+1804603682&4294967295,x=R+(I<<7&4294967295|I>>>25),I=j+(O^x&(R^O))+P[13]+4254626195&4294967295,j=x+(I<<12&4294967295|I>>>20),I=O+(R^j&(x^R))+P[14]+2792965006&4294967295,O=j+(I<<17&4294967295|I>>>15),I=R+(x^O&(j^x))+P[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=x+(O^j&(R^O))+P[1]+4129170786&4294967295,x=R+(I<<5&4294967295|I>>>27),I=j+(R^O&(x^R))+P[6]+3225465664&4294967295,j=x+(I<<9&4294967295|I>>>23),I=O+(x^R&(j^x))+P[11]+643717713&4294967295,O=j+(I<<14&4294967295|I>>>18),I=R+(j^x&(O^j))+P[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=x+(O^j&(R^O))+P[5]+3593408605&4294967295,x=R+(I<<5&4294967295|I>>>27),I=j+(R^O&(x^R))+P[10]+38016083&4294967295,j=x+(I<<9&4294967295|I>>>23),I=O+(x^R&(j^x))+P[15]+3634488961&4294967295,O=j+(I<<14&4294967295|I>>>18),I=R+(j^x&(O^j))+P[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=x+(O^j&(R^O))+P[9]+568446438&4294967295,x=R+(I<<5&4294967295|I>>>27),I=j+(R^O&(x^R))+P[14]+3275163606&4294967295,j=x+(I<<9&4294967295|I>>>23),I=O+(x^R&(j^x))+P[3]+4107603335&4294967295,O=j+(I<<14&4294967295|I>>>18),I=R+(j^x&(O^j))+P[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=x+(O^j&(R^O))+P[13]+2850285829&4294967295,x=R+(I<<5&4294967295|I>>>27),I=j+(R^O&(x^R))+P[2]+4243563512&4294967295,j=x+(I<<9&4294967295|I>>>23),I=O+(x^R&(j^x))+P[7]+1735328473&4294967295,O=j+(I<<14&4294967295|I>>>18),I=R+(j^x&(O^j))+P[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=x+(R^O^j)+P[5]+4294588738&4294967295,x=R+(I<<4&4294967295|I>>>28),I=j+(x^R^O)+P[8]+2272392833&4294967295,j=x+(I<<11&4294967295|I>>>21),I=O+(j^x^R)+P[11]+1839030562&4294967295,O=j+(I<<16&4294967295|I>>>16),I=R+(O^j^x)+P[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=x+(R^O^j)+P[1]+2763975236&4294967295,x=R+(I<<4&4294967295|I>>>28),I=j+(x^R^O)+P[4]+1272893353&4294967295,j=x+(I<<11&4294967295|I>>>21),I=O+(j^x^R)+P[7]+4139469664&4294967295,O=j+(I<<16&4294967295|I>>>16),I=R+(O^j^x)+P[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=x+(R^O^j)+P[13]+681279174&4294967295,x=R+(I<<4&4294967295|I>>>28),I=j+(x^R^O)+P[0]+3936430074&4294967295,j=x+(I<<11&4294967295|I>>>21),I=O+(j^x^R)+P[3]+3572445317&4294967295,O=j+(I<<16&4294967295|I>>>16),I=R+(O^j^x)+P[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=x+(R^O^j)+P[9]+3654602809&4294967295,x=R+(I<<4&4294967295|I>>>28),I=j+(x^R^O)+P[12]+3873151461&4294967295,j=x+(I<<11&4294967295|I>>>21),I=O+(j^x^R)+P[15]+530742520&4294967295,O=j+(I<<16&4294967295|I>>>16),I=R+(O^j^x)+P[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=x+(O^(R|~j))+P[0]+4096336452&4294967295,x=R+(I<<6&4294967295|I>>>26),I=j+(R^(x|~O))+P[7]+1126891415&4294967295,j=x+(I<<10&4294967295|I>>>22),I=O+(x^(j|~R))+P[14]+2878612391&4294967295,O=j+(I<<15&4294967295|I>>>17),I=R+(j^(O|~x))+P[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=x+(O^(R|~j))+P[12]+1700485571&4294967295,x=R+(I<<6&4294967295|I>>>26),I=j+(R^(x|~O))+P[3]+2399980690&4294967295,j=x+(I<<10&4294967295|I>>>22),I=O+(x^(j|~R))+P[10]+4293915773&4294967295,O=j+(I<<15&4294967295|I>>>17),I=R+(j^(O|~x))+P[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=x+(O^(R|~j))+P[8]+1873313359&4294967295,x=R+(I<<6&4294967295|I>>>26),I=j+(R^(x|~O))+P[15]+4264355552&4294967295,j=x+(I<<10&4294967295|I>>>22),I=O+(x^(j|~R))+P[6]+2734768916&4294967295,O=j+(I<<15&4294967295|I>>>17),I=R+(j^(O|~x))+P[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=x+(O^(R|~j))+P[4]+4149444226&4294967295,x=R+(I<<6&4294967295|I>>>26),I=j+(R^(x|~O))+P[11]+3174756917&4294967295,j=x+(I<<10&4294967295|I>>>22),I=O+(x^(j|~R))+P[2]+718787259&4294967295,O=j+(I<<15&4294967295|I>>>17),I=R+(j^(O|~x))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.v=function(N,x){x===void 0&&(x=N.length);const R=x-this.blockSize,P=this.C;let O=this.h,j=0;for(;j<x;){if(O==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<x;)if(P[O++]=N.charCodeAt(j++),O==this.blockSize){o(this,P),O=0;break}}else for(;j<x;)if(P[O++]=N[j++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=x},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)N[x++]=this.g[R]>>>P&255;return N};function u(N,x){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=x(N)}function f(N,x){this.h=x;const R=[];let P=!0;for(let O=N.length-1;O>=0;O--){const j=N[O]|0;P&&j==x||(R[O]=j,P=!1)}this.g=R}var m={};function p(N){return-128<=N&&N<128?u(N,function(x){return new f([x|0],x<0?-1:0)}):new f([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return F(g(-N));const x=[];let R=1;for(let P=0;N>=R;P++)x[P]=N/R|0,R*=4294967296;return new f(x,0)}function _(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return F(_(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(x,8));let P=T;for(let j=0;j<N.length;j+=8){var O=Math.min(8,N.length-j);const I=parseInt(N.substring(j,j+O),x);O<8?(O=g(Math.pow(x,O)),P=P.j(O).add(g(I))):(P=P.j(R),P=P.add(g(I)))}return P}var T=p(0),A=p(1),V=p(16777216);i=f.prototype,i.m=function(){if(K(this))return-F(this).m();let N=0,x=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);N+=(P>=0?P:4294967296+P)*x,x*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(B(this))return"0";if(K(this))return"-"+F(this).toString(N);const x=g(Math.pow(N,6));var R=this;let P="";for(;;){const O=Se(R,x).g;R=Z(R,O.j(x));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,B(R))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function B(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function K(N){return N.h==-1}i.l=function(N){return N=Z(this,N),K(N)?-1:B(N)?0:1};function F(N){const x=N.g.length,R=[];for(let P=0;P<x;P++)R[P]=~N.g[P];return new f(R,~N.h).add(A)}i.abs=function(){return K(this)?F(this):this},i.add=function(N){const x=Math.max(this.g.length,N.g.length),R=[];let P=0;for(let O=0;O<=x;O++){let j=P+(this.i(O)&65535)+(N.i(O)&65535),I=(j>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);P=I>>>16,j&=65535,I&=65535,R[O]=I<<16|j}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Z(N,x){return N.add(F(x))}i.j=function(N){if(B(this)||B(N))return T;if(K(this))return K(N)?F(this).j(F(N)):F(F(this).j(N));if(K(N))return F(this.j(F(N)));if(this.l(V)<0&&N.l(V)<0)return g(this.m()*N.m());const x=this.g.length+N.g.length,R=[];for(var P=0;P<2*x;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<N.g.length;O++){const j=this.i(P)>>>16,I=this.i(P)&65535,ut=N.i(O)>>>16,rt=N.i(O)&65535;R[2*P+2*O]+=I*rt,te(R,2*P+2*O),R[2*P+2*O+1]+=j*rt,te(R,2*P+2*O+1),R[2*P+2*O+1]+=I*ut,te(R,2*P+2*O+1),R[2*P+2*O+2]+=j*ut,te(R,2*P+2*O+2)}for(N=0;N<x;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=x;N<2*x;N++)R[N]=0;return new f(R,0)};function te(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function ie(N,x){this.g=N,this.h=x}function Se(N,x){if(B(x))throw Error("division by zero");if(B(N))return new ie(T,T);if(K(N))return x=Se(F(N),x),new ie(F(x.g),F(x.h));if(K(x))return x=Se(N,F(x)),new ie(F(x.g),x.h);if(N.g.length>30){if(K(N)||K(x))throw Error("slowDivide_ only works with positive integers.");for(var R=A,P=x;P.l(N)<=0;)R=he(R),P=he(P);var O=fe(R,1),j=fe(P,1);for(P=fe(P,2),R=fe(R,2);!B(P);){var I=j.add(P);I.l(N)<=0&&(O=O.add(R),j=I),P=fe(P,1),R=fe(R,1)}return x=Z(N,O.j(x)),new ie(O,x)}for(O=T;N.l(x)>=0;){for(R=Math.max(1,Math.floor(N.m()/x.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=g(R),I=j.j(x);K(I)||I.l(N)>0;)R-=P,j=g(R),I=j.j(x);B(j)&&(j=A),O=O.add(j),N=Z(N,I)}return new ie(O,N)}i.B=function(N){return Se(this,N).h},i.and=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let P=0;P<x;P++)R[P]=this.i(P)&N.i(P);return new f(R,this.h&N.h)},i.or=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let P=0;P<x;P++)R[P]=this.i(P)|N.i(P);return new f(R,this.h|N.h)},i.xor=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let P=0;P<x;P++)R[P]=this.i(P)^N.i(P);return new f(R,this.h^N.h)};function he(N){const x=N.g.length+1,R=[];for(let P=0;P<x;P++)R[P]=N.i(P)<<1|N.i(P-1)>>>31;return new f(R,N.h)}function fe(N,x){const R=x>>5;x%=32;const P=N.g.length-R,O=[];for(let j=0;j<P;j++)O[j]=x>0?N.i(j+R)>>>x|N.i(j+R+1)<<32-x:N.i(j+R);return new f(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,WE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=_,Ki=f}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZE,zl,JE,eh,km,eb,tb,nb;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function _(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,z,$){for(var re=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)re[Ae-2]=arguments[Ae];return y.prototype[z].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function B(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const $=z.length||0;c.length=v+$;for(let re=0;re<$;re++)c[v+re]=z[re]}else c.push(z)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const S=ie.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new K(()=>new Se,c=>c.reset());class Se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,fe=!1,N=new te,x=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){F(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}fe=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ut(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(ut,O),ut.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ae(c,y,v,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++Q,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function ne(c){const y={};for(const v in c)y[v]=c[v];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let $=0;$<oe.length;$++)v=oe[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function me(c){this.src=c,this.g={},this.h=0}me.prototype.add=function(c,y,v,S,z){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const re=be(c,y,S,z);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new ae(y,this.src,$,!!S,z),y.fa=v,c.push(y)),y};function Oe(c,y){const v=y.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,y,void 0),$;($=z>=0)&&Array.prototype.splice.call(S,z,1),$&&(ge(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function be(c,y,v,S){for(let z=0;z<c.length;++z){const $=c[z];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==S)return z}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ge={};function jn(c,y,v,S,z){if(Array.isArray(y)){for(let $=0;$<y.length;$++)jn(c,y[$],v,S,z);return null}return v=xu(v),c&&c[rt]?c.J(y,v,m(S)?!!S.capture:!1,z):Ro(c,y,v,!1,S,z)}function Ro(c,y,v,S,z,$){if(!y)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let Ae=Co(c);if(Ae||(c[Lt]=Ae=new me(c)),v=Ae.add(y,v,S,re,$),v.proxy)return v;if(S=oa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)j||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(ua(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function c(v){return y.call(c.src,c.listener,v)}const y=rf;return c}function la(c,y,v,S,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)la(c,y[$],v,S,z);else S=m(S)?!!S.capture:!!S,v=xu(v),c&&c[rt]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],v=be(y,v,S,z),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=Co(c))&&(y=c.g[y.toString()],c=-1,y&&(c=be(y,v,S,z)),(v=c>-1?y[c]:null)&&ls(v))}function ls(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[rt])Oe(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ua(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Co(y))?(Oe(v,c),v.h==0&&(v.src=null,y[Lt]=null)):ge(c)}}}function ua(c){return c in Ge?Ge[c]:Ge[c]="on"+c}function rf(c,y){if(c.da)c=!0;else{y=new ut(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&ls(c),c=v.call(S,y)}return c}function Co(c){return c=c[Lt],c instanceof me?c:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function xu(c){return typeof c=="function"?c:(c[an]||(c[an]=function(y){return c.handleEvent(y)}),c[an])}function At(){P.call(this),this.i=new me(this),this.M=this,this.G=null}T(At,P),At.prototype[rt]=!0,At.prototype.removeEventListener=function(c,y,v,S){la(this,c,y,v,S)};function Dt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(S,c),se(y,z)}z=!0;let $,re;if(v)for(re=v.length-1;re>=0;re--)$=y.g=v[re],z=wr($,S,!0,y)&&z;if($=y.g=c,z=wr($,S,!0,y)&&z,z=wr($,S,!1,y)&&z,v)for(re=0;re<v.length;re++)$=y.g=v[re],z=wr($,S,!1,y)&&z}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)ge(v[S]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},At.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function wr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let $=0;$<y.length;++$){const re=y[$];if(re&&!re.da&&re.capture==v){const Ae=re.listener,tt=re.ha||re.src;re.fa&&Oe(c.i,re),z=Ae.call(tt,S)!==!1&&z}}return z&&!S.defaultPrevented}function sf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Io(c){c.g=sf(()=>{c.g=null,c.i&&(c.i=!1,Io(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class af extends P{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){P.call(this),this.h=c,this.g={}}T(us,P);var ti=[];function Gt(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&ls(y)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),Gt(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=f.JSON.stringify,Jt=f.JSON.parse,of=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ru(){}function Cu(){}var nr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ni(){O.call(this,"d")}T(ni,O);function Un(){O.call(this,"c")}T(Un,O);var Sn={},ri=null;function ca(){return ri=ri||new At}Sn.Ia="serverreachability";function No(c){O.call(this,Sn.Ia,c)}T(No,O);function ii(c){const y=ca();Dt(y,new No(y))}Sn.STAT_EVENT="statevent";function ha(c,y){O.call(this,Sn.STAT_EVENT,c),this.stat=y}T(ha,O);function ft(c){const y=ca();Dt(y,new ha(y,c))}Sn.Ja="timingevent";function Iu(c,y){O.call(this,Sn.Ja,c),this.size=y}T(Iu,O);function si(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Do(c,y,v,S,z,$){c.info(function(){if(c.g)if($){var re="",Ae=$.split("&");for(let qe=0;qe<Ae.length;qe++){var tt=Ae[qe].split("=");if(tt.length>1){const pt=tt[0];tt=tt[1];const fn=pt.split("_");re=fn.length>=2&&fn[1]=="type"?re+(pt+"="+tt+"&"):re+(pt+"=redacted&")}}}else re=null;else re=$;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+re})}function Oo(c,y,v,S,z,$,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+$+" "+re})}function Sr(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+rr(c,v)+(S?" "+S:"")})}function lf(c,y){c.info(function(){return"TIMEOUT: "+y})}ai.prototype.info=function(){};function rr(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var v=$[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return wn($)}catch{return y}}var dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ar;function cs(){}T(cs,Ru),cs.prototype.g=function(){return new XMLHttpRequest},Ar=new cs;function hs(c){return encodeURIComponent(String(c))}function uf(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function zn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var fa={},ir={};function sr(c,y,v){c.M=1,c.A=Rr(at(y)),c.u=v,c.R=!0,li(c,null)}function li(c,y){c.F=Date.now(),fs(c),c.B=at(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ku(v.i,"t",S),c.C=0,v=c.j.L,c.h=new oi,c.g=Ta(c.j,v?y:null,!c.u),c.P>0&&(c.O=new af(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(ti[0]=z.toString()),z=ti);for(let $=0;$<z.length;$++){const re=jn(v,z[$],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?ne(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ii(),Do(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$t(c)==3?y.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=$t(this.g),tt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||ws(this.g)))){this.K||Ae!=4||tt==7||(tt==8||qe<=0?ii(3):ii(2)),or(this);var y=this.g.ca();this.X=y;var v=ui(this);if(this.o=y==200,Oo(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var $=S;break t}}$=null}if(c=$)Sr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,da(this,c);else{this.o=!1,this.m=3,ft(12),lr(this),ds(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=Nu(this,v),pt==ir){Ae==4&&(this.m=4,ft(14),c=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==fa){this.m=4,ft(15),Sr(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Sr(this.i,this.l,pt,null),da(this,pt);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,ft(16),c=!1),this.o=this.o&&c,!c)Sr(this.i,this.l,v,"[Invalid Chunked Response]"),lr(this),ds(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(re),re.P=!0,ft(11))}}else Sr(this.i,this.l,v,null),da(this,v);Ae==4&&lr(this),this.o&&!this.K&&(Ae==4?Ho(this.j,this):(this.o=!1,fs(this)))}else Ss(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),lr(this),ds(this)}}}catch{}finally{}};function ui(c){if(!mt(c))return c.g.la();const y=ws(c.g);if(y==="")return"";let v="";const S=y.length,z=$t(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return lr(c),ds(c),"";c.h.i=new f.TextDecoder}for(let $=0;$<S;$++)c.h.h=!0,v+=c.h.i.decode(y[$],{stream:!(z&&$==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function mt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ir:(v=Number(y.substring(v,S)),isNaN(v)?fa:(S+=1,S+v>y.length?ir:(y=y.slice(S,S+v),c.C=S+v,y)))}zn.prototype.cancel=function(){this.K=!0,lr(this)};function fs(c){c.T=Date.now()+c.H,ar(c,c.H)}function ar(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(g(c.aa,c),y)}function or(c){c.D&&(f.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(lf(this.i,this.B),this.M!=2&&(ii(),ft(17)),lr(this),this.m=2,ds(this)):ar(this,this.T-c)};function ds(c){c.j.I==0||c.K||Ho(c.j,c)}function lr(c){or(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Gt(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function da(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||gs(v.h,c))){if(!c.L&&gs(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ba(v),ur(v);else break e;Bo(v),ft(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(g(v.Va,v),6e3));An(v.h)<=1&&v.ta&&(v.ta=void 0)}else Nr(v,11)}else if((c.L||v.g==c)&&ba(v),!I(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let qe=z[y];const pt=qe[0];if(!(pt<=v.K))if(v.K=pt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const fn=qe[3];fn!=null&&(v.ka=fn,v.j.info("VER="+v.ka));const cr=qe[4];cr!=null&&(v.za=cr,v.j.info("SVER="+v.za));const Hn=qe[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(S=1.5*Hn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Fn=c.g;if(Fn){const Gn=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var $=S.h;$.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ma($,$.h),$.h=null))}if(S.G){const Go=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(S.wa=Go,$e(S.J,S.G,Go))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=qu(S,S.L?S.ba:null,S.W),re.L){xr(S.h,re);var Ae=re,tt=S.O;tt&&(Ae.H=tt),Ae.D&&(or(Ae),fs(Ae)),S.g=re}else ju(S);v.i.length>0&&Cs(v)}else qe[0]!="stop"&&qe[0]!="close"||Nr(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Nr(v,7):xs(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ii(4)}catch{}}var cf=class{constructor(c,y){this.g=c,this.map=y}};function ms(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ps(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function An(c){return c.h?1:c.g?c.g.size:0}function gs(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function xr(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ms.prototype.cancel=function(){if(this.i=pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return V(c.i)}var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let z,$=null;S>=0?(z=c[v].substring(0,S),$=c[v].substring(S+1)):z=c[v],y(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Bn?(this.l=c.l,ci(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.u),this.h=c.h,hi(this,Mu(c.i)),this.m=c.m):c&&(y=String(c).match(ga))?(this.l=!1,ci(this,y[1]||"",!0),this.o=_s(y[2]||""),this.g=_s(y[3]||"",!0),ys(this,y[4]),this.h=_s(y[5]||"",!0),hi(this,y[6]||"",!0),this.m=_s(y[7]||"")):(this.l=!1,this.i=new xn(null,this.l))}Bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ot(y,Mo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ot(y,Mo,!0),"@"),c.push(hs(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ot(v,v.charAt(0)=="/"?fi:Vo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ot(v,Ou)),c.join("")},Bn.prototype.resolve=function(c){const y=at(this);let v=!!c.j;v?ci(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)ys(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const $=[];for(let re=0;re<z.length;){const Ae=z[re++];Ae=="."?S&&re==z.length&&$.push(""):Ae==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&re==z.length&&$.push("")):($.push(Ae),S=!0)}S=$.join("/")}else S=z}return v?y.h=S:v=c.i.toString()!=="",v?hi(y,Mu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function at(c){return new Bn(c)}function ci(c,y,v){c.j=v?_s(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function hi(c,y,v){y instanceof xn?(c.i=y,jo(c.i,c.l)):(v||(y=Ot(y,Du)),c.i=new xn(y,c.l))}function $e(c,y,v){c.i.set(y,v)}function Rr(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _s(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ot(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,ko),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ko(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,Vo=/[#\?:]/g,fi=/[#\?]/g,Du=/[#\?@]/g,Ou=/#/g;function xn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cr(c){c.g||(c.g=new Map,c.h=0,c.i&&hf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=xn.prototype,i.add=function(c,y){Cr(this),this.i=null,c=qn(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Po(c,y){Cr(c),y=qn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Lo(c,y){return Cr(c),y=qn(c,y),c.g.has(y)}i.forEach=function(c,y){Cr(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(y,z,S,this)},this)},this)};function ya(c,y){Cr(c);let v=[];if(typeof y=="string")Lo(c,y)&&(v=v.concat(c.g.get(qn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return Cr(this),this.i=null,c=qn(this,c),Lo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=ya(this,c),c.length>0?String(c[0]):y):y};function ku(c,y,v){Po(c,y),v.length>0&&(c.i=null,c.g.set(qn(c,y),V(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=hs(v);v=ya(this,v);for(let $=0;$<v.length;$++){let re=z;v[$]!==""&&(re+="="+hs(v[$])),c.push(re)}}return this.i=c.join("&")};function Mu(c){const y=new xn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function qn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function jo(c,y){y&&!c.j&&(Cr(c),c.i=null,c.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(Po(this,S),ku(this,z,v))},c)),c.j=y}function Uo(c,y){const v=new ai;if(f.Image){const S=new Image;S.onload=_(en,v,"TestLoadImage: loaded",!0,y,S),S.onerror=_(en,v,"TestLoadImage: error",!1,y,S),S.onabort=_(en,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(en,v,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function di(c,y){const v=new ai,S=new AbortController,z=setTimeout(()=>{S.abort(),en(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(z),$.ok?en(v,"TestPingServer: ok",!0,y):en(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),en(v,"TestPingServer: error",!1,y)})}function en(c,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Vu(){this.g=new of}function vs(c){this.i=c.Sb||null,this.h=c.ab||!1}T(vs,Ru),vs.prototype.g=function(){return new Es(this.i,this.h)};function Es(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Es,At),i=Es.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ir(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mi(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function mi(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tn(this):Ir(this),this.readyState==3&&mi(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,tn(this))},i.Na=function(c){this.g&&(this.response=c,tn(this))},i.ga=function(){this.g&&tn(this)};function tn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ir(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pi(c){let y="";return je(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Rn(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=pi(v),typeof c=="string"?v!=null&&hs(v):$e(c,y,v))}function We(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,At);var _a=/^https?$/i,Pu=["POST","PUT"];i=We.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ar.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){bs(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Pu,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of v)this.g.setRequestHeader($,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){bs(this,$)}};function bs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ts(c),xt(c)}function Ts(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),xt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xt(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?zo(this):this.Xa())},i.Xa=function(){zo(this)};function zo(c){if(c.h&&typeof u<"u"){if(c.v&&$t(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),$t(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=$===0){let re=String(c.D).match(ga)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!_a.test(re?re.toLowerCase():"")}v=S}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var z=$t(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Ts(c)}}finally{xt(c)}}}}function xt(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function $t(c){return c.g?c.g.readyState:0}i.ca=function(){try{return $t(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Jt(y)}};function ws(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(c){const y={};c=(c.g&&$t(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=uf(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[z]||[];y[z]=$,$.push(v)}D(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function va(c){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=As("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=As("baseRetryDelayMs",5e3,c),this.Za=As("retryDelaySeedMs",1e4,c),this.Ta=As("forwardChannelMaxRetries",2,c),this.va=As("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ms(c&&c.concurrentRequestLimit),this.Ba=new Vu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=va.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){ft(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=qu(this,null,this.W),Cs(this)};function xs(c){if(Rs(c),c.I==3){var y=c.V++,v=at(c.J);if($e(v,"SID",c.M),$e(v,"RID",y),$e(v,"TYPE","terminate"),Is(c,v),y=new zn(c,c.j,y),y.M=2,y.A=Rr(at(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Ta(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fs(y)}Bu(c)}function ur(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function Rs(c){ur(c),c.v&&(f.clearTimeout(c.v),c.v=null),ba(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Cs(c){if(!ps(c.h)&&!c.m){c.m=!0;var y=c.Ea;he||x(),fe||(he(),fe=!0),N.add(y,c),c.D=0}}function ff(c,y){return An(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(g(c.Ea,c,y),zu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new zn(this,this.j,c);let $=this.o;if(this.U&&($?($=ne($),se($,this.U)):$=this.U),this.u!==null||this.R||(z.J=$,$=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ea(this,z,y),v=at(this.J),$e(v,"RID",c),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Is(this,v),$&&(this.R?y="headers="+hs(pi($))+"&"+y:this.u&&Rn(v,this.u,$)),ma(this.h,z),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",y),$e(v,"SID","null"),z.U=!0,sr(z,v,null)):sr(z,v,y),this.I=2}}else this.I==3&&(c?Lu(this,c):this.i.length==0||ps(this.h)||Lu(this))};function Lu(c,y){var v;y?v=y.l:v=c.V++;const S=at(c.J);$e(S,"SID",c.M),$e(S,"RID",v),$e(S,"AID",c.K),Is(c,S),c.u&&c.o&&Rn(S,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ea(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ma(c.h,v),sr(v,S,y)}function Is(c,y){c.H&&je(c.H,function(v,S){$e(y,S,v)}),c.l&&je({},function(v,S){$e(y,S,v)})}function Ea(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ae=-1;for(;;){const tt=["count="+v];Ae==-1?v>0?(Ae=z[0].g,tt.push("ofs="+Ae)):Ae=0:tt.push("ofs="+Ae);let qe=!0;for(let pt=0;pt<v;pt++){var $=z[pt].g;const fn=z[pt].map;if($-=Ae,$<0)Ae=Math.max(0,z[pt].g-100),qe=!1;else try{$="req"+$+"_"||"";try{var re=fn instanceof Map?fn:Object.entries(fn);for(const[cr,Hn]of re){let Fn=Hn;m(Hn)&&(Fn=wn(Hn)),tt.push($+cr+"="+encodeURIComponent(Fn))}}catch(cr){throw tt.push($+"type="+encodeURIComponent("_badmap")),cr}}catch{S&&S(fn)}}if(qe){re=tt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;he||x(),fe||(he(),fe=!0),N.add(y,c),c.A=0}}function Bo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(g(c.Da,c),zu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),ur(this),Uu(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=at(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Is(c,y),c.u&&c.o&&Rn(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rr(at(y)),v.u=null,v.R=!0,li(v,c)}i.Va=function(){this.C!=null&&(this.C=null,ur(this),Bo(this),ft(19))};function ba(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ho(c,y){var v=null;if(c.g==y){ba(c),qo(c),c.g=null;var S=2}else if(gs(c.h,y))v=y.G,xr(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=ca(),Dt(S,new Iu(S,v)),Cs(c)}else ju(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&ff(c,y)||S==2&&Bo(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function zu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Nr(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const z=!S;S=new Bn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ci(S,"https"),Rr(S),z?Uo(S.toString(),v):di(S.toString(),v)}else ft(2);c.I=0,c.l&&c.l.pa(y),Bu(c),Rs(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Bu(c){if(c.I=0,c.ja=[],c.l){const y=pa(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ja,y),B(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function qu(c,y,v){var S=v instanceof Bn?at(v):new Bn(v);if(S.g!="")y&&(S.g=y+"."+S.g),ys(S,S.u);else{var z=f.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const $=new Bn(null);S&&ci($,S),y&&($.g=y),z&&ys($,z),v&&($.h=v),S=$}return v=c.G,y=c.wa,v&&y&&$e(S,v,y),$e(S,"VER",c.ka),Is(c,S),S}function Ta(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new vs({ab:v})):new We(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}i=Hu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function wa(){}wa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){At.call(this),this.g=new va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gi(this)}T(nn,At),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){xs(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=wn(c),c=v);y.i.push(new cf(y.Ya++,c)),y.I==3&&Cs(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,xs(this.g),delete this.g,nn.Z.N.call(this)};function Fo(c){ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Fo,ni);function Fu(){Un.call(this),this.status=1}T(Fu,Un);function gi(c){this.g=c}T(gi,Hu),gi.prototype.ra=function(){Dt(this.g,"a")},gi.prototype.qa=function(c){Dt(this.g,new Fo(c))},gi.prototype.pa=function(c){Dt(this.g,new Fu)},gi.prototype.oa=function(){Dt(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,nb=function(){return new wa},tb=function(){return ca()},eb=Sn,km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,eh=dt,jt.COMPLETE="complete",JE=jt,Cu.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",At.prototype.listen=At.prototype.J,zl=Cu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,ZE=We}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",X0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new cp("@firebase/firestore");function Za(){return Zs.logLevel}function ue(i,...e){if(Zs.logLevel<=ke.DEBUG){const n=e.map(mp);Zs.debug(`Firestore (${Eo}): ${i}`,...n)}}function Wr(i,...e){if(Zs.logLevel<=ke.ERROR){const n=e.map(mp);Zs.error(`Firestore (${Eo}): ${i}`,...n)}}function lo(i,...e){if(Zs.logLevel<=ke.WARN){const n=e.map(mp);Zs.warn(`Firestore (${Eo}): ${i}`,...n)}}function mp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rb(i,s,n)}function rb(i,e,n){let s=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Wr(s),new Error(s)}function Be(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||rb(e,o,s)}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Xt.UNAUTHENTICATED)))}shutdown(){}}class WR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZR{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new ib(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class JR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new JR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=n2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function Mm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return gm(o)===gm(u)?Me(o,u):gm(o)?1:-1}return Me(i.length,e.length)}const r2=55296,i2=57343;function gm(i){const e=i.charCodeAt(0);return e>=r2&&e<=i2}function uo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__name__";class gr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=gr.isNumericId(e),o=gr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class Je extends gr{construct(e,n,s){return new Je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const s2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends gr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return s2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z0}static keyField(){return new Ht([Z0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Je.fromString(e))}static fromName(e){return new pe(Je.fromString(e).popFirst(5))}static empty(){return new pe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(i,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function a2(i,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function J0(i){if(!pe.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ev(i){if(pe.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ab(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Lh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Qi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i,e){const n={typeString:i};return e&&(n.value=e),n}function gu(i,e){if(!ab(i))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=-62135596800,nv=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*nv);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tv)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nv}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:wt("string",nt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new nt(0,0))}static max(){return new we(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function o2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new Xi(o,pe.empty(),e)}function l2(i){return new Xi(i.readTime,i.key,eu)}class Xi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xi(we.min(),pe.empty(),eu)}static max(){return new Xi(we.max(),pe.empty(),eu)}}function u2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==c2)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{f[g]=_,++m,m===u&&s(f)}),(_=>o(_)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function f2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=-1;function Uh(i){return i==null}function mh(i){return i===0&&1/i==-1/0}function d2(i){return typeof i=="number"&&Number.isInteger(i)&&!mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="";function m2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=rv(e)),e=p2(i.get(n),e);return rv(e)}function p2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ob:n+="";break;default:n+=u}}return n}function rv(i){return i+ob+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function rs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function lb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(e){return new sv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class sv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new bn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ub("Invalid base64 string: "+u):u}})(e);return new Ft(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const g2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(i){if(Be(!!i,39018),typeof i=="string"){let e=0;const n=g2.exec(i);if(Be(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zi(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="server_timestamp",hb="__type__",fb="__previous_value__",db="__local_write_time__";function yp(i){return(i?.mapValue?.fields||{})[hb]?.stringValue===cb}function zh(i){const e=i.mapValue.fields[fb];return yp(e)?zh(e):e}function tu(i){const e=Wi(i.mapValue.fields[db].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,s,o,u,f,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const ph="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="__type__",_2="__max__",Qc={mapValue:{}},pb="__vector__",gh="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?yp(i)?4:E2(i)?9007199254740991:v2(i)?10:11:Ee(28295,{value:i})}function Tr(i,e){if(i===e)return!0;const n=Ji(i);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return tu(i).isEqual(tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wi(o.timestampValue),m=Wi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Zi(o.bytesValue).isEqual(Zi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return uo(i.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(iv(f)!==iv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Tr(f[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function ru(i,e){return(i.values||[]).find((n=>Tr(n,e)))!==void 0}function co(i,e){if(i===e)return 0;const n=Ji(i),s=Ji(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return av(i.timestampValue,e.timestampValue);case 4:return av(tu(i),tu(e));case 5:return Mm(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=Zi(u),p=Zi(f);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Me(m[g],p[g]);if(_!==0)return _}return Me(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Me(_t(u.latitude),_t(f.latitude));return m!==0?m:Me(_t(u.longitude),_t(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return ov(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[gh]?.arrayValue,_=p[gh]?.arrayValue,T=Me(g?.values?.length||0,_?.values?.length||0);return T!==0?T:ov(g,_)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const A=Mm(p[T],_[T]);if(A!==0)return A;const V=co(m[p[T]],g[_[T]]);if(V!==0)return V}return Me(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function av(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=Wi(i),s=Wi(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function ov(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function ho(i){return Vm(i)}function Vm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Wi(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Zi(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function th(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(i);return e?16+th(e):16;case 5:return 2*i.stringValue.length;case 6:return Zi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+th(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return rs(s.fields,((u,f)=>{o+=u.length+th(f)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function lv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Pm(i){return!!i&&"integerValue"in i}function _p(i){return!!i&&"arrayValue"in i}function uv(i){return!!i&&"nullValue"in i}function cv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nh(i){return!!i&&"mapValue"in i}function v2(i){return(i?.mapValue?.fields||{})[mb]?.stringValue===pb}function Gl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return rs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Gl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(i.arrayValue.values[n]);return e}return{...i}}function E2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===_2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){rs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new hn(Gl(this.value))}}function gb(i){const e=[];return rs(i.fields,((n,s)=>{const o=new Ht([n]);if(nh(s)){const u=gb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,we.min(),we.min(),we.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,we.min(),we.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,we.min(),we.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.position=e,this.inclusive=n}}function hv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function fv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Tr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function b2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{}class Tt extends yb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new w2(e,n,s):n==="array-contains"?new x2(e,s):n==="in"?new R2(e,s):n==="not-in"?new C2(e,s):n==="array-contains-any"?new I2(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new S2(e,s):new A2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends yb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zn(e,n)}matches(e){return _b(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _b(i){return i.op==="and"}function vb(i){return T2(i)&&_b(i)}function T2(i){for(const e of i.filters)if(e instanceof Zn)return!1;return!0}function Lm(i){if(i instanceof Tt)return i.field.canonicalString()+i.op.toString()+ho(i.value);if(vb(i))return i.filters.map((e=>Lm(e))).join(",");{const e=i.filters.map((n=>Lm(n))).join(",");return`${i.op}(${e})`}}function Eb(i,e){return i instanceof Tt?(function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Tr(s.value,o.value)})(i,e):i instanceof Zn?(function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Eb(f,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function bb(i){return i instanceof Tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`})(i):i instanceof Zn?(function(n){return n.op.toString()+" {"+n.getFilters().map(bb).join(" ,")+"}"})(i):"Filter"}class w2 extends Tt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class S2 extends Tt{constructor(e,n){super(e,"in",n),this.keys=Tb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class A2 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=Tb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Tb(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class x2 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&ru(n.arrayValue,this.value)}}class R2 extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class C2 extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class I2 extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function dv(i,e=null,n=[],s=[],o=null,u=null,f=null){return new N2(i,e,n,s,o,u,f)}function vp(i){const e=xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Lm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ho(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ho(s))).join(",")),e.Te=n}return e.Te}function Ep(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!b2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Eb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!fv(i.startAt,e.startAt)&&fv(i.endAt,e.endAt)}function jm(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function D2(i,e,n,s,o,u,f,m){return new wo(i,e,n,s,o,u,f,m)}function bp(i){return new wo(i)}function mv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function wb(i){return i.collectionGroup!==null}function $l(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Ht.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new iu(u,s))})),n.has(Ht.keyField().canonicalString())||e.Ie.push(new iu(Ht.keyField(),s))}return e.Ie}function yr(i){const e=xe(i);return e.Ee||(e.Ee=O2(e,$l(i))),e.Ee}function O2(i,e){if(i.limitType==="F")return dv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new iu(o.field,u)}));const n=i.endAt?new yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new yh(i.startAt.position,i.startAt.inclusive):null;return dv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Um(i,e){const n=i.filters.concat([e]);return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function zm(i,e,n){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Bh(i,e){return Ep(yr(i),yr(e))&&i.limitType===e.limitType}function Sb(i){return`${vp(yr(i))}|lt:${i.limitType}`}function Ja(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>bb(o))).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ho(o))).join(",")),`Target(${s})`})(yr(i))}; limitType=${i.limitType})`}function qh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=hv(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(f,m,p){const g=hv(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(i,e)}function k2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ab(i){return(e,n)=>{let s=!1;for(const o of $l(i)){const u=M2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function M2(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?co(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return lb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new lt(pe.comparator);function Zr(){return V2}const xb=new lt(pe.comparator);function Bl(...i){let e=xb;for(const n of i)e=e.insert(n.key,n);return e}function Rb(i){let e=xb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $s(){return Kl()}function Cb(){return Kl()}function Kl(){return new ia((i=>i.toString()),((i,e)=>i.isEqual(e)))}const P2=new lt(pe.comparator),L2=new It(pe.comparator);function Ve(...i){let e=L2;for(const n of i)e=e.add(n);return e}const j2=new It(Me);function U2(){return j2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function Ib(i){return{integerValue:""+i}}function z2(i,e){return d2(e)?Ib(e):Tp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function B2(i,e,n){return i instanceof su?(function(o,u){const f={fields:{[hb]:{stringValue:cb},[db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yp(u)&&(u=zh(u)),u&&(f.fields[fb]=u),{mapValue:f}})(n,e):i instanceof au?Db(i,e):i instanceof ou?Ob(i,e):(function(o,u){const f=Nb(o,u),m=pv(f)+pv(o.Ae);return Pm(f)&&Pm(o.Ae)?Ib(m):Tp(o.serializer,m)})(i,e)}function q2(i,e,n){return i instanceof au?Db(i,e):i instanceof ou?Ob(i,e):n}function Nb(i,e){return i instanceof _h?(function(s){return Pm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class su extends Hh{}class au extends Hh{constructor(e){super(),this.elements=e}}function Db(i,e){const n=kb(e);for(const s of i.elements)n.some((o=>Tr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends Hh{constructor(e){super(),this.elements=e}}function Ob(i,e){let n=kb(e);for(const s of i.elements)n=n.filter((o=>!Tr(o,s)));return{arrayValue:{values:n}}}class _h extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function pv(i){return _t(i.integerValue||i.doubleValue)}function kb(i){return _p(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this.field=e,this.transform=n}}function F2(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?uo(s.elements,o.elements,Tr):s instanceof _h&&o instanceof _h?Tr(s.Ae,o.Ae):s instanceof su&&o instanceof su})(i.transform,e.transform)}class G2{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Fh{}function Mb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new wp(i.key,Xn.none()):new yu(i.key,i.data,Xn.none());{const n=i.data,s=hn.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new is(i.key,s,new bn(o.toArray()),Xn.none())}}function $2(i,e,n){i instanceof yu?(function(o,u,f){const m=o.value.clone(),p=yv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof is?(function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=yv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Vb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(i,e,n,s){return i instanceof yu?(function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=u.value.clone(),_=_v(u.fieldTransforms,p,f);return g.setAll(_),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof is?(function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=_v(u.fieldTransforms,p,f),_=f.data;return _.setAll(Vb(u)),_.setAll(g),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function K2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Nb(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function gv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,((u,f)=>F2(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class yu extends Fh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends Fh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Vb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function yv(i,e,n){const s=new Map;Be(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,q2(f,m,n[o]))}return s}function _v(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,B2(u,f,e))}return s}class wp extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q2 extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&$2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Cb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Mb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((n,s)=>gv(n,s)))&&uo(this.baseMutations,e.baseMutations,((n,s)=>gv(n,s)))}}class Sp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return P2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Le;function Z2(i){switch(i){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Pb(i){if(i===void 0)return Wr("GRPC error has no .code"),W.UNKNOWN;switch(i){case bt.OK:return W.OK;case bt.CANCELLED:return W.CANCELLED;case bt.UNKNOWN:return W.UNKNOWN;case bt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case bt.INTERNAL:return W.INTERNAL;case bt.UNAVAILABLE:return W.UNAVAILABLE;case bt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case bt.NOT_FOUND:return W.NOT_FOUND;case bt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case bt.ABORTED:return W.ABORTED;case bt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case bt.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:i})}}(Le=bt||(bt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Ki([4294967295,4294967295],0);function vv(i){const e=J2().encode(i),n=new WE;return n.update(e),new Uint8Array(n.digest())}function Ev(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ki([n,s],0),new Ki([o,u],0)]}class Ap{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ki.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ki.fromNumber(s)));return o.compare(eC)===1&&(o=new Ki([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=vv(e),[s,o]=Ev(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ap(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=vv(e),[s,o]=Ev(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gh(we.min(),o,new lt(Me),Zr(),Ve())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Lb{constructor(e,n){this.targetId=e,this.Ce=n}}class jb{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class bv{constructor(){this.ve=0,this.Fe=Tv(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Tv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zr(),this.Je=Yc(),this.He=Yc(),this.Ye=new lt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(jm(u))if(s===0){const f=new pe(u.path);this.et(n,f,Wt.newNoDocument(f,we.min()))}else Be(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Zi(s).toUint8Array()}catch(p){if(p instanceof ub)return lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ap(f,o,u)}catch(p){return lo(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&jm(m.target)){const p=new pe(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ve();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Gh(e,n,this.Ye,this.je,s);return this.je=Zr(),this.Je=Yc(),this.He=Yc(),this.Ye=new lt(Me),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new lt(pe.comparator)}function Tv(){return new lt(pe.comparator)}const nC={asc:"ASCENDING",desc:"DESCENDING"},rC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iC={and:"AND",or:"OR"};class sC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(i,e){return i.useProto3Json||Uh(e)?e:{value:e}}function vh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ub(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function aC(i,e){return vh(i,e.toTimestamp())}function _r(i){return Be(!!i,49232),we.fromTimestamp((function(n){const s=Wi(n);return new nt(s.seconds,s.nanos)})(i))}function xp(i,e){return qm(i,e).canonicalString()}function qm(i,e){const n=(function(o){return new Je(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function zb(i){const e=Je.fromString(i);return Be(Gb(e),10190,{key:e.toString()}),e}function Hm(i,e){return xp(i.databaseId,e.path)}function ym(i,e){const n=zb(e);if(n.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(qb(n))}function Bb(i,e){return xp(i.databaseId,e)}function oC(i){const e=zb(i);return e.length===4?Je.emptyPath():qb(e)}function Fm(i){return new Je(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qb(i){return Be(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function wv(i,e,n){return{name:Hm(i,e),fields:n.value.mapValue.fields}}function lC(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Be(_===void 0||typeof _=="string",58123),Ft.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ft.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const _=g.code===void 0?W.UNKNOWN:Pb(g.code);return new le(_,g.message||"")})(f);n=new jb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(i,s.document.name),u=_r(s.document.updateTime),f=s.document.createTime?_r(s.document.createTime):we.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new ih(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ym(i,s.document),u=s.readTime?_r(s.readTime):we.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ym(i,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new W2(o,u),m=s.targetId;n=new Lb(m,f)}}return n}function uC(i,e){let n;if(e instanceof yu)n={update:wv(i,e.key,e.value)};else if(e instanceof wp)n={delete:Hm(i,e.key)};else if(e instanceof is)n={update:wv(i,e.key,e.data),updateMask:_C(e.fieldMask)};else{if(!(e instanceof Q2))return Ee(16599,{Vt:e.type});n={verify:Hm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:aC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function cC(i,e){return i&&i.length>0?(Be(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?_r(o.updateTime):_r(u);return f.isEqual(we.min())&&(f=_r(u)),new G2(f,o.transformResults||[])})(n,e)))):[]}function hC(i,e){return{documents:[Bb(i,e.path)]}}function fC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Bb(i,o);const u=(function(g){if(g.length!==0)return Fb(Zn.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((_=>(function(A){return{field:eo(A.field),direction:pC(A.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Bm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function dC(i){let e=oC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Be(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const A=Hb(T);return A instanceof Zn&&vb(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((A=>(function(B){return new iu(to(B.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Uh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,V=T.values||[];return new yh(V,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,V=T.values||[];return new yh(V,A)})(n.endAt)),D2(e,o,f,u,m,"F",p,g)}function mC(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Tt.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Zn.create(n.compositeFilter.filters.map((s=>Hb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function pC(i){return nC[i]}function gC(i){return rC[i]}function yC(i){return iC[i]}function eo(i){return{fieldPath:i.canonicalString()}}function to(i){return Ht.fromServerFormat(i.fieldPath)}function Fb(i){return i instanceof Tt?(function(n){if(n.op==="=="){if(cv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(uv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(uv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:gC(n.op),value:n.value}}})(i):i instanceof Zn?(function(n){const s=n.getFilters().map((o=>Fb(o)));return s.length===1?s[0]:{compositeFilter:{op:yC(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function _C(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.yt=e}}function EC(i){const e=dC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.Cn=new TC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Xi.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class TC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(Je.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$b=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn($b,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LruGarbageCollector",wC=1048576;function xv([i,e],[n,s]){const o=Me(i,n);return o===0?Me(e,s):o}class SC{constructor(e){this.Ir=e,this.buffer=new It(xv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Av,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?ue(Av,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class xC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(jh.ce);const s=new SC(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Sv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Za()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function RC(i,e){return new xC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ql(s.mutation,o,bn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=$s();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Bl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Zr();const f=Kl(),m=(function(){return Kl()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof is)?u=u.insert(g.key,g):_!==void 0?(f.set(g.key,_.mutation.getFieldMask()),Ql(_.mutation,g,_.mutation.getFieldMask(),nt.now())):f.set(g.key,bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>f.set(g,_))),n.forEach(((g,_)=>m.set(g,new IC(_,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Kl();let o=new lt(((f,m)=>f-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||bn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=Cb();_.forEach((A=>{if(!u.has(A)){const V=Mb(n.get(A),s.get(A));V!==null&&T.set(A,V),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve($s());let m=eu,p=u;return f.next((g=>ee.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{p=p.insert(_,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((_=>({batchId:m,changes:Rb(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(T,A){return new wo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const _=g.getKey();f.get(_)===null&&(f=f.insert(_,Wt.newInvalidDocument(_)))}));let m=Bl();return f.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&Ql(_.mutation,g,bn.empty(),nt.now()),qh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:EC(o.bundledQuery),readTime:_r(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.overlays=new lt(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt(((g,_)=>g-_));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=$s(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new X2(n,s));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.Qr=new It(Pt.$r),this.Ur=new It(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new Je([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Je([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Pt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Y2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?gp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Me);return n.forEach((o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new pe(u),0);let m=new It(Me);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.ri=e,this.docs=(function(){return new lt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=Zr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Zr();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||u2(l2(_),s)<=0||(o.has(_.key)||qh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new PC(this)}getSize(e){return ee.resolve(this.size)}}class PC extends CC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.persistence=e,this.si=new ia((n=>vp(n)),Ep),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new kC,this.referenceDelegate=e(this),this.Pi=new LC(this),this.indexManager=new bC,this.remoteDocumentCache=(function(o){return new VC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new vC(n),this.Ii=new DC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new MC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new jC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class jC extends h2{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Ri=new Rp,this.Vi=null}static mi(e){return new Cp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.pi=new ia((s=>m2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=RC(this,n)}static mi(e,n){return new Eh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PA()?8:f2(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new UC;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Za()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Za()<=ke.DEBUG&&ue("QueryEngine","Query:",Ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Za()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):ee.resolve())}ys(e,n){if(mv(n))return ee.resolve(null);let s=yr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zm(n,null,"F"),s=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ve(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,zm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return mv(n)||o.isEqual(we.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Za()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.vs(e,f,n,o2(o,eu)).next((m=>m)))}))}Ds(e,n){let s=new It(Ab(e));return n.forEach(((o,u)=>{qh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Za()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ps.getDocumentsMatchingQuery(e,n,Xi.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="LocalStore",BC=3e8;class qC{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Me),this.xs=new ia((u=>vp(u)),Ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function HC(i,e,n,s){return new qC(i,e,n,s)}async function Qb(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function FC(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,A=T.keys();let V=ee.resolve();return A.forEach((B=>{V=V.next((()=>_.getEntry(p,B))).next((K=>{const F=g.docVersions.get(B);Be(F!==null,48541),K.version.compareTo(F)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),_.addEntry(K)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Yb(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function GC(i,e){const n=xe(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T))));let V=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(Ft.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,s)),o=o.insert(T,V),(function(K,F,Z){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=BC?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,V,_)&&m.push(n.Pi.updateTargetData(u,V))}));let p=Zr(),g=Ve();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push($C(u,f,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(we.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function $C(i,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=Zr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Np,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function KC(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function QC(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new qi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Gm(i,e,n){const s=xe(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!To(f))throw f;ue(Np,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Rv(i,e,n){const s=xe(i);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,_){const T=xe(p),A=T.xs.get(_);return A!==void 0?ee.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,_)})(s,f,yr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ve()))).next((m=>(YC(s,k2(e),m),{documents:m,Qs:u})))))}function YC(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class Cv{constructor(){this.activeTargetIds=U2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XC{constructor(){this.Mo=new Cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="ConnectivityMonitor";class Nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Iv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function $m(){return Xc===null?Xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",ZC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=$m(),m=this.zo(e,n.toUriEncodedString());ue(_m,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=_o(g);return this.Jo(e,m,p,s,_).then((T=>(ue(_m,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw lo(_m,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=ZC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class tI extends JC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=$m();return new Promise(((m,p)=>{const g=new ZE;g.setWithCredentials(!0),g.listenOnce(JE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case eh.NO_ERROR:const T=g.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case eh.TIMEOUT:ue(Yt,`RPC '${e}' ${f} timed out`),p(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const A=g.getStatus();if(ue(Yt,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const B=V?.error;if(B&&B.status&&B.message){const K=(function(Z){const te=Z.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(te)>=0?te:W.UNKNOWN})(B.status);p(new le(K,B.message))}else p(new le(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Yt,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);ue(Yt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=$m(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=nb(),m=tb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=f.createWebChannel(_,p);this.I_(T);let A=!1,V=!1;const B=new eI({Yo:F=>{V?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),K=(F,Z,te)=>{F.listen(Z,(ie=>{try{te(ie)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return K(T,zl.EventType.OPEN,(()=>{V||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),K(T,zl.EventType.CLOSE,(()=>{V||(V=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(T))})),K(T,zl.EventType.ERROR,(F=>{V||(V=!0,lo(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),B.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),K(T,zl.EventType.MESSAGE,(F=>{if(!V){const Z=F.data[0];Be(!!Z,16349);const te=Z,ie=te?.error||te[0]?.error;if(ie){ue(Yt,`RPC '${e}' stream ${o} received error:`,ie);const Se=ie.status;let he=(function(x){const R=bt[x];if(R!==void 0)return Pb(R)})(Se),fe=ie.message;he===void 0&&(he=W.INTERNAL,fe="Unknown error status: "+Se+" with message "+ie.message),V=!0,B.a_(new le(he,fe)),T.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,Z),B.u_(Z)}})),K(m,eb.STAT_EVENT,(F=>{F.stat===km.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===km.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(i){return new sC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="PersistentStream";class Wb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(Dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nI extends Wb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?_r(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Fm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=jm(p)?{documents:hC(u,p)}:{query:fC(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ub(u,f.resumeToken);const g=Bm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=vh(u,f.snapshotVersion.toTimestamp());const g=Bm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=mC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.q_(n)}}class rI extends Wb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cC(e.writeResults,e.commitTime),s=_r(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>uC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{}class sI extends iI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,qm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,qm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class oI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(ue(Js,"Restarting streams for network reachability change."),await(async function(p){const g=xe(p);g.Ea.add(4),await vu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Kh(g)})(this))}))})),this.Ra=new aI(s,o)}}async function Kh(i){if(sa(i))for(const e of i.da)await e(!0)}async function vu(i){for(const e of i.da)await e(!1)}function Zb(i,e){const n=xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mp(n)?kp(n):So(n).O_()&&Op(n,e))}function Dp(i,e){const n=xe(i),s=So(n);n.Ia.delete(e),s.O_()&&Jb(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function Op(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(i).Y_(e)}function Jb(i,e){i.Va.Ue(e),So(i).Z_(e)}function kp(i){i.Va=new tC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),So(i).start(),i.Ra.ua()}function Mp(i){return sa(i)&&!So(i).x_()&&i.Ia.size>0}function sa(i){return xe(i).Ea.size===0}function eT(i){i.Va=void 0}async function lI(i){i.Ra.set("Online")}async function uI(i){i.Ia.forEach(((e,n)=>{Op(i,e)}))}async function cI(i,e){eT(i),Mp(i)?(i.Ra.ha(e),kp(i)):i.Ra.set("Unknown")}async function hI(i,e,n){if(i.Ra.set("Online"),e instanceof jb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bh(i,s)}else if(e instanceof ih?i.Va.Ze(e):e instanceof Lb?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await Yb(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Ft.EMPTY_BYTE_STRING,_.snapshotVersion)),Jb(u,p);const T=new qi(_.target,p,g,_.sequenceNumber);Op(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(Js,"Failed to raise snapshot:",s),await bh(i,s)}}async function bh(i,e,n){if(!To(e))throw e;i.Ea.add(1),await vu(i),i.Ra.set("Offline"),n||(n=()=>Yb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Js,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Kh(i)}))}function tT(i,e){return e().catch((n=>bh(i,n,e)))}async function Qh(i){const e=xe(i),n=es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gp;for(;fI(e);)try{const o=await KC(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,dI(e,o)}catch(o){await bh(e,o)}nT(e)&&rT(e)}function fI(i){return sa(i)&&i.Ta.length<10}function dI(i,e){i.Ta.push(e);const n=es(i);n.O_()&&n.X_&&n.ea(e.mutations)}function nT(i){return sa(i)&&!es(i).x_()&&i.Ta.length>0}function rT(i){es(i).start()}async function mI(i){es(i).ra()}async function pI(i){const e=es(i);for(const n of i.Ta)e.ea(n.mutations)}async function gI(i,e,n){const s=i.Ta.shift(),o=Sp.from(s,e,n);await tT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Qh(i)}async function yI(i,e){e&&es(i).X_&&await(async function(s,o){if((function(f){return Z2(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();es(s).B_(),await tT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Qh(s)}})(i,e),nT(i)&&rT(i)}async function Ov(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),ue(Js,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await vu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function _I(i,e){const n=xe(i);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function So(i){return i.ma||(i.ma=(function(n,s,o){const u=xe(n);return u.sa(),new nI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:lI.bind(null,i),t_:uI.bind(null,i),r_:cI.bind(null,i),H_:hI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Mp(i)?kp(i):i.Ra.set("Unknown")):(await i.ma.stop(),eT(i))}))),i.ma}function es(i){return i.fa||(i.fa=(function(n,s,o){const u=xe(n);return u.sa(),new rI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:mI.bind(null,i),r_:yI.bind(null,i),ta:pI.bind(null,i),na:gI.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Qh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Js,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Vp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(i,e){if(Wr("AsyncQueue",`${e}: ${i}`),To(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.ga=new lt(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class mo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new mo(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class EI{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=Mv(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function Mv(){return new ia((i=>Sb(i)),Bh)}async function bI(i,e){const n=xe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new vI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pp(f,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Lp(n)}async function TI(i,e){const n=xe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wI(i,e){const n=xe(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Lp(n)}function SI(i,e,n){const s=xe(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Lp(i){i.Ca.forEach((e=>{e.next()}))}var Km,Vv;(Vv=Km||(Km={})).Ma="default",Vv.Cache="cache";class AI{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class xI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=Ab(e),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new kv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const A=o.get(_),V=qh(this.query,T)?T:null,B=!!A&&this.mutatedKeys.has(A.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;A&&V?A.data.isEqual(V.data)?B!==K&&(s.track({type:3,doc:V}),F=!0):this.su(A,V)||(s.track({type:2,doc:V}),F=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),F=!0):A&&!V&&(s.track({type:1,doc:A}),F=!0,(p||g)&&(m=!0)),F&&(V?(f=f.add(V),u=K?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,T)=>(function(V,B){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:F})}};return K(V)-K(B)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new mo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new sT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new iT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jp="SyncEngine";class RI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class CI{constructor(e){this.key=e,this.hu=!1}}class II{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>Sb(m)),Bh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(pe.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NI(i,e,n=!0){const s=hT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await aT(s,e,n,!0),o}async function DI(i,e){const n=hT(i);await aT(n,e,!0,!1)}async function aT(i,e,n,s){const o=await QC(i.localStore,yr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await OI(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Zb(i.remoteStore,o),m}async function OI(i,e,n,s,o){i.pu=(T,A,V)=>(async function(K,F,Z,te){let ie=F.view.ru(Z);ie.Cs&&(ie=await Rv(K.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,ie))));const Se=te&&te.targetChanges.get(F.targetId),he=te&&te.targetMismatches.get(F.targetId)!=null,fe=F.view.applyChanges(ie,K.isPrimaryClient,Se,he);return Lv(K,F.targetId,fe.au),fe.snapshot})(i,T,A,V);const u=await Rv(i.localStore,e,!0),f=new xI(e,u.Qs),m=f.ru(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);Lv(i,n,g.au);const _=new RI(e,n,f);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function kI(i,e,n){const s=xe(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Bh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dp(s.remoteStore,o.targetId),Qm(s,o.targetId)})).catch(bo)):(Qm(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function MI(i,e){const n=xe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(n.remoteStore,s.targetId))}async function VI(i,e,n){const s=qI(i);try{const o=await(function(f,m){const p=xe(f),g=nt.now(),_=m.reduce(((V,B)=>V.add(B.key)),Ve());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let B=Zr(),K=Ve();return p.Ns.getEntries(V,_).next((F=>{B=F,B.forEach(((Z,te)=>{te.isValidDocument()||(K=K.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,B))).next((F=>{T=F;const Z=[];for(const te of m){const ie=K2(te,T.get(te.key).overlayedDocument);ie!=null&&Z.push(new is(te.key,ie,gb(ie.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,Z,m)})).next((F=>{A=F;const Z=F.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(V,F.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:Rb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new lt(Me)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Eu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Pp(o,"Failed to persist write");n.reject(u)}}async function oT(i,e){const n=xe(i);try{const s=await GC(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Be(f.hu,14607):o.removedDocuments.size>0&&(Be(f.hu,42227),f.hu=!1))})),await Eu(n,s,e)}catch(s){await bo(s)}}function Pv(i,e,n){const s=xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=xe(f);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&Lp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PI(i,e,n){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new lt(pe.comparator);f=f.insert(u,Wt.newNoDocument(u,we.min()));const m=Ve().add(u),p=new Gh(we.min(),new Map,new lt(Me),f,m);await oT(s,p),s.du=s.du.remove(u),s.Au.delete(e),Up(s)}else await Gm(s.localStore,e,!1).then((()=>Qm(s,e,n))).catch(bo)}async function LI(i,e){const n=xe(i),s=e.batch.batchId;try{const o=await FC(n.localStore,e);uT(n,s,null),lT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await bo(o)}}async function jI(i,e,n){const s=xe(i);try{const o=await(function(f,m){const p=xe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Be(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);uT(s,e,n),lT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await bo(o)}}function lT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function uT(i,e,n){const s=xe(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Qm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||cT(i,s)}))}function cT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Dp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Up(i))}function Lv(i,e,n){for(const s of n)s instanceof iT?(i.Ru.addReference(s.key,e),UI(i,s)):s instanceof sT?(ue(jp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||cT(i,s.key)):Ee(19791,{wu:s})}function UI(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(jp,"New document in limbo: "+n),i.Eu.add(s),Up(i))}function Up(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(Je.fromString(e)),s=i.fu.next();i.Au.set(s,new CI(n)),i.du=i.du.insert(n,s),Zb(i.remoteStore,new qi(yr(bp(n.path)),s,"TargetPurposeLimboResolution",jh.ce))}}async function Eu(i,e,n){const s=xe(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Ip.As(p.targetId,g);u.push(_)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const _=xe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(A=>ee.forEach(A.Es,(V=>_.persistence.referenceDelegate.addReference(T,A.targetId,V))).next((()=>ee.forEach(A.ds,(V=>_.persistence.referenceDelegate.removeReference(T,A.targetId,V)))))))))}catch(T){if(!To(T))throw T;ue(Np,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const V=_.Ms.get(A),B=V.snapshotVersion,K=V.withLastLimboFreeSnapshotVersion(B);_.Ms=_.Ms.insert(A,K)}}})(s.localStore,u))}async function zI(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){ue(jp,"User change. New user:",e.toKey());const s=await Qb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Ls)}}function BI(i,e){const n=xe(i),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function hT(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=oT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PI.bind(null,e),e.Pu.H_=wI.bind(null,e.eventManager),e.Pu.yu=SI.bind(null,e.eventManager),e}function qI(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jI.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HC(this.persistence,new zC,e.initialUser,this.serializer)}Cu(e){return new Kb(Cp.mi,this.serializer)}Du(e){return new XC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class HI extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Kb((s=>Eh.mi(s,n)),this.serializer)}}class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Pv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zI.bind(null,this.syncEngine),await _I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EI})()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),s=(function(u){return new tI(u)})(e.databaseInfo);return(function(u,f,m,p){return new sI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new oI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Pv(this.syncEngine,n,0)),(function(){return Nv.v()?new Nv:new WC})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,_){const T=new II(o,u,f,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);ue(Js,"RemoteStore shutting down."),s.Ea.add(5),await vu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ym.provider={build:()=>new Ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class GI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Em(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Qb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function jv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await $I(i);ue(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Ov(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Ov(e.remoteStore,o))),i._onlineComponents=e}async function $I(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ts,"Using user provided OfflineComponentProvider");try{await Em(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await Em(i,new Th)}}else ue(ts,"Using default OfflineComponentProvider"),await Em(i,new HI(void 0));return i._offlineComponents}async function fT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ts,"Using user provided OnlineComponentProvider"),await jv(i,i._uninitializedComponentsProvider._online)):(ue(ts,"Using default OnlineComponentProvider"),await jv(i,new Ym))),i._onlineComponents}function KI(i){return fT(i).then((e=>e.syncEngine))}async function Uv(i){const e=await fT(i),n=e.eventManager;return n.onListen=NI.bind(null,e.syncEngine),n.onUnlisten=kI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MI.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firestore.googleapis.com",Bv=!0;class qv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mT,this.ssl=Bv}else this.host=e.host,this.ssl=e.ssl??Bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$b;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wC)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new XR;switch(s.type){case"firstParty":return new e2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=zv.get(n);s&&(ue("ComponentProvider","Removing Datastore"),zv.delete(n),s.terminate())})(this),Promise.resolve()}}function QI(i,e,n,s={}){i=Qi(i,Yh);const o=_o(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(PE(`https://${m}`),LE("Firestore",!0)),u.host!==mT&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Xs(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Xt.MOCK_USER;else{g=RA(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Xt(T)}i._authCredentials=new WR(new ib(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class St{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gu(n,St._jsonSchema))return new St(e,s||null,new pe(Je.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:wt("string",St._jsonSchemaVersion),referencePath:wt("string")};class Yi extends aa{constructor(e,n,s){super(e,n,bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new pe(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function wh(i,e,...n){if(i=Nt(i),sb("collection","path",e),i instanceof Yh){const s=Je.fromString(e,...n);return ev(s),new Yi(i,null,s)}{if(!(i instanceof St||i instanceof Yi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Je.fromString(e,...n));return ev(s),new Yi(i.firestore,null,s)}}function lu(i,e,...n){if(i=Nt(i),arguments.length===1&&(e=pp.newId()),sb("doc","path",e),i instanceof Yh){const s=Je.fromString(e,...n);return J0(s),new St(i,null,new pe(s))}{if(!(i instanceof St||i instanceof Yi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Je.fromString(e,...n));return J0(s),new St(i.firestore,i instanceof Yi?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="AsyncQueue";class Fv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xb(this,"async_queue_retry"),this._c=()=>{const s=vm();s&&ue(Hv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ue(Hv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",Gv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Vp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Gv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class po extends Yh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Fv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fv(e),this._firestoreClient=void 0,await e}}}function YI(i,e){const n=typeof i=="object"?i:BE(),s=typeof i=="string"?i:ph,o=fp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=AA("firestore");u&&QI(o,...u)}return o}function pT(i){if(i._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||XI(i),i._firestoreClient}function XI(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new y2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,dT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new GI(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Ft.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:wt("string",Vn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(gu(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:wt("string",vr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Er(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:wt("string",Er._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=/^__.*__$/;class ZI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class gT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class zp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yT(this.Ac)&&WI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||$h(e)}Cc(e,n,s,o=!1){return new zp({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(i){const e=i._freezeSettings(),n=$h(i._databaseId);return new JI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function eN(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Hp("Data must be an object, but it was:",f,s);const m=_T(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const A=Xm(e,T,n);if(!f.contains(A))throw new le(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);ET(_,A)||_.push(A)}p=new bn(_),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new ZI(new hn(m),p,g)}class Zh extends Wh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}class qp extends Wh{_toFieldTransform(e){return new H2(e.path,new su)}isEqual(e){return e instanceof qp}}function tN(i,e,n,s){const o=i.Cc(1,e,n);Hp("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();rs(s,((p,g)=>{const _=Fp(e,p,n);g=Nt(g);const T=o.yc(_);if(g instanceof Zh)u.push(_);else{const A=bu(g,T);A!=null&&(u.push(_),f.set(_,A))}}));const m=new bn(u);return new gT(f,m,o.fieldTransforms)}function nN(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[Xm(e,s,n)],p=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Xm(e,u[A])),p.push(u[A+1]);const g=[],_=hn.empty();for(let A=m.length-1;A>=0;--A)if(!ET(g,m[A])){const V=m[A];let B=p[A];B=Nt(B);const K=f.yc(V);if(B instanceof Zh)g.push(V);else{const F=bu(B,K);F!=null&&(g.push(V),_.set(V,F))}}const T=new bn(g);return new gT(_,T,f.fieldTransforms)}function rN(i,e,n,s=!1){return bu(n,i.Cc(s?4:3,e))}function bu(i,e){if(vT(i=Nt(i)))return Hp("Unsupported field value:",e,i),_T(i,e);if(i instanceof Wh)return(function(s,o){if(!yT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=bu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return z2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:vh(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(o.serializer,u)}}if(s instanceof vr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:Ub(o.serializer,s._byteString)};if(s instanceof St){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Er)return(function(f,m){return{mapValue:{fields:{[mb]:{stringValue:pb},[gh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Lh(s)}`)})(i,e)}function _T(i,e){const n={};return lb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(i,((s,o)=>{const u=bu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof vr||i instanceof Vn||i instanceof St||i instanceof Wh||i instanceof Er)}function Hp(i,e,n){if(!vT(n)||!ab(n)){const s=Lh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Xm(i,e,n){if((e=Nt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Fp(i,e);throw Sh("Field path arguments must be of type string or ",i,!1,void 0,n)}const iN=new RegExp("[~\\*/\\[\\]]");function Fp(i,e,n){if(e.search(iN)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Sh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(W.INVALID_ARGUMENT,m+i+p)}function ET(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sN extends bT{data(){return super.data()}}function Gp(i,e){return typeof e=="string"?Fp(i,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class TT extends $p{}function wT(i,e,...n){let s=[];e instanceof $p&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Qp)).length,m=u.filter((p=>p instanceof Kp)).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Kp extends TT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Kp(e,n,s)}_apply(e){const n=this._parse(e);return AT(e._query,n),new aa(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=Bp(e.firestore);return(function(u,f,m,p,g,_,T){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Qv(T,_);const B=[];for(const K of T)B.push(Kv(p,u,K));A={arrayValue:{values:B}}}else A=Kv(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Qv(T,_),A=rN(m,f,T,_==="in"||_==="not-in");return Tt.create(g,_,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Qp extends $p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)AT(f,p),f=Um(f,p)})(e._query,n),new aa(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yp extends TT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(u,f)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new wo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function ST(i,e="asc"){const n=e,s=Gp("orderBy",i);return Yp._create(s,n)}function Kv(i,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wb(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Je.fromString(n));if(!pe.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return lv(i,new pe(s))}if(n instanceof St)return lv(i,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function Qv(i,e){if(!Array.isArray(i)||i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AT(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oN{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return rs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Er(n)}convertGeoPoint(e){return new vr(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Je.fromString(e);Be(Gb(s),9688,{name:e});const o=new nu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||Wr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends bT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Gp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:wt("string",Ys._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class sh extends Ys{data(e={}){return super.data(e)}}class ro{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:uN(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:wt("string",ro._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class xT extends oN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function RT(i,e,n,...s){i=Qi(i,St);const o=Qi(i.firestore,po),u=Bp(o);let f;return f=typeof(e=Nt(e))=="string"||e instanceof Xh?nN(u,"updateDoc",i._key,e,n,s):tN(u,"updateDoc",i._key,e),Xp(o,[f.toMutation(i._key,Xn.exists(!0))])}function CT(i){return Xp(Qi(i.firestore,po),[new wp(i._key,Xn.none())])}function IT(i,e){const n=Qi(i.firestore,po),s=lu(i),o=lN(i.converter,e);return Xp(n,[eN(Bp(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then((()=>s))}function NT(i,...e){i=Nt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||$v(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($v(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(i instanceof St)f=Qi(i.firestore,po),m=bp(i._key.path),u={next:p=>{e[s]&&e[s](cN(f,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Qi(i,aa);f=Qi(p.firestore,po),m=p._query;const g=new xT(f);u={next:_=>{e[s]&&e[s](new ro(f,g,p,_))},error:e[s+1],complete:e[s+2]},aN(i._query)}return(function(g,_,T,A){const V=new FI(A),B=new AI(_,V,T);return g.asyncQueue.enqueueAndForget((async()=>bI(await Uv(g),B))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>TI(await Uv(g),B)))}})(pT(f),m,o,u)}function Xp(i,e){return(function(s,o){const u=new Qs;return s.asyncQueue.enqueueAndForget((async()=>VI(await KI(s),o,u))),u.promise})(pT(i),e)}function cN(i,e,n){const s=n.docs.get(e._key),o=new xT(i);return new Ys(i,o,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}function Ah(){return new qp("serverTimestamp")}(function(e,n=!0){(function(o){Eo=o})(vo),oo(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new po(new ZR(s.getProvider("auth-internal")),new t2(f,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(g.options.projectId,_)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),$i(Y0,X0,e),$i(Y0,X0,"esm2020")})();function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hN=DT,OT=new mu("auth","Firebase",DT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new cp("@firebase/auth");function fN(i,...e){xh.logLevel<=ke.WARN&&xh.warn(`Auth (${vo}): ${i}`,...e)}function ah(i,...e){xh.logLevel<=ke.ERROR&&xh.error(`Auth (${vo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(i,...e){throw Zp(i,...e)}function Wn(i,...e){return Zp(i,...e)}function Wp(i,e,n){const s={...hN(),[e]:n};return new mu("auth","Firebase",s).create(e,{appName:i.name})}function Qr(i){return Wp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dN(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ln(i,"argument-error"),Wp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return OT.create(i,...e)}function ve(i,e,...n){if(!i)throw Zp(e,...n)}function Gr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ah(e),new Error(e)}function Jr(i,e){i||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){return typeof self<"u"&&self.location?.href||""}function mN(){return Yv()==="http:"||Yv()==="https:"}function Yv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mN()||kA()||"connection"in navigator)?navigator.onLine:!0}function gN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=NA()||MA()}get(){return pN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i,e){Jr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vN=new Tu(3e4,6e4);function ss(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function as(i,e,n,s,o={}){return MT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=pu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return OA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&_o(i.emulatorConfig.host)&&(g.credentials="include"),kT.fetch()(await VT(i,i.config.apiHost,n,m),g)})}async function MT(i,e,n){i._canInitEmulator=!1;const s={...yN,...e};try{const o=new bN(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(i,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Wp(i,_,g);Ln(i,_)}}catch(o){if(o instanceof tr)throw o;Ln(i,"network-request-failed",{message:String(o)})}}async function wu(i,e,n,s,o={}){const u=await as(i,e,n,s,o);return"mfaPendingCredential"in u&&Ln(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function VT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Jp(i.config,o):`${i.config.apiScheme}://${o}`;return _N.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function EN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Wn(this.auth,"network-request-failed")),vN.get())})}}function Wc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Wn(i,e,s);return o.customData._tokenResponse=n,o}function Xv(i){return i!==void 0&&i.enterprise!==void 0}class TN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wN(i,e){return as(i,"GET","/v2/recaptchaConfig",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(i,e){return as(i,"POST","/v1/accounts:delete",e)}async function Rh(i,e){return as(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AN(i,e=!1){const n=Nt(i),s=await n.getIdToken(e),o=eg(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Yl(bm(o.auth_time)),issuedAtTime:Yl(bm(o.iat)),expirationTime:Yl(bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(i){return Number(i)*1e3}function eg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=OE(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Wv(i){const e=eg(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof tr&&xN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function xN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(i){const e=i.auth,n=await i.getIdToken(),s=await uu(i,Rh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?PT(o.providerUserInfo):[],f=IN(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function CN(i){const e=Nt(i);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function PT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(i,e){const n=await MT(i,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await VT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&_o(i.emulatorConfig.host)&&(p.credentials="include"),kT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DN(i,e){return as(i,"POST","/v2/accounts:revokeToken",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Wv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await NN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new io;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new RN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AN(this,e)}reload(){return CN(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await uu(this,SN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:V,providerData:B,stsTokenManager:K}=n;ve(T&&K,e,"internal-error");const F=io.fromJSON(this.name,K);ve(typeof T=="string",e,"internal-error"),ji(s,e.name),ji(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof V=="boolean",e,"internal-error"),ji(u,e.name),ji(f,e.name),ji(m,e.name),ji(p,e.name),ji(g,e.name),ji(_,e.name);const Z=new Yn({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:_});return B&&Array.isArray(B)&&(Z.providerData=B.map(te=>({...te}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new io;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?PT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new io;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;function $r(i){Jr(i instanceof Function,"Expected a class definition");let e=Zv.get(i);return e?(Jr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Zv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LT.type="NONE";const Jv=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(i,e,n){return`firebase:${i}:${e}:${n}`}class so{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new so($r(Jv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||$r(Jv);const f=oh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(f);if(_){let T;if(typeof _=="string"){const A=await Rh(e,{idToken:_}).catch(()=>{});if(!A)break;T=await Yn._fromGetAccountInfoResponse(e,A,_)}else T=Yn._fromJSON(e,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new so(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HT(e))return"Blackberry";if(FT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function jT(i=Zt()){return/firefox\//i.test(i)}function UT(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(i=Zt()){return/crios\//i.test(i)}function BT(i=Zt()){return/iemobile/i.test(i)}function qT(i=Zt()){return/android/i.test(i)}function HT(i=Zt()){return/blackberry/i.test(i)}function FT(i=Zt()){return/webos/i.test(i)}function tg(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ON(i=Zt()){return tg(i)&&!!window.navigator?.standalone}function kN(){return VA()&&document.documentMode===10}function GT(i=Zt()){return tg(i)||qT(i)||FT(i)||HT(i)||/windows phone/i.test(i)||BT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(i,e=[]){let n;switch(i){case"Browser":n=eE(Zt());break;case"Worker":n=`${eE(Zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(i,e={}){return as(i,"GET","/v2/passwordPolicy",ss(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=6;class LN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new MN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(En(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(Qr(this));const n=e?Nt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VN(this),n=new LN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function os(i){return Nt(i)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=HA(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UN(i){Jh=i}function KT(i){return Jh.loadJS(i)}function zN(){return Jh.recaptchaEnterpriseScript}function BN(){return Jh.gapiScript}function qN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class HN{constructor(){this.enterprise=new FN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GN="recaptcha-enterprise",QT="NO_RECAPTCHA";class $N{constructor(e){this.type=GN,this.auth=os(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{wN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new TN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Xv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(QT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Xv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=zN();p.length!==0&&(p+=m),KT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function nE(i,e,n,s=!1,o=!1){const u=new $N(i);let f;if(o)f=QT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Jm(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await nE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await nE(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(i,e){const n=fp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return o;Ln(o,"already-initialized")}return n.initialize({options:e})}function QN(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map($r);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function YN(i,e,n){const s=os(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=YT(e),{host:f,port:m}=XN(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Xs(g,s.config.emulator)&&Xs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,_o(f)?(PE(`${u}//${f}${p}`),LE("Auth",!0)):WN()}function YT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function XN(i){const e=YT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:rE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:rE(f)}}}function rE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function WN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function ZN(i,e){return as(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(i,e){return wu(i,"POST","/v1/accounts:signInWithPassword",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",ss(i,e))}async function tD(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends ng{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,n,"signInWithPassword",JN);case"emailLink":return eD(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,s,"signUpPassword",ZN);case"emailLink":return tD(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(i,e){return wu(i,"POST","/v1/accounts:signInWithIdp",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="http://localhost";class ea extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:nD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iD(i){const e=jl(Ul(i)).link,n=e?jl(Ul(e)).deep_link_id:null,s=jl(Ul(i)).deep_link_id;return(s?jl(Ul(s)).link:null)||s||n||e||i}class rg{constructor(e){const n=jl(Ul(e)),s=n.apiKey??null,o=n.oobCode??null,u=rD(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=iD(e);try{return new rg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rg.parseLink(n);return ve(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Su{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Su{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Su{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(i,e){return wu(i,"POST","/v1/accounts:signUp",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),f=iE(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=iE(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function iE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends tr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function XT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(i,u,e,s):u})}async function aD(i,e,n=!1){const s=await uu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(i,e,n=!1){const{auth:s}=i;if(En(s.app))return Promise.reject(Qr(s));const o="reauthenticate";try{const u=await uu(i,XT(s,o,e,i),n);ve(u.idToken,s,"internal-error");const f=eg(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(i.uid===m,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ln(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(i,e,n=!1){if(En(i.app))return Promise.reject(Qr(i));const s="signIn",o=await XT(i,s,e),u=await ta._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function lD(i,e){return WT(os(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(i){const e=os(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uD(i,e,n){if(En(i.app))return Promise.reject(Qr(i));const s=os(i),f=await Jm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ZT(i),p}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function cD(i,e,n){return En(i.app)?Promise.reject(Qr(i)):lD(Nt(i),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ZT(i),s})}function hD(i,e,n,s){return Nt(i).onIdTokenChanged(e,n,s)}function fD(i,e,n){return Nt(i).beforeAuthStateChanged(e,n)}function dD(i,e,n,s){return Nt(i).onAuthStateChanged(e,n,s)}function mD(i){return Nt(i).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=1e3,gD=10;class ew extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);kN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ew.type="LOCAL";const yD=ew;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tw.type="SESSION";const nw=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await _D(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=sg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function ED(i){br().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function bD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TD(){return navigator?.serviceWorker?.controller||null}function wD(){return rw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firebaseLocalStorageDb",SD=1,Dh="firebaseLocalStorage",sw="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(i,e){return i.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function AD(){const i=indexedDB.deleteDatabase(iw);return new Au(i).toPromise()}function ep(){const i=indexedDB.open(iw,SD);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Dh,{keyPath:sw})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Dh)?e(s):(s.close(),await AD(),e(await ep()))})})}async function sE(i,e,n){const s=tf(i,!0).put({[sw]:e,value:n});return new Au(s).toPromise()}async function xD(i,e){const n=tf(i,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function aE(i,e){const n=tf(i,!0).delete(e);return new Au(n).toPromise()}const RD=800,CD=3;class aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>CD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(wD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bD(),!this.activeServiceWorker)return;this.sender=new vD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await sE(e,Nh,"1"),await aE(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>xD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aw.type="LOCAL";const ID=aw;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(i,e){return e?$r(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ND(i){return WT(i.auth,new ag(i),i.bypassAuthState)}function DD(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),oD(n,new ag(i),i.bypassAuthState)}async function OD(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),aD(n,new ag(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ND;case"linkViaPopup":case"linkViaRedirect":return OD;case"reauthViaPopup":case"reauthViaRedirect":return DD;default:Ln(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Tu(2e3,1e4);async function MD(i,e,n){if(En(i.app))return Promise.reject(Wn(i,"operation-not-supported-in-this-environment"));const s=os(i);dN(i,e,ig);const o=ow(s,n);return new Ks(s,"signInViaPopup",e,o).executeNotNull()}class Ks extends lw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kD.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="pendingRedirect",lh=new Map;class PD extends lw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await LD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LD(i,e){const n=zD(e),s=UD(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function jD(i,e){lh.set(i._key(),e)}function UD(i){return $r(i._redirectPersistence)}function zD(i){return oh(VD,i.config.apiKey,i.name)}async function BD(i,e,n=!1){if(En(i.app))return Promise.reject(Qr(i));const s=os(i),o=ow(s,e),f=await new PD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=600*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!uw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qD&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(e))}saveEventToCache(e){this.cachedEventUids.add(oE(e)),this.lastProcessedEventTime=Date.now()}}function oE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function uw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function FD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(i,e={}){return as(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KD=/^https?/;async function QD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await GD(i);for(const n of e)try{if(YD(n))return}catch{}Ln(i,"unauthorized-domain")}function YD(i){const e=Wm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!KD.test(n))return!1;if($D.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Tu(3e4,6e4);function lE(){const i=br().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function WD(i){return new Promise((e,n)=>{function s(){lE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lE(),n(Wn(i,"network-request-failed"))},timeout:XD.get()})}if(br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(br().gapi?.load)s();else{const o=qN("iframefcb");return br()[o]=()=>{gapi.load?s():n(Wn(i,"network-request-failed"))},KT(`${BN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw uh=null,e})}let uh=null;function ZD(i){return uh=uh||WD(i),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Tu(5e3,15e3),e4="__/auth/iframe",t4="emulator/auth/iframe",n4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i4(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Jp(e,t4):`https://${i.config.authDomain}/${e4}`,s={apiKey:e.apiKey,appName:i.name,v:vo},o=r4.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function s4(i){const e=await ZD(i),n=br().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:i4(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Wn(i,"network-request-failed"),m=br().setTimeout(()=>{u(f)},JD.get());function p(){br().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o4=500,l4=600,u4="_blank",c4="http://localhost";class uE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h4(i,e,n,s=o4,o=l4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...a4,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();n&&(m=zT(g)?u4:n),jT(g)&&(e=e||c4,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[V,B])=>`${A}${V}=${B},`,"");if(ON(g)&&m!=="_self")return f4(e||"",m),new uE(null);const T=window.open(e||"",m,_);ve(T,i,"popup-blocked");try{T.focus()}catch{}return new uE(T)}function f4(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="__/auth/handler",m4="emulator/auth/handler",p4=encodeURIComponent("fac");async function cE(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:vo,eventId:o};if(e instanceof ig){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",qA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))f[_]=T}if(e instanceof Su){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(f.scopes=_.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${p4}=${encodeURIComponent(p)}`:"";return`${g4(i)}?${pu(m).slice(1)}${g}`}function g4({config:i}){return i.emulator?Jp(i,m4):`https://${i.authDomain}/${d4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class y4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nw,this._completeRedirectFn=BD,this._overrideRedirectResult=jD}async _openPopup(e,n,s,o){Jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await cE(e,n,s,Wm(),o);return h4(e,u,sg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await cE(e,n,s,Wm(),o);return ED(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Jr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await s4(e),s=new HD(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GT()||UT()||tg()}}const _4=y4;var hE="@firebase/auth",fE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b4(i){oo(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$T(i)},g=new jN(s,o,u,p);return QN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oo(new Ws("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(s=>new v4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(hE,fE,E4(i)),$i(hE,fE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=300,w4=VE("authIdTokenMaxAge")||T4;let dE=null;const S4=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>w4)return;const o=n?.token;dE!==o&&(dE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function A4(i=BE()){const e=fp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=KN(i,{popupRedirectResolver:_4,persistence:[ID,yD,nw]}),s=VE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=S4(u.toString());fD(n,f,()=>f(n.currentUser)),hD(n,m=>f(m))}}const o=kE("auth");return o&&YN(n,`http://${o}`),n}function x4(){return document.getElementsByTagName("head")?.[0]??document}UN({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Wn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",x4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b4("Browser");const R4={apiKey:"AIzaSyAZMh2Q_QBKb6y6RJFPkYZOz_ntJYKqgrQ",authDomain:"idea-board-c0239.firebaseapp.com",databaseURL:"https://idea-board-c0239-default-rtdb.firebaseio.com",projectId:"idea-board-c0239",storageBucket:"idea-board-c0239.firebasestorage.app",messagingSenderId:"560114265833",appId:"1:560114265833:web:d5c01ff5a75b0ba2d80a78"},cw=zE(R4),Hi=YI(cw),Ll=A4(cw),nf=()=>{const[i,e]=M.useState([]),{user:n}=ra(),s=M.useMemo(()=>n?.uid,[n?.uid]);return M.useEffect(()=>{if(!s){e([]);return}try{const m=wh(Hi,"users",s,"notes"),p=wT(m,ST("createdAt","desc")),g=NT(p,_=>{const T=_.docs.map(A=>{const V=A.data();return{id:A.id,title:V.title,content:V.content,color:V.color,createdAt:V.createdAt,updatedAt:V.updatedAt}});e(T)},_=>{console.error("Error loading notes:",_)});return()=>g()}catch(m){console.error("Firebase configuration error:",m)}},[s]),{notes:i,addNote:async(m,p,g)=>{if(!s)throw new Error("User must be logged in to add notes");try{const _=wh(Hi,"users",s,"notes");await IT(_,{title:m,content:p,color:g,createdAt:Ah(),updatedAt:null})}catch(_){throw console.error("Error adding note:",_),new Error("Failed to add note: "+_.message)}},editNote:async(m,p,g,_)=>{if(!s)throw new Error("User must be logged in to update notes");try{const T=lu(Hi,"users",s,"notes",m);await RT(T,{title:p,content:g,color:_,updatedAt:Ah()})}catch(T){throw console.error("Error updating note:",T),new Error("Failed to update note: "+T.message)}},deleteNote:async m=>{if(!s)throw new Error("User must be logged in to delete notes");try{const p=lu(Hi,"users",s,"notes",m);await CT(p)}catch(p){throw console.error("Error deleting note:",p),new Error("Failed to delete note: "+p.message)}}}},xo=()=>{const[i,e]=M.useState([]),{user:n}=ra(),s=M.useMemo(()=>n?.uid,[n?.uid]);return M.useEffect(()=>{if(!s){e([]);return}try{const m=wh(Hi,"users",s,"tasks"),p=wT(m,ST("createdAt","desc")),g=NT(p,_=>{const T=_.docs.map(A=>{const V=A.data();return{id:A.id,title:V.title,description:V.description,status:V.status,priority:V.priority,createdAt:V.createdAt,updatedAt:V.updatedAt}});e(T)},_=>{console.error("Error loading tasks:",_)});return()=>g()}catch(m){console.error("Firebase configuration error:",m)}},[s]),{tasks:i,addTask:async(m,p,g)=>{if(!s)throw new Error("User must be logged in to add notes");try{const _=wh(Hi,"users",s,"tasks");await IT(_,{title:m,description:p,status:"open",priority:g,createdAt:Ah(),updatedAt:null})}catch(_){throw console.error("Error adding note:",_),new Error("Failed to add note: "+_.message)}},editTask:async(m,p,g,_,T)=>{if(!s)throw new Error("User must be logged in to update notes");try{const A=lu(Hi,"users",s,"tasks",m);await RT(A,{title:p,description:g,status:_,priority:T,updatedAt:Ah()})}catch(A){throw console.error("Error updating task:",A),new Error("Failed to update task: "+A.message)}},deleteTask:async m=>{if(!s)throw new Error("User must be logged in to delete tasks");try{const p=lu(Hi,"users",s,"tasks",m);await CT(p)}catch(p){throw console.error("Error deleting task:",p),new Error("Failed to delete task: "+p.message)}}}},hw=M.createContext(void 0),og=()=>{const i=M.useContext(hw);if(i===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return i},ei=({children:i,title:e,className:n,fullscreenMobile:s=!1})=>{const{openSidebar:o}=og();return b.jsxs("div",{className:`flex flex-col gap-6 ${s?"p-0 sm:p-6 lg:ml-0 sm:lg:ml-64":"p-6 lg:ml-64"} ${n}`,children:[b.jsxs("div",{className:`flex items-center gap-3 ${s?"px-4 pt-4 sm:px-0 sm:pt-0":""}`,children:[b.jsx("button",{onClick:o,className:"cursor-pointer lg:hidden",children:b.jsx(IR,{className:"w-[30px] h-[30px]",strokeWidth:2})}),b.jsx("h1",{className:"text-3xl font-bold",children:e})]}),i]})};function C4(){const{user:i}=ra(),{notes:e}=nf(),{tasks:n}=xo(),s=M.useMemo(()=>[{id:"sticky-wall",path:"/sticky-wall",label:"Sticky Wall",count:e.length,itemName:e.length===1?"note":"notes",icon:b.jsx(UR,{className:"w-6 h-6 text-blue-600"}),bgColor:"bg-blue-100"},{id:"tasks",path:"/tasks",label:"Tasks",count:n.length,itemName:n.length===1?"task":"tasks",icon:b.jsx(LR,{className:"w-6 h-6 text-green-600"}),bgColor:"bg-indigo-100"}],[e.length,n.length]);return b.jsx(ei,{title:"Dashboard",className:"lg:w-2/3",children:b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-gray-200",children:b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:b.jsx(FR,{className:"w-8 h-8 text-indigo-600"})})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome!"}),b.jsx("p",{className:"text-gray-600 text-sm sm:text-base truncate",children:i?.email}),b.jsxs("p",{className:"text-gray-400 text-xs font-mono truncate",children:["ID: ",i?.uid]})]})]})}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.map(o=>b.jsx(hh,{to:o.path,className:"bg-white rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-all hover:border-indigo-200 group",children:b.jsxs("div",{className:"flex items-start",children:[b.jsx("div",{className:`flex-shrink-0 ${o.bgColor} rounded-lg p-3 group-hover:scale-110 transition-transform`,children:o.icon}),b.jsxs("div",{className:"ml-4 flex-1",children:[b.jsx("p",{className:"text-sm font-medium text-gray-500",children:o.label}),b.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[o.count," ",o.itemName]})]})]})},o.id))})]})})}const I4=()=>{const{isSidebarOpen:i,closeSidebar:e}=og(),n=[{title:"Sticky Wall",path:"/sticky-wall"},{title:"Tasks",path:"/tasks"}],{logout:s}=ra(),o=Tn(),u=M.useCallback(async()=>{try{await s(),o("/login")}catch(f){console.error("Error during logout:",f)}},[s,o]);return b.jsxs("div",{className:`
        fixed top-0 left-0 h-screen bg-white shadow-2xl z-50
        transform transition-transform duration-300 ease-in-out
        w-80 lg:w-64 flex flex-col justify-between
        ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Idea Board"}),b.jsx("button",{onClick:e,className:"cursor-pointer p-1 hover:bg-gray-100 rounded lg:hidden",children:b.jsx(Om,{className:"w-6 h-6",strokeWidth:2})})]}),b.jsx("nav",{className:"px-4",children:b.jsxs("ul",{className:"space-y-3",children:[b.jsx(hh,{to:"/dashboard",className:({isActive:f})=>`block px-4 py-2 rounded transition-colors ${f?"bg-gray-100":"text-gray-700 hover:bg-gray-100"}`,onClick:e,children:"Dashboard"},0),b.jsx("hr",{className:"text-gray-300"}),n.map((f,m)=>b.jsx(hh,{to:f.path,className:({isActive:p})=>`block px-4 py-2 rounded transition-colors ${p?"bg-gray-100":"text-gray-700 hover:bg-gray-100"}`,onClick:e,children:f.title},m))]})})]}),b.jsxs("button",{onClick:u,className:"cursor-pointer px-4 py-3 m-4 text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200 flex items-center justify-center gap-2",children:[b.jsx(RR,{className:"w-4 h-4"}),"Logout"]})]})},hu={yellow:"bg-yellow-100",rose:"bg-rose-100",sky:"bg-sky-100",emerald:"bg-emerald-100",violet:"bg-violet-100",amber:"bg-amber-100"},N4=[{value:"low",label:"Low",color:"bg-white text-green-600 border-green-300 hover:border-green-400",activeColor:"bg-green-50 text-green-700 border-green-500",icon:""},{value:"medium",label:"Medium",color:"bg-white text-yellow-600 border-yellow-300 hover:border-yellow-400",activeColor:"bg-yellow-50 text-yellow-700 border-yellow-500",icon:""},{value:"high",label:"High",color:"bg-white text-red-600 border-red-300 hover:border-red-400",activeColor:"bg-red-50 text-red-700 border-red-500",icon:""}],D4=()=>{const[i,e]=M.useState(""),[n,s]=M.useState(""),[o,u]=M.useState("yellow"),{addNote:f}=nf(),m=Tn(),p=M.useMemo(()=>!i.trim()&&!n.trim(),[i,n]),g=M.useCallback(()=>{m("/sticky-wall")},[m]),_=M.useCallback(async()=>{if(!(!i.trim()&&!n.trim()))try{await f(i,n,o),m("/sticky-wall")}catch(T){console.error("Error creating note:",T)}},[f,o,n,m,i]);return b.jsx(ei,{title:"New Note",className:"lg:w-2/3",fullscreenMobile:!0,children:b.jsxs("div",{className:`${hu[o]} sm:rounded-2xl shadow-xl overflow-hidden flex flex-col min-h-[calc(100vh-8rem)] sm:min-h-[600px]`,children:[b.jsx("div",{className:"p-4 sm:p-6 flex items-center justify-between border-b border-gray-200/50 flex-shrink-0 gap-3",children:b.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[b.jsx("button",{onClick:g,className:"flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer flex-shrink-0 hover:bg-white/30 text-gray-700",children:b.jsx(Zl,{className:"w-5 h-5",strokeWidth:2})}),b.jsx("input",{type:"text",value:i,onChange:T=>e(T.target.value),maxLength:50,title:i,className:"flex-1 px-3 py-2 bg-white/70 border-2 border-gray-300 rounded-lg outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-800 text-lg font-bold min-w-0",placeholder:"Title..."})]})}),b.jsx("div",{className:"p-6 sm:p-8 flex-1 overflow-y-auto",children:b.jsx("textarea",{value:n,onChange:T=>s(T.target.value),className:"w-full px-4 py-3 bg-white/70 border-2 border-gray-300 rounded-xl resize-none outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-700 text-base leading-relaxed min-h-[300px]",placeholder:"Content..."})}),b.jsx("div",{className:"p-6 bg-white/30 backdrop-blur-sm border-t border-gray-200/50 flex-shrink-0",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Color:"}),b.jsx("div",{className:"flex gap-2",children:Object.entries(hu).map(([T,A])=>b.jsx("button",{type:"button",onClick:()=>u(T),className:`w-8 h-8 rounded-full ${A} border-2 transition-transform hover:scale-110 cursor-pointer ${o===T?"border-slate-800 scale-110":"border-slate-300"}`,title:T},T))})]}),b.jsxs("div",{className:"flex items-center justify-end gap-3",children:[b.jsx("button",{onClick:g,className:"px-5 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition-colors cursor-pointer text-sm",children:"Cancel"}),b.jsx("button",{onClick:_,disabled:p,title:p?"Add title or content":"Create note",className:"px-5 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none text-sm",children:"Create"})]})]})})]})})},tp=(i,e="short")=>{if(!i)return"Date not available";const n=i.toDate(),o=new Date().getTime()-n.getTime(),u=Math.floor(o/(1e3*60*60*24));if(e==="relative"){const f=Math.floor(o/6e4),m=Math.floor(o/(1e3*60*60));if(f<1)return"Just now";if(f<60)return`${f} ${f===1?"minute":"minutes"} ago`;if(m<24)return`${m} ${m===1?"hour":"hours"} ago`;if(u===0)return"Today";if(u===1)return"Yesterday";if(u<7)return`${u} days ago`;if(u<30){const g=Math.floor(u/7);return`${g} ${g===1?"week":"weeks"} ago`}if(u<365){const g=Math.floor(u/30);return`${g} ${g===1?"month":"months"} ago`}const p=Math.floor(u/365);return`${p} ${p===1?"year":"years"} ago`}if(e==="short"){const f=n.getDate(),m=n.toLocaleDateString("en-US",{month:"short"}),p=n.getFullYear();return`${f} ${m.charAt(0).toUpperCase()+m.slice(1)} ${p}`}return e==="full"?n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString("en-US")},O4=()=>{const{noteId:i}=TE(),e=Tn(),{notes:n,editNote:s,deleteNote:o}=nf(),[u,f]=M.useState(null),[m,p]=M.useState(!1),[g,_]=M.useState(""),[T,A]=M.useState(""),[V,B]=M.useState("yellow"),[K,F]=M.useState(!1);M.useEffect(()=>{const fe=n.find(N=>N.id===i);fe&&(f(fe),_(fe.title),A(fe.content),B(fe.color))},[i,n]);const Z=M.useCallback(()=>{e("/sticky-wall")},[e]),te=M.useCallback(()=>{p(!0)},[]),ie=M.useCallback(()=>{u&&(_(u.title),A(u.content),B(u.color)),p(!1)},[u]),Se=M.useCallback(async()=>{if(u&&(g.trim()||T.trim()))try{await s(u.id,g,T,V),p(!1)}catch(fe){console.error("Error updating note:",fe)}},[u,g,T,V,s]),he=M.useCallback(async()=>{if(K&&u)try{await o(u.id),e("/sticky-wall")}catch(fe){console.error("Error deleting note:",fe)}else F(!0),setTimeout(()=>F(!1),3e3)},[K,u,o,e]);return u?b.jsx(ei,{title:"Note Details",className:"lg:w-2/3",fullscreenMobile:!0,children:b.jsxs("div",{className:`${hu[V]} sm:rounded-2xl shadow-xl overflow-hidden flex flex-col min-h-[calc(100vh-8rem)] sm:min-h-[600px]`,children:[b.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between border-b border-gray-200/50 flex-shrink-0 gap-3",children:[b.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[b.jsx("button",{onClick:Z,className:"flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer flex-shrink-0 hover:bg-white/30 text-gray-700",children:b.jsx(Zl,{className:"w-5 h-5",strokeWidth:2})}),m?b.jsx("input",{type:"text",value:g,onChange:fe=>_(fe.target.value),className:"flex-1 px-3 py-2 bg-white/70 border-2 border-gray-300 rounded-lg outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-800 text-lg font-bold min-w-0",placeholder:"Title..."}):b.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 truncate flex-1 min-w-0",children:u.title||"No title"})]}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!m&&b.jsx("button",{onClick:te,className:"flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer bg-white/50 hover:bg-white/70 text-gray-700",children:b.jsx(Dm,{className:"w-4 h-4"})}),b.jsx("button",{onClick:he,className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer ${K?"bg-red-600 hover:bg-red-700 text-white":"bg-white/50 hover:bg-white/70 text-gray-700"}`,children:b.jsx(Jl,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"p-6 sm:p-8 flex-1 overflow-y-auto",children:m?b.jsx("textarea",{value:T,onChange:fe=>A(fe.target.value),className:"w-full px-4 py-3 bg-white/70 border-2 border-gray-300 rounded-xl resize-none outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-700 text-base leading-relaxed min-h-[300px]",placeholder:"Content..."}):b.jsx("div",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-wrap",children:u.content||"No content"})}),b.jsx("div",{className:"p-6 bg-white/30 backdrop-blur-sm border-t border-gray-200/50 flex-shrink-0",children:m?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Color:"}),b.jsx("div",{className:"flex gap-2",children:Object.entries(hu).map(([fe,N])=>b.jsx("button",{type:"button",onClick:()=>B(fe),className:`w-8 h-8 rounded-full ${N} border-2 transition-transform hover:scale-110 cursor-pointer ${V===fe?"border-slate-800 scale-110":"border-slate-300"}`,title:fe},fe))})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[b.jsx(Nm,{className:"w-3.5 h-3.5"}),b.jsx("span",{children:tp(u.createdAt)})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:ie,className:"px-5 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition-colors cursor-pointer text-sm",children:"Cancel"}),b.jsx("button",{onClick:Se,disabled:!g.trim()&&!T.trim(),className:"px-5 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none text-sm",children:"Save"})]})]})]}):b.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[b.jsx(Nm,{className:"w-3.5 h-3.5"}),b.jsx("span",{children:tp(u.createdAt)})]})})]})}):b.jsx(ei,{title:"Note not found",className:"lg:w-2/3",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Note not found"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"The note you are looking for does not exist or has been deleted."}),b.jsx("button",{onClick:Z,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors cursor-pointer",children:"Go back to notes"})]})})},k4=()=>{const{notes:i}=nf(),e=Tn(),n=M.useCallback(o=>{e(`/note/${o.id}`)},[e]),s=M.useCallback(()=>{e("/note/create")},[e]);return b.jsx(ei,{title:"Sticky Wall",children:b.jsx("div",{className:"flex",children:b.jsx("main",{className:"flex-1",children:b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:[b.jsx("div",{onClick:s,className:`\r
                bg-white border-2 border-dashed border-gray-300 \r
                hover:border-gray-400 hover:bg-gray-50\r
                rounded-md shadow-md sm:aspect-square\r
                flex items-center justify-center\r
                cursor-pointer transition-colors duration-200 pt-2 pb-6\r
              `,children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"flex items-center justify-center mb-2",children:b.jsx(KE,{className:"w-10 h-10 text-gray-400"})}),b.jsx("p",{className:"text-gray-500 font-medium",children:"Create a new note"})]})}),i.map(o=>b.jsxs("div",{onClick:()=>n(o),className:`${hu[o.color]} p-4 rounded-md shadow-md cursor-pointer min-h-[10rem] sm:aspect-square`,children:[b.jsx("h3",{className:"text-lg font-semibold mb-2 truncate",children:o.title}),b.jsx("div",{className:"text-sm text-gray-700 line-clamp-7 whitespace-pre-wrap",children:o.content})]},o.id))]})})})})},M4=()=>{const[i,e]=M.useState(""),[n,s]=M.useState(""),[o,u]=M.useState("medium"),{addTask:f}=xo(),m=Tn(),p=M.useMemo(()=>!i.trim(),[i]),g=M.useCallback(()=>{m("/task-list")},[m]),_=M.useCallback(async()=>{if(i.trim())try{await f(i,n,o),m("/task-list")}catch(T){console.error("Error creating task:",T)}},[f,n,m,o,i]);return b.jsx(ei,{title:"New Task",className:"lg:w-2/3",fullscreenMobile:!0,children:b.jsxs("div",{className:"bg-white sm:rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[b.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6",children:b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:g,className:"flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer flex-shrink-0 text-white hover:bg-white/10",children:b.jsx(Zl,{className:"w-5 h-5",strokeWidth:2})}),b.jsxs("div",{children:[b.jsx("span",{className:"text-white font-bold text-xl",children:"New Task"}),b.jsx("p",{className:"text-white/90 text-sm mt-0.5",children:"Create a new task"})]})]})})}),b.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"group",children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[b.jsx("div",{className:"w-5 h-5 bg-indigo-100 rounded-lg flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:b.jsx(QE,{className:"w-3 h-3 text-indigo-600"})}),"Title",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("input",{type:"text",value:i,onChange:T=>e(T.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:bg-white transition-all duration-200 text-gray-800 font-medium placeholder:text-gray-400"})]}),b.jsxs("div",{className:"group",children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[b.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:b.jsx(YE,{className:"w-3 h-3 text-purple-600"})}),b.jsx("span",{children:"Description"})]}),b.jsx("textarea",{value:n,onChange:T=>s(T.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl resize-none outline-none focus:border-purple-500 focus:bg-white transition-all duration-200 text-gray-700 placeholder:text-gray-400",rows:6})]}),b.jsxs("div",{className:"group",children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[b.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-lg flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:b.jsx(KR,{className:"w-3 h-3 text-orange-600"})}),b.jsx("span",{children:"Priority"})]}),b.jsx("div",{className:"grid grid-cols-3 gap-3",children:N4.map(T=>b.jsxs("button",{type:"button",onClick:()=>u(T.value),className:`px-4 py-3 rounded-xl border-2 font-semibold text-sm transition-all duration-200 cursor-pointer flex items-center justify-center gap-2 ${o===T.value?T.activeColor:T.color}`,children:[b.jsx("span",{className:"text-lg",children:T.icon}),b.jsx("span",{children:T.label})]},T.value))})]})]})}),b.jsx("div",{className:"p-6 bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200 flex-shrink-0",children:b.jsxs("div",{className:"flex items-center justify-end gap-3",children:[b.jsx("button",{onClick:g,className:"px-6 py-2.5 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition-colors cursor-pointer",children:"Cancel"}),b.jsx("button",{onClick:_,disabled:p,title:p?"Add title":"Create task",className:"px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-600 hover:to-purple-700 shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center gap-2",children:"Create"})]})})]})})},Oh=i=>{switch(i.toLowerCase().trim()){case"done":return"bg-green-100 text-green-700 border-green-200";case"in progress":return"bg-orange-100 text-orange-700 border-orange-200";case"open":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-blue-100 text-blue-700 border-blue-200"}},fw=i=>{switch((i||"high").toLowerCase().trim()){case"low":return{color:"text-green-600 bg-white border-green-300",icon:"",label:"Low"};case"high":return{color:"text-red-600 bg-white border-red-300",icon:"",label:"High"};case"medium":default:return{color:"text-yellow-600 bg-white border-yellow-300",icon:"",label:"Medium"}}},V4=({onClick:i})=>b.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(gR,{className:"w-8 h-8 text-gray-400"})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Task not found"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"The task you are looking for does not exist or has been deleted."}),b.jsx("button",{onClick:i,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors cursor-pointer",children:"Go back to the list"})]}),P4=()=>{const{taskId:i}=TE(),e=Tn(),{tasks:n,editTask:s,deleteTask:o}=xo(),[u,f]=M.useState(null),[m,p]=M.useState(!1),[g,_]=M.useState(""),[T,A]=M.useState(""),[V,B]=M.useState("open"),[K,F]=M.useState("medium"),[Z,te]=M.useState(!1);M.useEffect(()=>{const x=n.find(R=>R.id===i);x&&(f(x),_(x.title),A(x.description),B(x.status),F(x.priority))},[i,n]);const ie=M.useCallback(()=>{e("/task-list")},[e]),Se=M.useCallback(()=>{p(!0)},[]),he=M.useCallback(()=>{u&&(_(u.title),A(u.description),B(u.status),F(u.priority)),p(!1)},[u]),fe=M.useCallback(async()=>{if(u&&g.trim())try{await s(u.id,g,T,V,K),p(!1)}catch(x){console.error("Error updating task:",x)}},[u,g,T,V,K,s]),N=M.useCallback(async()=>{if(Z&&u)try{await o(u.id),e("/task-list")}catch(x){console.error("Error deleting task:",x)}else te(!0),setTimeout(()=>te(!1),3e3)},[Z,u,o,e]);return u?b.jsx(ei,{title:"Task Details",className:"lg:w-2/3",fullscreenMobile:!0,children:b.jsxs("div",{className:"bg-white sm:rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6",children:[b.jsxs("div",{className:"hidden sm:flex items-center justify-between mb-4",children:[b.jsxs("button",{onClick:ie,className:"flex items-center gap-2 text-white hover:bg-white/10 px-3 py-2 rounded-lg transition-colors cursor-pointer",children:[b.jsx(Zl,{className:"w-5 h-5"}),b.jsx("span",{children:"Go back"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[!m&&b.jsxs("button",{onClick:Se,className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition-colors cursor-pointer",children:[b.jsx(Dm,{className:"w-4 h-4"}),b.jsx("span",{children:"Edit"})]}),b.jsxs("button",{onClick:N,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors cursor-pointer ${Z?"bg-red-600 hover:bg-red-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:[b.jsx(Jl,{className:"w-4 h-4"}),b.jsx("span",{children:Z?"Confirm":"Delete"})]})]})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:ie,className:"sm:hidden flex items-center justify-center w-10 h-10 text-white hover:bg-white/10 rounded-lg transition-colors cursor-pointer flex-shrink-0",children:b.jsx(Zl,{className:"w-5 h-5"})}),b.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm flex-shrink-0",children:b.jsx(dp,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{children:[b.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Task Details"}),b.jsx("div",{className:"flex items-center gap-2 mt-1",children:m?b.jsxs(b.Fragment,{children:[b.jsxs("select",{value:K,onChange:x=>F(x.target.value),className:`px-2 py-0.5 text-xs font-medium rounded-full border backdrop-blur-sm cursor-pointer ${K==="low"?"bg-green-100 text-green-700 border-green-200":K==="high"?"bg-red-100 text-red-700 border-red-200":"bg-yellow-100 text-yellow-700 border-yellow-200"}`,children:[b.jsx("option",{value:"low",children:" Low"}),b.jsx("option",{value:"medium",children:" Medium"}),b.jsx("option",{value:"high",children:" High"})]}),b.jsxs("select",{value:V,onChange:x=>B(x.target.value),className:`px-2 py-0.5 text-xs font-medium rounded-full border backdrop-blur-sm cursor-pointer ${Oh(V)}`,children:[b.jsx("option",{value:"open",children:"Open"}),b.jsx("option",{value:"in-progress",children:"In Progress"}),b.jsx("option",{value:"done",children:"Done"})]})]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{className:`px-2 py-0.5 ${K==="low"?"bg-green-100 text-green-700 border-green-200":K==="high"?"bg-red-100 text-red-700 border-red-200":"bg-yellow-100 text-yellow-700 border-yellow-200"} backdrop-blur-sm rounded-full text-xs font-medium border flex items-center gap-1`,children:b.jsx("span",{className:"font-bold",children:K==="low"?"":K==="high"?"":""})}),b.jsx("span",{className:`px-2 py-0.5 ${Oh(u.status)} backdrop-blur-sm rounded-full text-xs font-medium`,children:u.status})]})})]})]}),b.jsxs("div",{className:"flex sm:hidden items-center gap-2",children:[!m&&b.jsx("button",{onClick:Se,className:"flex items-center justify-center w-10 h-10 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors cursor-pointer",children:b.jsx(Dm,{className:"w-4 h-4"})}),b.jsx("button",{onClick:N,className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer ${Z?"bg-red-600 hover:bg-red-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:b.jsx(Jl,{className:"w-4 h-4"})})]})]})]}),b.jsx("div",{className:"p-6 flex-1 overflow-y-auto bg-white",children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"group",children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[b.jsx("div",{className:"w-5 h-5 bg-indigo-100 rounded-lg flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:b.jsx(QE,{className:"w-3 h-3 text-indigo-600"})}),"Title",b.jsx("span",{className:"text-red-500",children:"*"})]}),m?b.jsx("input",{type:"text",value:g,onChange:x=>_(x.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:bg-white transition-all duration-200 text-gray-800 font-medium",placeholder:"Task name"}):b.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:u.title})]}),b.jsxs("div",{className:"group",children:[b.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[b.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:b.jsx(YE,{className:"w-3 h-3 text-purple-600"})}),"Description"]}),m?b.jsx("textarea",{value:T,onChange:x=>A(x.target.value),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl resize-none outline-none focus:border-indigo-500 focus:bg-white transition-all duration-200 text-gray-700",rows:5,placeholder:"Add a detailed description..."}):b.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:u.description||"No description available"})]})]})}),b.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex-shrink-0",children:b.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[b.jsx(TR,{className:"w-4 h-4"}),b.jsx("span",{children:tp(u.createdAt)})]}),m&&b.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[b.jsx("button",{onClick:he,className:"flex-1 sm:flex-none px-6 py-2.5 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition-colors cursor-pointer",children:"Cancel"}),b.jsx("button",{onClick:fe,disabled:!g.trim(),className:"flex-1 sm:flex-none px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-600 hover:to-purple-700 shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",children:"Update"})]})]})})]})}):b.jsx(ei,{title:"Task non trovato",className:"lg:w-2/3",children:b.jsx(V4,{onClick:ie})})};function dw(i,e){const[n,s]=M.useState(()=>{try{const u=localStorage.getItem(i);return u?JSON.parse(u):e}catch(u){return console.error(`Error loading ${i} from localStorage:`,u),e}});return[n,u=>{try{const f=u instanceof Function?u(n):u;s(f),localStorage.setItem(i,JSON.stringify(f))}catch(f){console.error(`Error saving ${i} to localStorage:`,f)}}]}const L4=[{id:"open",title:"Da Fare",color:"bg-gray-50 border-gray-200",icon:""},{id:"in-progress",title:"In Corso",color:"bg-blue-50 border-blue-200",icon:""},{id:"done",title:"Completato",color:"bg-green-50 border-green-200",icon:""}],j4=()=>{const{tasks:i,editTask:e}=xo(),n=Tn(),[s,o]=M.useState(null),[u,f]=M.useState(null),m=M.useCallback(B=>{o(B)},[]),p=M.useCallback((B,K)=>{B.preventDefault(),f(K)},[]),g=M.useCallback(()=>{f(null)},[]),_=M.useCallback(()=>{o(null),f(null)},[]),T=M.useCallback(async(B,K)=>{if(B.preventDefault(),!s||s.status===K){o(null),f(null);return}try{await e(s.id,s.title,s.description,K,s.priority)}catch(F){console.error("Error updating task:",F)}finally{o(null),f(null)}},[s,e]),A=M.useCallback(B=>i.filter(K=>K.status===B),[i]),V=M.useCallback(B=>{n(`/task/${B}`)},[n]);return b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:L4.map(B=>{const K=A(B.id),F=u===B.id;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("div",{className:`${B.color} rounded-t-xl border-2 p-4`,children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-2xl",children:B.icon}),b.jsx("h3",{className:"font-bold text-gray-800",children:B.title}),b.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs font-semibold text-gray-600",children:K.length})]})}),b.jsx("div",{className:`flex-1 ${B.color} rounded-b-xl border-2 border-t-0 p-4 min-h-[500px] max-h-[calc(100vh-300px)] overflow-y-auto transition-all duration-200 ${F?"ring-2 ring-indigo-400 ring-offset-1":""}`,onDragOver:Z=>p(Z,B.id),onDragLeave:g,onDrop:Z=>T(Z,B.id),children:b.jsx("div",{className:"space-y-3",children:K.length===0?b.jsxs("div",{className:"text-center py-8 text-gray-400",children:[b.jsx(ER,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),b.jsx("p",{className:"text-sm",children:F?"Rilascia qui":"Nessun task"})]}):K.map(Z=>{const te=fw(Z.priority),ie=s?.id===Z.id;return b.jsxs("div",{draggable:!0,onDragStart:()=>m(Z),onDragEnd:_,onClick:()=>V(Z.id),className:`bg-white rounded-lg p-4 shadow-sm border-2 border-gray-200 hover:border-indigo-300 hover:shadow-md transition-all duration-200 cursor-grab active:cursor-grabbing select-none group ${ie?"opacity-40 scale-98":""}`,children:[b.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[b.jsx("h4",{className:"font-semibold text-gray-800 group-hover:text-indigo-600 transition-colors duration-150 flex-1 line-clamp-2",children:Z.title}),b.jsx("div",{className:`w-6 h-6 rounded-md border flex items-center justify-center text-xs font-semibold ${te.color}`,title:`Priorit ${te.label}`,children:te.icon})]}),Z.description&&b.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3 whitespace-pre-wrap",children:Z.description}),b.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[b.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[b.jsx(Nm,{className:"w-3.5 h-3.5"}),b.jsx("span",{children:Z.createdAt?.toDate().toLocaleDateString("it-IT")})]}),b.jsx(_R,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors"})]})]},Z.id)})})})]},B.id)})})},mE={sortBy:"date-desc",filterPriority:"all",filterStatus:"all"};function U4(i){const[e,n]=dw("taskListFilters",mE),s=p=>{n(g=>({...g,sortBy:p}))},o=p=>{n(g=>({...g,filterPriority:p}))},u=p=>{n(g=>({...g,filterStatus:p}))},f=()=>{n(mE)},m=M.useMemo(()=>{let p=[...i];return e.filterPriority!=="all"&&(p=p.filter(g=>g.priority===e.filterPriority)),e.filterStatus!=="all"&&(p=p.filter(g=>g.status===e.filterStatus)),p.sort((g,_)=>{switch(e.sortBy){case"date-desc":{const T=g.createdAt?.toMillis()??0;return(_.createdAt?.toMillis()??0)-T}case"date-asc":{const T=g.createdAt?.toMillis()??0,A=_.createdAt?.toMillis()??0;return T-A}case"priority":{const T={high:0,medium:1,low:2};return T[g.priority]-T[_.priority]}case"status":{const T={open:0,"in-progress":1,done:2};return T[g.status]-T[_.status]}default:return 0}}),p},[i,e]);return{sortBy:e.sortBy,filterPriority:e.filterPriority,filterStatus:e.filterStatus,setSortBy:s,setFilterPriority:o,setFilterStatus:u,resetFilters:f,filteredAndSortedTasks:m}}const z4=({sortBy:i,filterPriority:e,filterStatus:n,setSortBy:s,setFilterPriority:o,setFilterStatus:u,resetFilters:f})=>{const m={all:"All",high:"High",medium:"Medium",low:"Low"},p={all:"All",open:"Open","in-progress":"In Progress",done:"Done"},g={"date-desc":"Most recent","date-asc":"Less recent",priority:"Priority",status:"Status"};return b.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-200 space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-2 pb-3 border-b border-gray-200",children:[b.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:b.jsx(VR,{className:"w-4 h-4 text-indigo-600"})}),b.jsx("h3",{className:"font-semibold text-gray-800",children:"Filter and sort"})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Priority"}),b.jsx("select",{value:e,onChange:_=>o(_.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["all","high","medium","low"].map(_=>b.jsx("option",{value:_,children:m[_]},_))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Status"}),b.jsx("select",{value:n,onChange:_=>u(_.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["all","open","in-progress","done"].map(_=>b.jsx("option",{value:_,children:p[_]},_))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Sort by"}),b.jsx("select",{value:i,onChange:_=>s(_.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["date-desc","date-asc","priority","status"].map(_=>b.jsx("option",{value:_,children:g[_]},_))})]})]}),(e!=="all"||n!=="all")&&b.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-2 border-t border-gray-200",children:[b.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Active filters:"}),e!=="all"&&b.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium",children:["Priority: ",m[e],b.jsx("button",{onClick:()=>o("all"),className:"hover:bg-indigo-200 rounded-full p-0.5 cursor-pointer",children:b.jsx(Om,{className:"w-3 h-3"})})]}),n!=="all"&&b.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:["Status: ",p[n],b.jsx("button",{onClick:()=>u("all"),className:"hover:bg-purple-200 rounded-full p-0.5 cursor-pointer",children:b.jsx(Om,{className:"w-3 h-3"})})]}),b.jsx("button",{onClick:f,className:"text-xs text-gray-500 hover:text-gray-700 underline cursor-pointer ml-auto",children:"Remove all"})]})]})},B4=({task:i})=>{const[e,n]=M.useState(!1),s=Tn(),{deleteTask:o}=xo(),u=fw(i.priority),f=M.useCallback(()=>{s(`/task/${i.id}`)},[s,i.id]),m=M.useCallback(async p=>{if(p.stopPropagation(),e)try{await o(i.id)}catch(g){console.error("Error deleting task:",g)}else n(!0),setTimeout(()=>n(!1),3e3)},[o,i.id,e]);return b.jsx(b.Fragment,{children:b.jsxs("div",{onClick:f,className:"group bg-white border border-gray-200 hover:border-indigo-300 rounded-xl p-3 sm:p-4 hover:shadow-lg transition-all duration-300 cursor-pointer",children:[b.jsxs("div",{className:"sm:hidden",children:[b.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[b.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[b.jsx("div",{className:`w-6 h-6 rounded-lg border flex items-center justify-center flex-shrink-0 font-semibold text-xs ${u.color}`,title:`Priorit ${u.label}`,children:u.icon}),b.jsx("h3",{className:"text-sm font-semibold text-gray-800 group-hover:text-indigo-700 transition-colors duration-300 line-clamp-2 flex-1",children:i.title})]}),b.jsx("button",{onClick:m,className:`p-1 rounded-lg transition-all duration-200 cursor-pointer flex-shrink-0 ${e?"bg-red-500 text-white hover:bg-red-600":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:e?"Clicca per confermare":"Elimina task",children:b.jsx(Jl,{className:"w-4 h-4"})})]}),i.description&&b.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed mb-2 ml-8 whitespace-pre-wrap",children:i.description}),b.jsx("div",{className:"flex items-center justify-end gap-2 ml-8",children:b.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full border ${Oh(i.status)}`,children:i.status})})]}),b.jsxs("div",{className:"hidden sm:flex gap-4 items-start",children:[b.jsx("div",{className:`w-7 h-7 rounded-lg border flex items-center justify-center flex-shrink-0 font-semibold text-sm ${u.color}`,title:`Priorit ${u.label}`,children:u.icon}),b.jsxs("div",{className:"flex flex-col gap-2 flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-start justify-between gap-3",children:[b.jsx("h3",{className:"text-base font-semibold text-gray-800 group-hover:text-indigo-700 transition-colors duration-300",children:i.title}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[b.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-full border ${Oh(i.status)}`,children:i.status}),b.jsx("button",{onClick:m,className:`p-1.5 rounded-lg transition-all duration-200 cursor-pointer ${e?"bg-red-500 text-white hover:bg-red-600":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:e?"Clicca per confermare":"Elimina task",children:b.jsx(Jl,{className:"w-4 h-4"})})]})]}),b.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed whitespace-pre-wrap",children:i.description})]}),b.jsx(uR,{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-500 transition-all duration-300 group-hover:translate-x-1 flex-shrink-0"})]})]})})},q4=()=>{const{tasks:i}=xo(),{sortBy:e,filterPriority:n,filterStatus:s,setSortBy:o,setFilterPriority:u,setFilterStatus:f,resetFilters:m,filteredAndSortedTasks:p}=U4(i);return b.jsxs("div",{className:"space-y-6",children:[b.jsx(z4,{sortBy:e,filterPriority:n,filterStatus:s,setSortBy:o,setFilterPriority:u,setFilterStatus:f,resetFilters:m}),b.jsx("div",{className:"flex flex-col gap-4",children:p.length>0?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"text-sm text-gray-600 px-2",children:[p.length," ",p.length===1?"task found":"tasks found",(n!=="all"||s!=="all")&&b.jsxs("span",{className:"ml-1",children:["(",i.length," total)"]})]}),p.map(g=>b.jsx(B4,{task:g},g.id))]}):i.length===0?b.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[b.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(dp,{className:"w-8 h-8 text-gray-400"})}),b.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No tasks present"}),b.jsx("p",{className:"text-gray-500",children:"Get started by creating your first task!"})]}):b.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[b.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(kR,{className:"w-8 h-8 text-gray-400"})}),b.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No tasks found"}),b.jsx("p",{className:"text-gray-500 mb-4",children:"Try changing your search filters"}),b.jsx("button",{onClick:m,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer text-sm font-medium",children:"Remove filters"})]})})]})},H4=()=>{const i=Tn(),[e,n]=dw("tasks-view-mode","kanban"),s=M.useCallback(()=>{i("/task/create")},[i]);return b.jsxs(ei,{title:"Tasks",className:`transition-all duration-500 ease-in-out ${e==="kanban"?"max-w-full":"lg:max-w-2/3"} mx-auto`,children:[b.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:b.jsxs("div",{className:"flex items-center justify-between p-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center hidden md:flex",children:b.jsx(dp,{className:"w-5 h-5 text-indigo-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-gray-800",children:"View Tasks"}),b.jsx("p",{className:"text-xs text-gray-500",children:"Choose the view you prefer"})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[b.jsxs("button",{onClick:()=>n("list"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all duration-200 cursor-pointer ${e==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[b.jsx(SR,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"List"})]}),b.jsxs("button",{onClick:()=>n("kanban"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all duration-200 cursor-pointer ${e==="kanban"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[b.jsx(mR,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Kanban"})]})]}),b.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer",children:[b.jsx(KE,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"New Task"})]})]})]})}),b.jsx("div",{className:"mt-6",children:e==="list"?b.jsx(q4,{}):b.jsx(j4,{})})]})},F4=()=>{const{isSidebarOpen:i,closeSidebar:e}=og(),{user:n}=ra();return n?b.jsxs("div",{className:"flex h-screen",children:[i&&b.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 animate-fadeIn",onClick:e}),b.jsx(I4,{}),b.jsx("div",{className:"flex-1 overflow-auto",children:b.jsxs(M0,{children:[b.jsx(sn,{path:"/",element:b.jsx(Vl,{to:"/dashboard",replace:!0})}),b.jsx(sn,{path:"/dashboard",element:b.jsx(C4,{})}),b.jsx(sn,{path:"/sticky-wall",element:b.jsx(k4,{})}),b.jsx(sn,{path:"/note/create",element:b.jsx(D4,{})}),b.jsx(sn,{path:"/note/:noteId",element:b.jsx(O4,{})}),b.jsx(sn,{path:"/tasks",element:b.jsx(H4,{})}),b.jsx(sn,{path:"/task/create",element:b.jsx(M4,{})}),b.jsx(sn,{path:"/task/:taskId",element:b.jsx(P4,{})}),b.jsx(sn,{path:"/task-list",element:b.jsx(Vl,{to:"/tasks",replace:!0})}),b.jsx(sn,{path:"/kanban-board",element:b.jsx(Vl,{to:"/tasks",replace:!0})}),b.jsx(sn,{path:"*",element:b.jsx(Vl,{to:"/dashboard",replace:!0})})]})})]}):b.jsxs(M0,{children:[b.jsx(sn,{path:"/login",element:b.jsx(QR,{})}),b.jsx(sn,{path:"/signup",element:b.jsx(YR,{})}),b.jsx(sn,{path:"*",element:b.jsx(Vl,{to:"/login",replace:!0})})]})},G4=({children:i})=>{const[e,n]=M.useState(null),[s,o]=M.useState(!0),u=async(_,T)=>{await uD(Ll,_,T)},f=async(_,T)=>{await cD(Ll,_,T)},m=async()=>{const _=new Fr;await MD(Ll,_)},p=async()=>{await mD(Ll)};M.useEffect(()=>dD(Ll,T=>{n(T),o(!1)}),[]);const g={user:e,signup:u,login:f,loginWithGoogle:m,logout:p};return b.jsx(XE.Provider,{value:g,children:!s&&i})},$4=({children:i})=>{const[e,n]=M.useState(!1),s=M.useCallback(()=>{n(!0),document.body.style.overflow="hidden"},[]),o=M.useCallback(()=>{n(!1),document.body.style.overflow="unset"},[]);return b.jsx(hw.Provider,{value:{isSidebarOpen:e,openSidebar:s,closeSidebar:o},children:i})};X1.createRoot(document.getElementById("root")).render(b.jsx(M.StrictMode,{children:b.jsx(lA,{children:b.jsx(G4,{children:b.jsx($4,{children:b.jsx(F4,{})})})})}));
