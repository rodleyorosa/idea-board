(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var nm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function rS(){if(yv)return Vl;yv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var _v;function iS(){return _v||(_v=1,nm.exports=rS()),nm.exports}var T=iS(),rm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function sS(){if(vv)return xe;vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,K={};function F(D,ne,oe){this.props=D,this.context=ne,this.refs=K,this.updater=oe||P}F.prototype.isReactComponent={},F.prototype.setState=function(D,ne){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ne,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ee(){}ee.prototype=F.prototype;function te(D,ne,oe){this.props=D,this.context=ne,this.refs=K,this.updater=oe||P}var ie=te.prototype=new ee;ie.constructor=te,L(ie,F.prototype),ie.isPureReactComponent=!0;var be=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Re=Object.prototype.hasOwnProperty;function N(D,ne,oe,se,de,Oe){return oe=Oe.ref,{$$typeof:i,type:D,key:ne,ref:oe!==void 0?oe:null,props:Oe}}function R(D,ne){return N(D.type,ne,void 0,void 0,void 0,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function k(D){var ne={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return ne[oe]})}var O=/\/+/g;function j(D,ne){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):ne.toString(36)}function I(){}function ut(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(ne){D.status==="pending"&&(D.status="fulfilled",D.value=ne)},function(ne){D.status==="pending"&&(D.status="rejected",D.reason=ne)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function rt(D,ne,oe,se,de){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(Oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case i:case e:Ee=!0;break;case _:return Ee=D._init,rt(Ee(D._payload),ne,oe,se,de)}}if(Ee)return de=de(D),Ee=se===""?"."+j(D,0):se,be(de)?(oe="",Ee!=null&&(oe=Ee.replace(O,"$&/")+"/"),rt(de,ne,oe,"",function(Un){return Un})):de!=null&&(x(de)&&(de=R(de,oe+(de.key==null||D&&D.key===de.key?"":(""+de.key).replace(O,"$&/")+"/")+Ee)),ne.push(de)),1;Ee=0;var Lt=se===""?".":se+":";if(be(D))for(var Ge=0;Ge<D.length;Ge++)se=D[Ge],Oe=Lt+j(se,Ge),Ee+=rt(se,ne,oe,Oe,de);else if(Ge=A(D),typeof Ge=="function")for(D=Ge.call(D),Ge=0;!(se=D.next()).done;)se=se.value,Oe=Lt+j(se,Ge++),Ee+=rt(se,ne,oe,Oe,de);else if(Oe==="object"){if(typeof D.then=="function")return rt(ut(D),ne,oe,se,de);throw ne=String(D),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Q(D,ne,oe){if(D==null)return D;var se=[],de=0;return rt(D,se,"","",function(Oe){return ne.call(oe,Oe,de++)}),se}function ae(D){if(D._status===-1){var ne=D._result;ne=ne(),ne.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=ne)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ue(){}return xe.Children={map:Q,forEach:function(D,ne,oe){Q(D,function(){ne.apply(this,arguments)},oe)},count:function(D){var ne=0;return Q(D,function(){ne++}),ne},toArray:function(D){return Q(D,function(ne){return ne})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},xe.Component=F,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=te,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,xe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ce.H.useMemoCache(D)}},xe.cache=function(D){return function(){return D.apply(null,arguments)}},xe.cloneElement=function(D,ne,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=L({},D.props),de=D.key,Oe=void 0;if(ne!=null)for(Ee in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(de=""+ne.key),ne)!Re.call(ne,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ne.ref===void 0||(se[Ee]=ne[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=oe;else if(1<Ee){for(var Lt=Array(Ee),Ge=0;Ge<Ee;Ge++)Lt[Ge]=arguments[Ge+2];se.children=Lt}return N(D.type,de,void 0,void 0,Oe,se)},xe.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},xe.createElement=function(D,ne,oe){var se,de={},Oe=null;if(ne!=null)for(se in ne.key!==void 0&&(Oe=""+ne.key),ne)Re.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(de[se]=ne[se]);var Ee=arguments.length-2;if(Ee===1)de.children=oe;else if(1<Ee){for(var Lt=Array(Ee),Ge=0;Ge<Ee;Ge++)Lt[Ge]=arguments[Ge+2];de.children=Lt}if(D&&D.defaultProps)for(se in Ee=D.defaultProps,Ee)de[se]===void 0&&(de[se]=Ee[se]);return N(D,Oe,void 0,void 0,null,de)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:m,render:D}},xe.isValidElement=x,xe.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:ae}},xe.memo=function(D,ne){return{$$typeof:g,type:D,compare:ne===void 0?null:ne}},xe.startTransition=function(D){var ne=ce.T,oe={};ce.T=oe;try{var se=D(),de=ce.S;de!==null&&de(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ue,pe)}catch(Oe){pe(Oe)}finally{ce.T=ne}},xe.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},xe.use=function(D){return ce.H.use(D)},xe.useActionState=function(D,ne,oe){return ce.H.useActionState(D,ne,oe)},xe.useCallback=function(D,ne){return ce.H.useCallback(D,ne)},xe.useContext=function(D){return ce.H.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D,ne){return ce.H.useDeferredValue(D,ne)},xe.useEffect=function(D,ne,oe){var se=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(D,ne)},xe.useId=function(){return ce.H.useId()},xe.useImperativeHandle=function(D,ne,oe){return ce.H.useImperativeHandle(D,ne,oe)},xe.useInsertionEffect=function(D,ne){return ce.H.useInsertionEffect(D,ne)},xe.useLayoutEffect=function(D,ne){return ce.H.useLayoutEffect(D,ne)},xe.useMemo=function(D,ne){return ce.H.useMemo(D,ne)},xe.useOptimistic=function(D,ne){return ce.H.useOptimistic(D,ne)},xe.useReducer=function(D,ne,oe){return ce.H.useReducer(D,ne,oe)},xe.useRef=function(D){return ce.H.useRef(D)},xe.useState=function(D){return ce.H.useState(D)},xe.useSyncExternalStore=function(D,ne,oe){return ce.H.useSyncExternalStore(D,ne,oe)},xe.useTransition=function(){return ce.H.useTransition()},xe.version="19.1.1",xe}var Ev;function Jm(){return Ev||(Ev=1,rm.exports=sS()),rm.exports}var V=Jm(),im={exports:{}},Pl={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function aS(){return Tv||(Tv=1,(function(i){function e(Q,ae){var pe=Q.length;Q.push(ae);e:for(;0<pe;){var Ue=pe-1>>>1,D=Q[Ue];if(0<o(D,ae))Q[Ue]=ae,Q[pe]=D,pe=Ue;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ae=Q[0],pe=Q.pop();if(pe!==ae){Q[0]=pe;e:for(var Ue=0,D=Q.length,ne=D>>>1;Ue<ne;){var oe=2*(Ue+1)-1,se=Q[oe],de=oe+1,Oe=Q[de];if(0>o(se,pe))de<D&&0>o(Oe,se)?(Q[Ue]=Oe,Q[de]=pe,Ue=de):(Q[Ue]=se,Q[oe]=pe,Ue=oe);else if(de<D&&0>o(Oe,pe))Q[Ue]=Oe,Q[de]=pe,Ue=de;else break e}}return ae}function o(Q,ae){var pe=Q.sortIndex-ae.sortIndex;return pe!==0?pe:Q.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],_=1,w=null,A=3,P=!1,L=!1,K=!1,F=!1,ee=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function be(Q){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Q)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ce(Q){if(K=!1,be(Q),!L)if(n(p)!==null)L=!0,Re||(Re=!0,j());else{var ae=n(g);ae!==null&&rt(ce,ae.startTime-Q)}}var Re=!1,N=-1,R=5,x=-1;function k(){return F?!0:!(i.unstable_now()-x<R)}function O(){if(F=!1,Re){var Q=i.unstable_now();x=Q;var ae=!0;try{e:{L=!1,K&&(K=!1,te(N),N=-1),P=!0;var pe=A;try{t:{for(be(Q),w=n(p);w!==null&&!(w.expirationTime>Q&&k());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,A=w.priorityLevel;var D=Ue(w.expirationTime<=Q);if(Q=i.unstable_now(),typeof D=="function"){w.callback=D,be(Q),ae=!0;break t}w===n(p)&&s(p),be(Q)}else s(p);w=n(p)}if(w!==null)ae=!0;else{var ne=n(g);ne!==null&&rt(ce,ne.startTime-Q),ae=!1}}break e}finally{w=null,A=pe,P=!1}ae=void 0}}finally{ae?j():Re=!1}}}var j;if(typeof ie=="function")j=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ut=I.port2;I.port1.onmessage=O,j=function(){ut.postMessage(null)}}else j=function(){ee(O,0)};function rt(Q,ae){N=ee(function(){Q(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var pe=A;A=ae;try{return Q()}finally{A=pe}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=A;A=Q;try{return ae()}finally{A=pe}},i.unstable_scheduleCallback=function(Q,ae,pe){var Ue=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,Q={id:_++,callback:ae,priorityLevel:Q,startTime:pe,expirationTime:D,sortIndex:-1},pe>Ue?(Q.sortIndex=pe,e(g,Q),n(p)===null&&Q===n(g)&&(K?(te(N),N=-1):K=!0,rt(ce,pe-Ue))):(Q.sortIndex=D,e(p,Q),L||P||(L=!0,Re||(Re=!0,j()))),Q},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(Q){var ae=A;return function(){var pe=A;A=ae;try{return Q.apply(this,arguments)}finally{A=pe}}}})(am)),am}var bv;function oS(){return bv||(bv=1,sm.exports=aS()),sm.exports}var om={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function lS(){if(wv)return Qt;wv=1;var i=Jm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Qt.flushSync=function(p){var g=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=_,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:P}):_==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,_){return f.H.useFormState(p,g,_)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.1",Qt}var Sv;function uS(){if(Sv)return om.exports;Sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),om.exports=lS(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function cS(){if(Av)return Pl;Av=1;var i=oS(),e=Jm(),n=uS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,b=h.child;b;){if(b===a){E=!0,a=h,l=d;break}if(b===l){E=!0,l=h,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=h;break}if(b===l){E=!0,l=d,a=h;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case F:return"Profiler";case K:return"StrictMode";case ce:return"Suspense";case Re:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case be:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:ut(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return ut(t(r))}catch{}}return null}var rt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],D=-1;function ne(t){return{current:t}}function oe(t){0>D||(t.current=Ue[D],Ue[D]=null,D--)}function se(t,r){D++,Ue[D]=t.current,t.current=r}var de=ne(null),Oe=ne(null),Ee=ne(null),Lt=ne(null);function Ge(t,r){switch(se(Ee,r),se(Oe,t),se(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?G_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=G_(r),t=$_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(de),se(de,t)}function Un(){oe(de),oe(Oe),oe(Ee)}function Io(t){t.memoizedState!==null&&se(Lt,t);var r=de.current,a=$_(r,t.type);r!==a&&(se(Oe,t),se(de,a))}function oa(t){Oe.current===t&&(oe(de),oe(Oe)),Lt.current===t&&(oe(Lt),Nl._currentValue=pe)}var la=Object.prototype.hasOwnProperty,ls=i.unstable_scheduleCallback,ua=i.unstable_cancelCallback,nf=i.unstable_shouldYield,No=i.unstable_requestPaint,an=i.unstable_now,Au=i.unstable_getCurrentPriorityLevel,Rt=i.unstable_ImmediatePriority,Dt=i.unstable_UserBlockingPriority,wr=i.unstable_NormalPriority,rf=i.unstable_LowPriority,Do=i.unstable_IdlePriority,sf=i.log,us=i.unstable_setDisableYieldValue,ni=null,Gt=null;function bn(t){if(typeof sf=="function"&&us(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ni,t)}catch{}}var Jt=Math.clz32?Math.clz32:xu,af=Math.log,Ru=Math.LN2;function xu(t){return t>>>=0,t===0?32:31-(af(t)/Ru|0)|0}var tr=256,ri=4194304;function jn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=jn(l):(E&=b,E!==0?h=jn(E):a||(a=b&~t,a!==0&&(h=jn(a))))):(b=l&~d,b!==0?h=jn(b):E!==0?h=jn(E):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ii(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ca(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=tr;return tr<<=1,(tr&4194048)===0&&(tr=256),t}function si(){var t=ri;return ri<<=1,(ri&62914560)===0&&(ri=4194304),t}function ha(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ft(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cu(t,r,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-Jt(a),Z=1<<Y;b[Y]=0,C[Y]=-1;var H=q[Y];if(H!==null)for(q[Y]=null,Y=0;Y<H.length;Y++){var G=H[Y];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&ai(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function ai(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Jt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function oi(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Jt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function ko(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:hv(t.type))}function of(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var nr=Math.random().toString(36).slice(2),dt="__reactFiber$"+nr,Ut="__reactProps$"+nr,Ar="__reactContainer$"+nr,cs="__reactEvents$"+nr,hs="__reactListeners$"+nr,lf="__reactHandles$"+nr,zn="__reactResources$"+nr,li="__reactMarker$"+nr;function fa(t){delete t[dt],delete t[Ut],delete t[cs],delete t[hs],delete t[lf]}function rr(t){var r=t[dt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ar]||a[dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=X_(t);t!==null;){if(a=t[dt])return a;t=X_(t)}return r}t=a,a=t.parentNode}return null}function ir(t){if(t=t[dt]||t[Ar]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ui(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function ci(t){var r=t[zn];return r||(r=t[zn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(t){t[li]=!0}var Iu=new Set,fs={};function sr(t,r){ar(t,r),ar(t+"Capture",r)}function ar(t,r){for(fs[t]=r,t=0;t<r.length;t++)Iu.add(r[t])}var ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),or={},da={};function uf(t){return la.call(da,t)?!0:la.call(or,t)?!1:ds.test(t)?da[t]=!0:(or[t]=!0,!1)}function ms(t,r,a){if(uf(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ps(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Sn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var gs,ma;function Rr(t){if(gs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gs=r&&r[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+t+ma}var pa=!1;function ga(t,r){if(!t||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var H=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){H=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){H=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var C=E.split(`
`),q=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rr(a):""}function cf(t){switch(t.tag){case 26:case 27:case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return ga(t.type,!1);case 11:return ga(t.type.render,!1);case 1:return ga(t.type,!0);case 31:return Rr("Activity");default:return""}}function Bn(t){try{var r="";do r+=cf(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function at(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ys(t){var r=hi(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function fi(t){t._valueTracker||(t._valueTracker=ys(t))}function $e(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=hi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function xr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function Ot(t){return t.replace(_s,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Vo(t,r,a,l,h,d,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+at(r)):t.value!==""+at(r)&&(t.value=""+at(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Lo(t,E,at(r)):a!=null?Lo(t,E,at(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+at(b):t.removeAttribute("name")}function Po(t,r,a,l,h,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+at(a):"",r=r!=null?""+at(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Lo(t,r,a){r==="number"&&xr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function di(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+at(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Nu(t,r,a){if(r!=null&&(r=""+at(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+at(a):""}function Du(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=at(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Cr.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function jo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Uo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Uo(t,d,r[d])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return ku.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var zo=null;function Bo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,en=null;function Mu(t){var r=ir(t);if(r&&(t=r.stateNode)){var a=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(Vo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(s(90));Vo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&$e(l)}break e;case"textarea":Nu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&di(t,!!a.multiple,r,!1)}}}var vs=!1;function Es(t,r,a){if(vs)return t(r,a);vs=!0;try{var l=t(r);return l}finally{if(vs=!1,(mi!==null||en!==null)&&(wc(),mi&&(r=mi,t=en,en=mi=null,Mu(r),t)))for(r=0;r<t.length;r++)Mu(t[r])}}function pi(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(tn)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{Ir=!1}var Rn=null,Ze=null,_a=null;function Vu(){if(_a)return _a;var t,r=Ze,a=r.length,l,h="value"in Rn?Rn.value:Rn.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===h[d-l];l++);return _a=h.slice(t,1<l?1-l:void 0)}function Ts(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function bs(){return!0}function qo(){return!1}function xt(t){function r(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bs:qo,this.isPropagationStopped=qo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),r}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=xt($t),Ss=_({},$t,{view:0,detail:0}),As=xt(Ss),va,Rs,lr,xs=_({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lr&&(lr&&t.type==="mousemove"?(va=t.screenX-lr.screenX,Rs=t.screenY-lr.screenY):Rs=va=0,lr=t),va)},movementY:function(t){return"movementY"in t?t.movementY:Rs}}),Cs=xt(xs),hf=_({},xs,{dataTransfer:0}),Pu=xt(hf),Is=_({},Ss,{relatedTarget:0}),Ea=xt(Is),Lu=_({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),Ho=xt(Lu),Fo=_({},$t,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=xt(Fo),Ta=_({},$t,{data:0}),Go=xt(Ta),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=zu[t])?!!r[t]:!1}function ba(){return Bu}var qu=_({},Ss,{key:function(t){if(t.key){var r=ju[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=xt(qu),nn=_({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=xt(nn),Hu=_({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),yi=xt(Hu),c=_({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=xt(c),v=_({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=xt(v),B=_({},$t,{newState:0,oldState:0}),$=xt(B),re=[9,13,27,32],Se=tn&&"CompositionEvent"in window,tt=null;tn&&"documentMode"in document&&(tt=document.documentMode);var qe=tn&&"TextEvent"in window&&!tt,pt=tn&&(!Se||tt&&8<tt&&11>=tt),fn=" ",ur=!1;function Hn(t,r){switch(t){case"keyup":return re.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gn=!1;function Ko(t,r){switch(t){case"compositionend":return Fn(r);case"keypress":return r.which!==32?null:(ur=!0,fn);case"textInput":return t=r.data,t===fn&&ur?null:t;default:return null}}function N1(t,r){if(Gn)return t==="compositionend"||!Se&&Hn(t,r)?(t=Vu(),_a=Ze=Rn=null,Gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return pt&&r.locale!=="ko"?null:r.data;default:return null}}var D1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!D1[t.type]:r==="textarea"}function ag(t,r,a,l){mi?en?en.push(l):en=[l]:mi=l,r=Ic(r,"onChange"),0<r.length&&(a=new ws("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Qo=null,Yo=null;function O1(t){z_(t,0)}function Fu(t){var r=ui(t);if($e(r))return t}function og(t,r){if(t==="change")return r}var lg=!1;if(tn){var ff;if(tn){var df="oninput"in document;if(!df){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),df=typeof ug.oninput=="function"}ff=df}else ff=!1;lg=ff&&(!document.documentMode||9<document.documentMode)}function cg(){Qo&&(Qo.detachEvent("onpropertychange",hg),Yo=Qo=null)}function hg(t){if(t.propertyName==="value"&&Fu(Yo)){var r=[];ag(r,Yo,t,Bo(t)),Es(O1,r)}}function k1(t,r,a){t==="focusin"?(cg(),Qo=r,Yo=a,Qo.attachEvent("onpropertychange",hg)):t==="focusout"&&cg()}function M1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(Yo)}function V1(t,r){if(t==="click")return Fu(r)}function P1(t,r){if(t==="input"||t==="change")return Fu(r)}function L1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var dn=typeof Object.is=="function"?Object.is:L1;function Xo(t,r){if(dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!la.call(r,h)||!dn(t[h],r[h]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dg(t,r){var a=fg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fg(a)}}function mg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?mg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=xr(t.document)}return r}function mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var U1=tn&&"documentMode"in document&&11>=document.documentMode,Sa=null,pf=null,Wo=null,gf=!1;function gg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Sa==null||Sa!==xr(l)||(l=Sa,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Xo(Wo,l)||(Wo=l,l=Ic(pf,"onSelect"),0<l.length&&(r=new ws("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Sa)))}function Ns(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Aa={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},yf={},yg={};tn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Ds(t){if(yf[t])return yf[t];if(!Aa[t])return t;var r=Aa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in yg)return yf[t]=r[a];return t}var _g=Ds("animationend"),vg=Ds("animationiteration"),Eg=Ds("animationstart"),j1=Ds("transitionrun"),z1=Ds("transitionstart"),B1=Ds("transitioncancel"),Tg=Ds("transitionend"),bg=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function $n(t,r){bg.set(t,r),sr(r,[t])}var wg=new WeakMap;function xn(t,r){if(typeof t=="object"&&t!==null){var a=wg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Bn(r)},wg.set(t,r),r)}return{value:t,source:r,stack:Bn(r)}}var Cn=[],Ra=0,vf=0;function Gu(){for(var t=Ra,r=vf=Ra=0;r<t;){var a=Cn[r];Cn[r++]=null;var l=Cn[r];Cn[r++]=null;var h=Cn[r];Cn[r++]=null;var d=Cn[r];if(Cn[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Sg(a,h,d)}}function $u(t,r,a,l){Cn[Ra++]=t,Cn[Ra++]=r,Cn[Ra++]=a,Cn[Ra++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ef(t,r,a,l){return $u(t,r,a,l),Ku(t)}function xa(t,r){return $u(t,null,null,r),Ku(t)}function Sg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Jt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ku(t){if(50<bl)throw bl=0,Rd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ca={};function q1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,a,l){return new q1(t,r,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dr(t,r){var a=t.alternate;return a===null?(a=mn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ag(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Qu(t,r,a,l,h,d){var E=0;if(l=t,typeof t=="function")Tf(t)&&(E=1);else if(typeof t=="string")E=Fw(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=mn(31,a,r,h),t.elementType=x,t.lanes=d,t;case L:return Os(a.children,h,d,r);case K:E=8,h|=24;break;case F:return t=mn(12,a,r,h|2),t.elementType=F,t.lanes=d,t;case ce:return t=mn(13,a,r,h),t.elementType=ce,t.lanes=d,t;case Re:return t=mn(19,a,r,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:case ie:E=10;break e;case te:E=9;break e;case be:E=11;break e;case N:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=mn(E,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Os(t,r,a,l){return t=mn(7,t,l,r),t.lanes=a,t}function bf(t,r,a){return t=mn(6,t,null,r),t.lanes=a,t}function wf(t,r,a){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ia=[],Na=0,Yu=null,Xu=0,In=[],Nn=0,ks=null,Or=1,kr="";function Ms(t,r){Ia[Na++]=Xu,Ia[Na++]=Yu,Yu=t,Xu=r}function Rg(t,r,a){In[Nn++]=Or,In[Nn++]=kr,In[Nn++]=ks,ks=t;var l=Or;t=kr;var h=32-Jt(l)-1;l&=~(1<<h),a+=1;var d=32-Jt(r)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Or=1<<32-Jt(r)+h|a<<h|l,kr=d+t}else Or=1<<d|a<<h|l,kr=t}function Sf(t){t.return!==null&&(Ms(t,1),Rg(t,1,0))}function Af(t){for(;t===Yu;)Yu=Ia[--Na],Ia[Na]=null,Xu=Ia[--Na],Ia[Na]=null;for(;t===ks;)ks=In[--Nn],In[Nn]=null,kr=In[--Nn],In[Nn]=null,Or=In[--Nn],In[Nn]=null}var rn=null,ct=null,ze=!1,Vs=null,cr=!1,Rf=Error(s(519));function Ps(t){var r=Error(s(418,""));throw el(xn(r,t)),Rf}function xg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[dt]=t,r[Ut]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<Sl.length;a++)De(Sl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),Po(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fi(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Du(r,l.value,l.defaultValue,l.children),fi(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||F_(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=Nc),r=!0):r=!1,r||Ps(t)}function Cg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:rn=rn.return}}function Zo(t){if(t!==rn)return!1;if(!ze)return Cg(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&ct&&Ps(t),Cg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ct=Qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ct=null}}else r===27?(r=ct,ki(t.type)?(t=$d,$d=null,ct=t):ct=r):ct=rn?Qn(t.stateNode.nextSibling):null;return!0}function Jo(){ct=rn=null,ze=!1}function Ig(){var t=Vs;return t!==null&&(un===null?un=t:un.push.apply(un,t),Vs=null),t}function el(t){Vs===null?Vs=[t]:Vs.push(t)}var xf=ne(null),Ls=null,Mr=null;function _i(t,r,a){se(xf,r._currentValue),r._currentValue=a}function Vr(t){t._currentValue=xf.current,oe(xf)}function Cf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function If(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<r.length;C++)if(b.context===r[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Cf(d.return,a,t),l||(E=null);break e}d=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Cf(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function tl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=h.type;dn(h.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(h===Lt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&If(r,t,a,l),r.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Ls=t,Mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Ng(Ls,t)}function Zu(t,r){return Ls===null&&Us(t),Ng(t,r)}function Ng(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Mr===null){if(t===null)throw Error(s(308));Mr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Mr=Mr.next=r;return a}var H1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},F1=i.unstable_scheduleCallback,G1=i.unstable_NormalPriority,Ct={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new H1,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&F1(G1,function(){t.controller.abort()})}var rl=null,Df=0,Da=0,Oa=null;function $1(t,r){if(rl===null){var a=rl=[];Df=0,Da=kd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,r.then(Dg,Dg),r}function Dg(){if(--Df===0&&rl!==null){Oa!==null&&(Oa.status="fulfilled");var t=rl;rl=null,Da=0,Oa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function K1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Og=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&$1(t,r),Og!==null&&Og(t,r)};var js=ne(null);function Of(){var t=js.current;return t!==null?t:Je.pooledCache}function Ju(t,r){r===null?se(js,js.current):se(js,r.pool)}function kg(){var t=Of();return t===null?null:{parent:Ct._currentValue,pool:t}}var il=Error(s(460)),Mg=Error(s(474)),ec=Error(s(542)),kf={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function Pg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(tc,tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ug(t),t;default:if(typeof r.status=="string")r.then(tc,tc);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ug(t),t}throw sl=r,il}}var sl=null;function Lg(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function Ug(t){if(t===il||t===ec)throw Error(s(483))}var vi=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ei(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ku(t),Sg(t,null,a),r}return $u(t,l,r,a),Ku(t)}function al(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,oi(t,a)}}function Pf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Lf=!1;function ol(){if(Lf){var t=Oa;if(t!==null)throw t}}function ll(t,r,a,l){Lf=!1;var h=t.updateQueue;vi=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,q=C.next;C.next=null,E===null?d=q:E.next=q,E=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==E&&(b===null?Y.firstBaseUpdate=q:b.next=q,Y.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;E=0,Y=q=C=null,b=d;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(Pe&H)===H:(l&H)===H){H!==0&&H===Da&&(Lf=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=t,ge=b;H=r;var Ye=a;switch(ge.tag){case 1:if(Te=ge.payload,typeof Te=="function"){Z=Te.call(Ye,Z,H);break e}Z=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ge.payload,H=typeof Te=="function"?Te.call(Ye,Z,H):Te,H==null)break e;Z=_({},Z,H);break e;case 2:vi=!0}}H=b.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(q=Y=G,C=Z):Y=Y.next=G,E|=H;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Ii|=E,t.lanes=E,t.memoizedState=Z}}function jg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function zg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)jg(a[t],r)}var ka=ne(null),nc=ne(0);function Bg(t,r){t=qr,se(nc,t),se(ka,r),qr=t|r.baseLanes}function Uf(){se(nc,qr),se(ka,ka.current)}function jf(){qr=nc.current,oe(ka),oe(nc)}var bi=0,Ce=null,Ke=null,vt=null,rc=!1,Ma=!1,zs=!1,ic=0,ul=0,Va=null,Q1=0;function gt(){throw Error(s(321))}function zf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!dn(t[a],r[a]))return!1;return!0}function Bf(t,r,a,l,h,d){return bi=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?Sy:Ay,zs=!1,d=a(l,h),zs=!1,Ma&&(d=Hg(r,a,l,h)),qg(t),d}function qg(t){Q.H=cc;var r=Ke!==null&&Ke.next!==null;if(bi=0,vt=Ke=Ce=null,rc=!1,ul=0,Va=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Wu(t)&&(kt=!0))}function Hg(t,r,a,l){Ce=t;var h=0;do{if(Ma&&(Va=null),ul=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,vt=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=tw,d=r(a,l)}while(Ma);return d}function Y1(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?cl(r):r,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ce.flags|=1024),r}function qf(){var t=ic!==0;return ic=0,t}function Hf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Ff(t){if(rc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}rc=!1}bi=0,vt=Ke=Ce=null,Ma=!1,ul=ic=0,Va=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ce.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if(Ke===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var r=vt===null?Ce.memoizedState:vt.next;if(r!==null)vt=r,Ke=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},vt===null?Ce.memoizedState=vt=t:vt=vt.next=t}return vt}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var r=ul;return ul+=1,Va===null&&(Va=[]),t=Pg(Va,t,r),r=Ce,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Sy:Ay),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===ie)return Kt(t)}throw Error(s(438,String(t)))}function $f(t){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Gf(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=k;return r.index++,a}function Pr(t,r){return typeof r=="function"?r(t):r}function ac(t){var r=Et();return Kf(r,Ke,t)}function Kf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=E=null,C=null,q=r,Y=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Pe&Z)===Z:(bi&Z)===Z){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Da&&(Y=!0);else if((bi&H)===H){q=q.next,H===Da&&(Y=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(b=C=Z,E=d):C=C.next=Z,Ce.lanes|=H,Ii|=H;Z=q.action,zs&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else H={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(b=C=H,E=d):C=C.next=H,Ce.lanes|=Z,Ii|=Z;q=q.next}while(q!==null&&q!==r);if(C===null?E=d:C.next=b,!dn(d,t.memoizedState)&&(kt=!0,Y&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);dn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Fg(t,r,a){var l=Ce,h=Et(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!dn((Ke||h).memoizedState,a);E&&(h.memoizedState=a,kt=!0),h=h.queue;var b=Kg.bind(null,l,h,t);if(hl(2048,8,b,[t]),h.getSnapshot!==r||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,oc(),$g.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(bi&124)!==0||Gg(l,r,a)}return a}function Gg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=Gf(),Ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function $g(t,r,a,l){r.value=a,r.getSnapshot=l,Qg(r)&&Yg(t)}function Kg(t,r,a){return a(function(){Qg(r)&&Yg(t)})}function Qg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!dn(t,a)}catch{return!0}}function Yg(t){var r=xa(t,2);r!==null&&vn(r,t,2)}function Yf(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),zs){bn(!0);try{a()}finally{bn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:t},r}function Xg(t,r,a,l){return t.baseState=a,Kf(t,Ke,typeof l=="function"?l:Pr)}function X1(t,r,a,l,h){if(uc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Wg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Wg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Q.T,E={};Q.T=E;try{var b=a(h,l),C=Q.S;C!==null&&C(E,b),Zg(t,r,b)}catch(q){Xf(t,r,q)}finally{Q.T=d}}else try{d=a(h,l),Zg(t,r,d)}catch(q){Xf(t,r,q)}}function Zg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(t,r,l)},function(l){return Xf(t,r,l)}):Jg(t,r,a)}function Jg(t,r,a){r.status="fulfilled",r.value=a,ey(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Wg(t,a)))}function Xf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ey(r),r=r.next;while(r!==l)}t.action=null}function ey(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ty(t,r){return r}function ny(t,r){if(ze){var a=Je.formState;if(a!==null){e:{var l=Ce;if(ze){if(ct){t:{for(var h=ct,d=cr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Qn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:r},a.queue=l,a=Ty.bind(null,Ce,l),l.dispatch=a,l=Yf(!1),d=td.bind(null,Ce,!1,l.queue),l=on(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=X1.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function ry(t){var r=Et();return iy(r,Ke,t)}function iy(t,r,a){if(r=Kf(t,r,ty)[0],t=ac(Pr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=cl(r)}catch(E){throw E===il?ec:E}else l=r;r=Et();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,Pa(9,oc(),W1.bind(null,h,a),null)),[l,d,t]}function W1(t,r){t.action=r}function sy(t){var r=Et(),a=Ke;if(a!==null)return iy(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Pa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Gf(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function oc(){return{destroy:void 0,resource:void 0}}function ay(){return Et().memoizedState}function lc(t,r,a,l){var h=on();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=Pa(1|r,oc(),a,l)}function hl(t,r,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Ke!==null&&l!==null&&zf(l,Ke.memoizedState.deps)?h.memoizedState=Pa(r,d,a,l):(Ce.flags|=t,h.memoizedState=Pa(1|r,d,a,l))}function oy(t,r){lc(8390656,8,t,r)}function ly(t,r){hl(2048,8,t,r)}function uy(t,r){return hl(4,2,t,r)}function cy(t,r){return hl(4,4,t,r)}function hy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function fy(t,r,a){a=a!=null?a.concat([t]):null,hl(4,4,hy.bind(null,r,t),a)}function Wf(){}function dy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&zf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function my(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&zf(r,l[1]))return l[0];if(l=t(),zs){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,r],l}function Zf(t,r,a){return a===void 0||(bi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=y_(),Ce.lanes|=t,Ii|=t,a)}function py(t,r,a,l){return dn(a,r)?a:ka.current!==null?(t=Zf(t,a,l),dn(t,r)||(kt=!0),t):(bi&42)===0?(kt=!0,t.memoizedState=a):(t=y_(),Ce.lanes|=t,Ii|=t,r)}function gy(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=Q.T,b={};Q.T=b,td(t,!1,r,a);try{var C=h(),q=Q.S;if(q!==null&&q(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=K1(C,l);fl(t,r,Y,_n(t))}else fl(t,r,l,_n(t))}catch(Z){fl(t,r,{then:function(){},status:"rejected",reason:Z},_n())}finally{ae.p=d,Q.T=E}}function Z1(){}function Jf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=yy(t).queue;gy(t,h,r,pe,a===null?Z1:function(){return _y(t),a(l)})}function yy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function _y(t){var r=yy(t).next.queue;fl(t,r,{},_n())}function ed(){return Kt(Nl)}function vy(){return Et().memoizedState}function Ey(){return Et().memoizedState}function J1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();t=Ei(a);var l=Ti(r,t,a);l!==null&&(vn(l,r,a),al(l,r,a)),r={cache:Nf()},t.payload=r;return}r=r.return}}function ew(t,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?by(r,a):(a=Ef(t,r,a,l),a!==null&&(vn(a,t,l),wy(a,r,l)))}function Ty(t,r,a){var l=_n();fl(t,r,a,l)}function fl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))by(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(h.hasEagerState=!0,h.eagerState=b,dn(b,E))return $u(t,r,h,0),Je===null&&Gu(),!1}catch{}finally{}if(a=Ef(t,r,h,l),a!==null)return vn(a,t,l),wy(a,r,l),!0}return!1}function td(t,r,a,l){if(l={lane:2,revertLane:kd(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(r)throw Error(s(479))}else r=Ef(t,a,l,2),r!==null&&vn(r,t,2)}function uc(t){var r=t.alternate;return t===Ce||r!==null&&r===Ce}function by(t,r){Ma=rc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function wy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,oi(t,a)}}var cc={readContext:Kt,use:sc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Sy={readContext:Kt,use:sc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:oy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,lc(4194308,4,hy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return lc(4194308,4,t,r)},useInsertionEffect:function(t,r){lc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(zs){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var h=a(r);if(zs){bn(!0);try{a(r)}finally{bn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ew.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=Yf(t);var r=t.queue,a=Ty.bind(null,Ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(t,r){var a=on();return Zf(a,t,r)},useTransition:function(){var t=Yf(!1);return t=gy.bind(null,Ce,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ce,h=on();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Pe&124)!==0||Gg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,oy(Kg.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,oc(),$g.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=Je.identifierPrefix;if(ze){var a=kr,l=Or;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=ic++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Q1++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:ed,useFormState:ny,useActionState:ny,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=td.bind(null,Ce,!0,a),a.dispatch=r,[t,r]},useMemoCache:$f,useCacheRefresh:function(){return on().memoizedState=J1.bind(null,Ce)}},Ay={readContext:Kt,use:sc,useCallback:dy,useContext:Kt,useEffect:ly,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:ac,useRef:ay,useState:function(){return ac(Pr)},useDebugValue:Wf,useDeferredValue:function(t,r){var a=Et();return py(a,Ke.memoizedState,t,r)},useTransition:function(){var t=ac(Pr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:Fg,useId:vy,useHostTransitionStatus:ed,useFormState:ry,useActionState:ry,useOptimistic:function(t,r){var a=Et();return Xg(a,Ke,t,r)},useMemoCache:$f,useCacheRefresh:Ey},tw={readContext:Kt,use:sc,useCallback:dy,useContext:Kt,useEffect:ly,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:Qf,useRef:ay,useState:function(){return Qf(Pr)},useDebugValue:Wf,useDeferredValue:function(t,r){var a=Et();return Ke===null?Zf(a,t,r):py(a,Ke.memoizedState,t,r)},useTransition:function(){var t=Qf(Pr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:Fg,useId:vy,useHostTransitionStatus:ed,useFormState:sy,useActionState:sy,useOptimistic:function(t,r){var a=Et();return Ke!==null?Xg(a,Ke,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:$f,useCacheRefresh:Ey},La=null,dl=0;function hc(t){var r=dl;return dl+=1,La===null&&(La=[]),Pg(La,t,r)}function ml(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function fc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ry(t){var r=t._init;return r(t._payload)}function xy(t){function r(U,M){if(t){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Dr(U,M),U.index=0,U.sibling=null,U}function d(U,M,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,M,z,X){return M===null||M.tag!==6?(M=bf(z,U.mode,X),M.return=U,M):(M=h(M,z),M.return=U,M)}function C(U,M,z,X){var he=z.type;return he===L?Y(U,M,z.props.children,X,z.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Ry(he)===M.type)?(M=h(M,z.props),ml(M,z),M.return=U,M):(M=Qu(z.type,z.key,z.props,null,U.mode,X),ml(M,z),M.return=U,M)}function q(U,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=wf(z,U.mode,X),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function Y(U,M,z,X,he){return M===null||M.tag!==7?(M=Os(z,U.mode,X,he),M.return=U,M):(M=h(M,z),M.return=U,M)}function Z(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=bf(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return z=Qu(M.type,M.key,M.props,null,U.mode,z),ml(z,M),z.return=U,z;case P:return M=wf(M,U.mode,z),M.return=U,M;case R:var X=M._init;return M=X(M._payload),Z(U,M,z)}if(rt(M)||j(M))return M=Os(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return Z(U,hc(M),z);if(M.$$typeof===ie)return Z(U,Zu(U,M),z);fc(U,M)}return null}function H(U,M,z,X){var he=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return he!==null?null:b(U,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===he?C(U,M,z,X):null;case P:return z.key===he?q(U,M,z,X):null;case R:return he=z._init,z=he(z._payload),H(U,M,z,X)}if(rt(z)||j(z))return he!==null?null:Y(U,M,z,X,null);if(typeof z.then=="function")return H(U,M,hc(z),X);if(z.$$typeof===ie)return H(U,M,Zu(U,z),X);fc(U,z)}return null}function G(U,M,z,X,he){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,b(M,U,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return U=U.get(X.key===null?z:X.key)||null,C(M,U,X,he);case P:return U=U.get(X.key===null?z:X.key)||null,q(M,U,X,he);case R:var Ie=X._init;return X=Ie(X._payload),G(U,M,z,X,he)}if(rt(X)||j(X))return U=U.get(z)||null,Y(M,U,X,he,null);if(typeof X.then=="function")return G(U,M,z,hc(X),he);if(X.$$typeof===ie)return G(U,M,z,Zu(M,X),he);fc(M,X)}return null}function Te(U,M,z,X){for(var he=null,Ie=null,fe=M,ye=M=0,Vt=null;fe!==null&&ye<z.length;ye++){fe.index>ye?(Vt=fe,fe=null):Vt=fe.sibling;var je=H(U,fe,z[ye],X);if(je===null){fe===null&&(fe=Vt);break}t&&fe&&je.alternate===null&&r(U,fe),M=d(je,M,ye),Ie===null?he=je:Ie.sibling=je,Ie=je,fe=Vt}if(ye===z.length)return a(U,fe),ze&&Ms(U,ye),he;if(fe===null){for(;ye<z.length;ye++)fe=Z(U,z[ye],X),fe!==null&&(M=d(fe,M,ye),Ie===null?he=fe:Ie.sibling=fe,Ie=fe);return ze&&Ms(U,ye),he}for(fe=l(fe);ye<z.length;ye++)Vt=G(fe,U,ye,z[ye],X),Vt!==null&&(t&&Vt.alternate!==null&&fe.delete(Vt.key===null?ye:Vt.key),M=d(Vt,M,ye),Ie===null?he=Vt:Ie.sibling=Vt,Ie=Vt);return t&&fe.forEach(function(Ui){return r(U,Ui)}),ze&&Ms(U,ye),he}function ge(U,M,z,X){if(z==null)throw Error(s(151));for(var he=null,Ie=null,fe=M,ye=M=0,Vt=null,je=z.next();fe!==null&&!je.done;ye++,je=z.next()){fe.index>ye?(Vt=fe,fe=null):Vt=fe.sibling;var Ui=H(U,fe,je.value,X);if(Ui===null){fe===null&&(fe=Vt);break}t&&fe&&Ui.alternate===null&&r(U,fe),M=d(Ui,M,ye),Ie===null?he=Ui:Ie.sibling=Ui,Ie=Ui,fe=Vt}if(je.done)return a(U,fe),ze&&Ms(U,ye),he;if(fe===null){for(;!je.done;ye++,je=z.next())je=Z(U,je.value,X),je!==null&&(M=d(je,M,ye),Ie===null?he=je:Ie.sibling=je,Ie=je);return ze&&Ms(U,ye),he}for(fe=l(fe);!je.done;ye++,je=z.next())je=G(fe,U,ye,je.value,X),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?ye:je.key),M=d(je,M,ye),Ie===null?he=je:Ie.sibling=je,Ie=je);return t&&fe.forEach(function(nS){return r(U,nS)}),ze&&Ms(U,ye),he}function Ye(U,M,z,X){if(typeof z=="object"&&z!==null&&z.type===L&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:e:{for(var he=z.key;M!==null;){if(M.key===he){if(he=z.type,he===L){if(M.tag===7){a(U,M.sibling),X=h(M,z.props.children),X.return=U,U=X;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Ry(he)===M.type){a(U,M.sibling),X=h(M,z.props),ml(X,z),X.return=U,U=X;break e}a(U,M);break}else r(U,M);M=M.sibling}z.type===L?(X=Os(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=Qu(z.type,z.key,z.props,null,U.mode,X),ml(X,z),X.return=U,U=X)}return E(U);case P:e:{for(he=z.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(U,M.sibling),X=h(M,z.children||[]),X.return=U,U=X;break e}else{a(U,M);break}else r(U,M);M=M.sibling}X=wf(z,U.mode,X),X.return=U,U=X}return E(U);case R:return he=z._init,z=he(z._payload),Ye(U,M,z,X)}if(rt(z))return Te(U,M,z,X);if(j(z)){if(he=j(z),typeof he!="function")throw Error(s(150));return z=he.call(z),ge(U,M,z,X)}if(typeof z.then=="function")return Ye(U,M,hc(z),X);if(z.$$typeof===ie)return Ye(U,M,Zu(U,z),X);fc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(U,M.sibling),X=h(M,z),X.return=U,U=X):(a(U,M),X=bf(z,U.mode,X),X.return=U,U=X),E(U)):a(U,M)}return function(U,M,z,X){try{dl=0;var he=Ye(U,M,z,X);return La=null,he}catch(fe){if(fe===il||fe===ec)throw fe;var Ie=mn(29,fe,null,U.mode);return Ie.lanes=X,Ie.return=U,Ie}finally{}}}var Ua=xy(!0),Cy=xy(!1),Dn=ne(null),hr=null;function wi(t){var r=t.alternate;se(It,It.current&1),se(Dn,t),hr===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(hr=t)}function Iy(t){if(t.tag===22){if(se(It,It.current),se(Dn,t),hr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(hr=t)}}else Si()}function Si(){se(It,It.current),se(Dn,Dn.current)}function Lr(t){oe(Dn),hr===t&&(hr=null),oe(It)}var It=ne(0);function dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function nd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=_n(),h=Ei(l);h.payload=r,a!=null&&(h.callback=a),r=Ti(t,h,l),r!==null&&(vn(r,t,l),al(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=_n(),h=Ei(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ti(t,h,l),r!==null&&(vn(r,t,l),al(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_n(),l=Ei(a);l.tag=2,r!=null&&(l.callback=r),r=Ti(t,l,a),r!==null&&(vn(r,t,a),al(r,t,a))}};function Ny(t,r,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Xo(a,l)||!Xo(h,d):!0}function Dy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&rd.enqueueReplaceState(r,r.state,null)}function Bs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Oy(t){mc(t)}function ky(t){console.error(t)}function My(t){mc(t)}function pc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(t,r,a){return a=Ei(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,r)},a}function Py(t){return t=Ei(t),t.tag=3,t}function Ly(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Vy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Vy(r,a,l),typeof h!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function nw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&tl(r,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return hr===null?Cd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),Cd(),!1}if(ze)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Rf&&(t=Error(s(422),{cause:l}),el(xn(t,a)))):(l!==Rf&&(r=Error(s(423),{cause:l}),el(xn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=id(t.stateNode,l,h),Pf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Tl===null?Tl=[d]:Tl.push(d),ht!==4&&(ht=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=id(a.stateNode,l,t),Pf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ni===null||!Ni.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Py(h),Ly(h,t,a,l),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var Uy=Error(s(461)),kt=!1;function jt(t,r,a,l){r.child=t===null?Cy(r,null,a,l):Ua(r,t.child,a,l)}function jy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Us(r),l=Bf(t,r,a,E,d,h),b=qf(),t!==null&&!kt?(Hf(t,r,h),Ur(t,r,h)):(ze&&b&&Sf(r),r.flags|=1,jt(t,r,l,h),r.child)}function zy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,By(t,r,d,l,h)):(t=Qu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!fd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(E,l)&&t.ref===r.ref)return Ur(t,r,h)}return r.flags|=1,t=Dr(d,l),t.ref=r.ref,t.return=r,r.child=t}function By(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Xo(d,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=d,fd(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,Ur(t,r,h)}return sd(t,r,a,l,h)}function qy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Hy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(r,d!==null?d.cachePool:null),d!==null?Bg(r,d):Uf(),Iy(r);else return r.lanes=r.childLanes=536870912,Hy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(r,d.cachePool),Bg(r,d),Si(),r.memoizedState=null):(t!==null&&Ju(r,null),Uf(),Si());return jt(t,r,h,a),r.child}function Hy(t,r,a,l){var h=Of();return h=h===null?null:{parent:Ct._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ju(r,null),Uf(),Iy(r),t!==null&&tl(t,r,l,!0),null}function gc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function sd(t,r,a,l,h){return Us(r),a=Bf(t,r,a,l,void 0,h),l=qf(),t!==null&&!kt?(Hf(t,r,h),Ur(t,r,h)):(ze&&l&&Sf(r),r.flags|=1,jt(t,r,a,h),r.child)}function Fy(t,r,a,l,h,d){return Us(r),r.updateQueue=null,a=Hg(r,l,a,h),qg(t),l=qf(),t!==null&&!kt?(Hf(t,r,d),Ur(t,r,d)):(ze&&l&&Sf(r),r.flags|=1,jt(t,r,a,d),r.child)}function Gy(t,r,a,l,h){if(Us(r),r.stateNode===null){var d=Ca,E=a.contextType;typeof E=="object"&&E!==null&&(d=Kt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Mf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Kt(E):Ca,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(nd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&rd.enqueueReplaceState(d,d.state,null),ll(r,l,d,h),ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,C=Bs(a,b);d.props=C;var q=d.context,Y=a.contextType;E=Ca,typeof Y=="object"&&Y!==null&&(E=Kt(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==E)&&Dy(r,d,l,E),vi=!1;var H=r.memoizedState;d.state=H,ll(r,l,d,h),ol(),q=r.memoizedState,b||H!==q||vi?(typeof Z=="function"&&(nd(r,a,Z,l),q=r.memoizedState),(C=vi||Ny(r,a,C,l,H,q,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Vf(t,r),E=r.memoizedProps,Y=Bs(a,E),d.props=Y,Z=r.pendingProps,H=d.context,q=a.contextType,C=Ca,typeof q=="object"&&q!==null&&(C=Kt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==Z||H!==C)&&Dy(r,d,l,C),vi=!1,H=r.memoizedState,d.state=H,ll(r,l,d,h),ol();var G=r.memoizedState;E!==Z||H!==G||vi||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof b=="function"&&(nd(r,a,b,l),G=r.memoizedState),(Y=vi||Ny(r,a,Y,l,H,G,C)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,gc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ua(r,t.child,null,h),r.child=Ua(r,null,a,h)):jt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Ur(t,r,h),t}function $y(t,r,a,l){return Jo(),r.flags|=256,jt(t,r,a,l),r.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(t){return{baseLanes:t,cachePool:kg()}}function ld(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=On),t}function Ky(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(h?wi(r):Si(),ze){var b=ct,C;if(C=b){e:{for(C=b,b=cr;C.nodeType!==8;){if(!b){b=null;break e}if(C=Qn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(r.memoizedState={dehydrated:b,treeContext:ks!==null?{id:Or,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},C=mn(18,null,null,0),C.stateNode=b,C.return=r,r.child=C,rn=r,ct=null,C=!0):C=!1}C||Ps(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Gd(b)?r.lanes=32:r.lanes=536870912,null;Lr(r)}return b=l.children,l=l.fallback,h?(Si(),h=r.mode,b=yc({mode:"hidden",children:b},h),l=Os(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=od(a),h.childLanes=ld(t,E,a),r.memoizedState=ad,l):(wi(r),ud(r,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)r.flags&256?(wi(r),r.flags&=-257,r=cd(t,r,a)):r.memoizedState!==null?(Si(),r.child=t.child,r.flags|=128,r=null):(Si(),h=l.fallback,b=r.mode,l=yc({mode:"visible",children:l.children},b),h=Os(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ua(r,t.child,null,a),l=r.child,l.memoizedState=od(a),l.childLanes=ld(t,E,a),r.memoizedState=ad,r=h);else if(wi(r),Gd(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,el({value:l,source:null,stack:null}),r=cd(t,r,a)}else if(kt||tl(t,r,a,!1),E=(a&t.childLanes)!==0,kt||E){if(E=Je,E!==null&&(l=a&-a,l=(l&42)!==0?1:ko(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,xa(t,l),vn(E,t,l),Uy;b.data==="$?"||Cd(),r=cd(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ct=Qn(b.nextSibling),rn=r,ze=!0,Vs=null,cr=!1,t!==null&&(In[Nn++]=Or,In[Nn++]=kr,In[Nn++]=ks,Or=t.id,kr=t.overflow,ks=r),r=ud(r,l.children),r.flags|=4096);return r}return h?(Si(),h=l.fallback,b=r.mode,C=t.child,q=C.sibling,l=Dr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Dr(q,h):(h=Os(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=od(a):(C=b.cachePool,C!==null?(q=Ct._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=kg(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=ld(t,E,a),r.memoizedState=ad,l):(wi(r),a=t.child,t=a.sibling,a=Dr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function ud(t,r){return r=yc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function yc(t,r){return t=mn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cd(t,r,a){return Ua(r,t.child,null,a),t=ud(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Qy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Cf(t.return,r,a)}function hd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Yy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,a,r);else if(t.tag===19)Qy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(It,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),hd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}hd(r,!0,a,null,d);break;case"together":hd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ur(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ii|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(tl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Dr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Dr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function fd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function rw(t,r,a){switch(r.tag){case 3:Ge(r,r.stateNode.containerInfo),_i(r,Ct,t.memoizedState.cache),Jo();break;case 27:case 5:Io(r);break;case 4:Ge(r,r.stateNode.containerInfo);break;case 10:_i(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(wi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ky(t,r,a):(wi(r),t=Ur(t,r,a),t!==null?t.sibling:null);wi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(tl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Yy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,qy(t,r,a);case 24:_i(r,Ct,t.memoizedState.cache)}return Ur(t,r,a)}function Xy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!fd(t,a)&&(r.flags&128)===0)return kt=!1,rw(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,ze&&(r.flags&1048576)!==0&&Rg(r,Xu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Tf(l)?(t=Bs(l,t),r.tag=1,r=Gy(null,r,l,t,a)):(r.tag=0,r=sd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===be){r.tag=11,r=jy(null,r,l,t,a);break e}else if(h===N){r.tag=14,r=zy(null,r,l,t,a);break e}}throw r=ut(l)||l,Error(s(306,r,""))}}return r;case 0:return sd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Bs(l,r.pendingProps),Gy(t,r,l,h,a);case 3:e:{if(Ge(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Vf(t,r),ll(r,l,null,a);var E=r.memoizedState;if(l=E.cache,_i(r,Ct,l),l!==d.cache&&If(r,[Ct],a,!0),ol(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=$y(t,r,l,a);break e}else if(l!==h){h=xn(Error(s(424)),r),el(h),r=$y(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Qn(t.firstChild),rn=r,ze=!0,Vs=null,cr=!0,a=Cy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),l===h){r=Ur(t,r,a);break e}jt(t,r,l,a)}r=r.child}return r;case 26:return gc(t,r),t===null?(a=ev(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=Dc(Ee.current).createElement(a),l[dt]=r,l[Ut]=t,Bt(l,a,t),mt(l),r.stateNode=l):r.memoizedState=ev(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Io(r),t===null&&ze&&(l=r.stateNode=W_(r.type,r.pendingProps,Ee.current),rn=r,cr=!0,h=ct,ki(r.type)?($d=h,ct=Qn(l.firstChild)):ct=h),jt(t,r,r.pendingProps.children,a),gc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((h=l=ct)&&(l=Dw(l,r.type,r.pendingProps,cr),l!==null?(r.stateNode=l,rn=r,ct=Qn(l.firstChild),cr=!1,h=!0):h=!1),h||Ps(r)),Io(r),h=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,qd(h,d)?l=null:E!==null&&qd(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=Bf(t,r,Y1,null,null,a),Nl._currentValue=h),gc(t,r),jt(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=ct)&&(a=Ow(a,r.pendingProps,cr),a!==null?(r.stateNode=a,rn=r,ct=null,t=!0):t=!1),t||Ps(r)),null;case 13:return Ky(t,r,a);case 4:return Ge(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ua(r,null,l,a):jt(t,r,l,a),r.child;case 11:return jy(t,r,r.type,r.pendingProps,a);case 7:return jt(t,r,r.pendingProps,a),r.child;case 8:return jt(t,r,r.pendingProps.children,a),r.child;case 12:return jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,_i(r,r.type,l.value),jt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Us(r),h=Kt(h),l=l(h),r.flags|=1,jt(t,r,l,a),r.child;case 14:return zy(t,r,r.type,r.pendingProps,a);case 15:return By(t,r,r.type,r.pendingProps,a);case 19:return Yy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=yc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Dr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return qy(t,r,a);case 24:return Us(r),l=Kt(Ct),t===null?(h=Of(),h===null&&(h=Je,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Mf(r),_i(r,Ct,h)):((t.lanes&a)!==0&&(Vf(t,r),ll(r,null,null,a),ol()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),_i(r,Ct,l)):(l=d.cache,_i(r,Ct,l),l!==h.cache&&If(r,[Ct],a,!0))),jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function jr(t){t.flags|=4}function Wy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sv(r)){if(r=Dn.current,r!==null&&((Pe&4194048)===Pe?hr!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||r!==hr))throw sl=kf,Mg;t.flags|=8192}}function _c(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?si():536870912,t.lanes|=r,qa|=r)}function pl(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function iw(t,r,a){var l=r.pendingProps;switch(Af(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Vr(Ct),Un(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zo(r)?jr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ig())),ot(r),null;case 26:return a=r.memoizedState,t===null?(jr(r),a!==null?(ot(r),Wy(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(jr(r),ot(r),Wy(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&jr(r),ot(r),r.flags&=-16777217),null;case 27:oa(r),a=Ee.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&jr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=de.current,Zo(r)?xg(r):(t=W_(h,l,a),r.stateNode=t,jr(r))}return ot(r),null;case 5:if(oa(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&jr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=de.current,Zo(r))xg(r);else{switch(h=Dc(Ee.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[dt]=r,t[Ut]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&jr(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&jr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ee.current,Zo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[dt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F_(t.nodeValue,a)),t||Ps(r)}else t=Dc(t).createTextNode(l),t[dt]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Zo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[dt]=r}else Jo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Ig(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Lr(r),r):(Lr(r),null)}if(Lr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),_c(r,r.updateQueue),ot(r),null;case 4:return Un(),t===null&&Ld(r.stateNode.containerInfo),ot(r),null;case 10:return Vr(r.type),ot(r),null;case 19:if(oe(It),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)pl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=dc(t),d!==null){for(r.flags|=128,pl(h,!1),t=d.updateQueue,r.updateQueue=t,_c(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ag(a,t),a=a.sibling;return se(It,It.current&1|2),r.child}t=t.sibling}h.tail!==null&&an()>Tc&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304)}else{if(!l)if(t=dc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,_c(r,t),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ze)return ot(r),null}else 2*an()-h.renderingStartTime>Tc&&a!==536870912&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=an(),r.sibling=null,t=It.current,se(It,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Lr(r),jf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&_c(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Vr(Ct),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function sw(t,r){switch(Af(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Vr(Ct),Un(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return oa(r),null;case 13:if(Lr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Jo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(It),null;case 4:return Un(),null;case 10:return Vr(r.type),null;case 22:case 23:return Lr(r),jf(),t!==null&&oe(js),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Vr(Ct),null;case 25:return null;default:return null}}function Zy(t,r){switch(Af(r),r.tag){case 3:Vr(Ct),Un();break;case 26:case 27:case 5:oa(r);break;case 4:Un();break;case 13:Lr(r);break;case 19:oe(It);break;case 10:Vr(r.type);break;case 22:case 23:Lr(r),jf(),t!==null&&oe(js);break;case 24:Vr(Ct)}}function gl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(b){We(r,r.return,b)}}function Ai(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=r;var C=a,q=b;try{q()}catch(Y){We(h,C,Y)}}}l=l.next}while(l!==d)}}catch(Y){We(r,r.return,Y)}}function Jy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{zg(r,a)}catch(l){We(t,t.return,l)}}}function e_(t,r,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function yl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function fr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function t_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function dd(t,r,a){try{var l=t.stateNode;Rw(l,t.type,a,r),l[Ut]=r}catch(h){We(t,t.return,h)}}function n_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ki(t.type)||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Nc));else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(pd(t,r,a),t=t.sibling;t!==null;)pd(t,r,a),t=t.sibling}function vc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,r,a),t=t.sibling;t!==null;)vc(t,r,a),t=t.sibling}function r_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Bt(r,l,a),r[dt]=t,r[Ut]=a}catch(d){We(t,t.return,d)}}var zr=!1,yt=!1,gd=!1,i_=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function aw(t,r){if(t=t.containerInfo,zd=Lc,t=pg(t),mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,C=-1,q=0,Y=0,Z=t,H=null;t:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(b=E+h),Z!==d||l!==0&&Z.nodeType!==3||(C=E+l),Z.nodeType===3&&(E+=Z.nodeValue.length),(G=Z.firstChild)!==null;)H=Z,Z=G;for(;;){if(Z===t)break t;if(H===a&&++q===h&&(b=E),H===d&&++Y===l&&(C=E),(G=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=G}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:t,selectionRange:a},Lc=!1,Mt=r;Mt!==null;)if(r=Mt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Mt=t;else for(;Mt!==null;){switch(r=Mt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Bs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){We(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Mt=t;break}Mt=r.return}}function s_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(t,a),l&4&&gl(5,a);break;case 1:if(Ri(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){We(a,a.return,E)}else{var h=Bs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){We(a,a.return,E)}}l&64&&Jy(a),l&512&&yl(a,a.return);break;case 3:if(Ri(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{zg(t,r)}catch(E){We(a,a.return,E)}}break;case 27:r===null&&l&4&&r_(a);case 26:case 5:Ri(t,a),r===null&&l&4&&t_(a),l&512&&yl(a,a.return);break;case 12:Ri(t,a);break;case 13:Ri(t,a),l&4&&l_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pw.bind(null,a),kw(t,a))));break;case 22:if(l=a.memoizedState!==null||zr,!l){r=r!==null&&r.memoizedState!==null||yt,h=zr;var d=yt;zr=l,(yt=r)&&!d?xi(t,a,(a.subtreeFlags&8772)!==0):Ri(t,a),zr=h,yt=d}break;case 30:break;default:Ri(t,a)}}function a_(t){var r=t.alternate;r!==null&&(t.alternate=null,a_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&fa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,ln=!1;function Br(t,r,a){for(a=a.child;a!==null;)o_(t,r,a),a=a.sibling}function o_(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ni,a)}catch{}switch(a.tag){case 26:yt||fr(a,r),Br(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||fr(a,r);var l=it,h=ln;ki(a.type)&&(it=a.stateNode,ln=!1),Br(t,r,a),Rl(a.stateNode),it=l,ln=h;break;case 5:yt||fr(a,r);case 6:if(l=it,h=ln,it=null,Br(t,r,a),it=l,ln=h,it!==null)if(ln)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:it!==null&&(ln?(t=it,Y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ml(t)):Y_(it,a.stateNode));break;case 4:l=it,h=ln,it=a.stateNode.containerInfo,ln=!0,Br(t,r,a),it=l,ln=h;break;case 0:case 11:case 14:case 15:yt||Ai(2,a,r),yt||Ai(4,a,r),Br(t,r,a);break;case 1:yt||(fr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&e_(a,r,l)),Br(t,r,a);break;case 21:Br(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Br(t,r,a),yt=l;break;default:Br(t,r,a)}}function l_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(a){We(r,r.return,a)}}function ow(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new i_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new i_),r;default:throw Error(s(435,t.tag))}}function yd(t,r){var a=ow(t);r.forEach(function(l){var h=gw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ki(b.type)){it=b.stateNode,ln=!1;break e}break;case 5:it=b.stateNode,ln=!1;break e;case 3:case 4:it=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(it===null)throw Error(s(160));o_(d,E,h),it=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)u_(r,t),r=r.sibling}var Kn=null;function u_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),l&4&&(Ai(3,t,t.return),gl(3,t),Ai(5,t,t.return));break;case 1:pn(r,t),gn(t),l&512&&(yt||a===null||fr(a,a.return)),l&64&&zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(pn(r,t),gn(t),l&512&&(yt||a===null||fr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[li]||d[dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[dt]=t,mt(d),l=d;break e;case"link":var E=rv("link","href",h).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=rv("meta","content",h).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[dt]=t,mt(d),l=d}t.stateNode=l}else iv(h,t.type,t.stateNode);else t.stateNode=nv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?iv(h,t.type,t.stateNode):nv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(r,t),gn(t),l&512&&(yt||a===null||fr(a,a.return)),a!==null&&l&4&&dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,t),gn(t),l&512&&(yt||a===null||fr(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(G){We(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,dd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(gd=!0);break;case 6:if(pn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){We(t,t.return,G)}}break;case 3:if(Mc=null,h=Kn,Kn=Oc(r.containerInfo),pn(r,t),Kn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(r.containerInfo)}catch(G){We(t,t.return,G)}gd&&(gd=!1,c_(t));break;case 4:l=Kn,Kn=Oc(t.stateNode.containerInfo),pn(r,t),gn(t),Kn=l;break;case 12:pn(r,t),gn(t);break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wd=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=zr,Y=yt;if(zr=q||h,yt=Y||C,pn(r,t),yt=Y,zr=q,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||zr||yt||qs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){We(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){We(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yd(t,a))));break;case 19:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(n_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=md(t);vc(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(An(E,""),a.flags&=-33);var b=md(t);vc(t,b,E);break;case 3:case 4:var C=a.stateNode.containerInfo,q=md(t);pd(t,q,C);break;default:throw Error(s(161))}}catch(Y){We(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function c_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;c_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ri(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)s_(t,r.alternate,r),r=r.sibling}function qs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ai(4,r,r.return),qs(r);break;case 1:fr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&e_(r,r.return,a),qs(r);break;case 27:Rl(r.stateNode);case 26:case 5:fr(r,r.return),qs(r);break;case 22:r.memoizedState===null&&qs(r);break;case 30:qs(r);break;default:qs(r)}t=t.sibling}}function xi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:xi(h,d,a),gl(4,d);break;case 1:if(xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)jg(C[h],b)}catch(q){We(l,l.return,q)}}a&&E&64&&Jy(d),yl(d,d.return);break;case 27:r_(d);case 26:case 5:xi(h,d,a),a&&l===null&&E&4&&t_(d),yl(d,d.return);break;case 12:xi(h,d,a);break;case 13:xi(h,d,a),a&&E&4&&l_(h,d);break;case 22:d.memoizedState===null&&xi(h,d,a),yl(d,d.return);break;case 30:break;default:xi(h,d,a)}r=r.sibling}}function _d(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function vd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&nl(t))}function dr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)h_(t,r,a,l),r=r.sibling}function h_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:dr(t,r,a,l),h&2048&&gl(9,r);break;case 1:dr(t,r,a,l);break;case 3:dr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){dr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else dr(t,r,a,l);break;case 13:dr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?dr(t,r,a,l):_l(t,r):d._visibility&2?dr(t,r,a,l):(d._visibility|=2,ja(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&_d(E,r);break;case 24:dr(t,r,a,l),h&2048&&vd(r.alternate,r);break;default:dr(t,r,a,l)}}function ja(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,b=a,C=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:ja(d,E,b,C,h),gl(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?ja(d,E,b,C,h):_l(d,E):(Y._visibility|=2,ja(d,E,b,C,h)),h&&q&2048&&_d(E.alternate,E);break;case 24:ja(d,E,b,C,h),h&&q&2048&&vd(E.alternate,E);break;default:ja(d,E,b,C,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&_d(l.alternate,l);break;case 24:_l(a,l),h&2048&&vd(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function za(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)f_(t),t=t.sibling}function f_(t){switch(t.tag){case 26:za(t),t.flags&vl&&t.memoizedState!==null&&$w(Kn,t.memoizedState,t.memoizedProps);break;case 5:za(t);break;case 3:case 4:var r=Kn;Kn=Oc(t.stateNode.containerInfo),za(t),Kn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,za(t),vl=r):za(t));break;default:za(t)}}function d_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function El(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,p_(l,t)}d_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)m_(t),t=t.sibling}function m_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ec(t)):El(t);break;default:El(t)}}function Ec(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,p_(l,t)}d_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ai(8,r,r.return),Ec(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(r));break;default:Ec(r)}t=t.sibling}}function p_(t,r){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Ai(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(a_(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var lw={getCacheForType:function(t){var r=Kt(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},uw=typeof WeakMap=="function"?WeakMap:Map,He=0,Je=null,Ne=null,Pe=0,Fe=0,yn=null,Ci=!1,Ba=!1,Ed=!1,qr=0,ht=0,Ii=0,Hs=0,Td=0,On=0,qa=0,Tl=null,un=null,bd=!1,wd=0,Tc=1/0,bc=null,Ni=null,zt=0,Di=null,Ha=null,Fa=0,Sd=0,Ad=null,g_=null,bl=0,Rd=null;function _n(){if((He&2)!==0&&Pe!==0)return Pe&-Pe;if(Q.T!==null){var t=Da;return t!==0?t:kd()}return Sr()}function y_(){On===0&&(On=(Pe&536870912)===0||ze?Oo():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),On}function vn(t,r,a){(t===Je&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Oi(t,Pe,On,!1)),ft(t,a),((He&2)===0||t!==Je)&&(t===Je&&((He&2)===0&&(Hs|=a),ht===4&&Oi(t,Pe,On,!1)),mr(t))}function __(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ii(t,r),h=l?fw(t,r):Id(t,r,!0),d=l;do{if(h===0){Ba&&!l&&Oi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!cw(a)){h=Id(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=t;h=Tl;var C=b.current.memoizedState.isDehydrated;if(C&&(Ga(b,E).flags|=256),E=Id(b,E,!1),E!==2){if(Ed&&!C){b.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),Oi(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Oi(l,r,On,!Ci);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=wd+300-an(),10<h)){if(Oi(l,r,On,!Ci),wn(l,0,!0)!==0)break e;l.timeoutHandle=K_(v_.bind(null,l,a,un,bc,bd,r,On,Hs,qa,Ci,d,2,-0,0),h);break e}v_(l,a,un,bc,bd,r,On,Hs,qa,Ci,d,0,-0,0)}}break}while(!0);mr(t)}function v_(t,r,a,l,h,d,E,b,C,q,Y,Z,H,G){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:Gw},f_(r),Z=Kw(),Z!==null)){t.cancelPendingCommit=Z(R_.bind(null,t,r,d,a,l,h,E,b,C,Y,1,H,G)),Oi(t,d,E,!q);return}R_(t,r,d,a,l,h,E,b,C)}function cw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Oi(t,r,a,l){r&=~Td,r&=~Hs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Jt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&ai(t,a,r)}function wc(){return(He&6)===0?(wl(0),!1):!0}function xd(){if(Ne!==null){if(Fe===0)var t=Ne.return;else t=Ne,Mr=Ls=null,Ff(t),La=null,dl=0,t=Ne;for(;t!==null;)Zy(t.alternate,t),t=t.return;Ne=null}}function Ga(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Cw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xd(),Je=t,Ne=a=Dr(t.current,null),Pe=r,Fe=0,yn=null,Ci=!1,Ba=ii(t,r),Ed=!1,qa=On=Td=Hs=Ii=ht=0,un=Tl=null,bd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Jt(l),d=1<<h;r|=t[h],l&=~d}return qr=r,Gu(),a}function E_(t,r){Ce=null,Q.H=cc,r===il||r===ec?(r=Lg(),Fe=3):r===Mg?(r=Lg(),Fe=4):Fe=r===Uy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,Ne===null&&(ht=1,pc(t,xn(r,t.current)))}function T_(){var t=Q.H;return Q.H=cc,t===null?cc:t}function b_(){var t=Q.A;return Q.A=lw,t}function Cd(){ht=4,Ci||(Pe&4194048)!==Pe&&Dn.current!==null||(Ba=!0),(Ii&134217727)===0&&(Hs&134217727)===0||Je===null||Oi(Je,Pe,On,!1)}function Id(t,r,a){var l=He;He|=2;var h=T_(),d=b_();(Je!==t||Pe!==r)&&(bc=null,Ga(t,r)),r=!1;var E=ht;e:do try{if(Fe!==0&&Ne!==null){var b=Ne,C=yn;switch(Fe){case 8:xd(),E=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var q=Fe;if(Fe=0,yn=null,$a(t,b,C,q),a&&Ba){E=0;break e}break;default:q=Fe,Fe=0,yn=null,$a(t,b,C,q)}}hw(),E=ht;break}catch(Y){E_(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Mr=Ls=null,He=l,Q.H=h,Q.A=d,Ne===null&&(Je=null,Pe=0,Gu()),E}function hw(){for(;Ne!==null;)w_(Ne)}function fw(t,r){var a=He;He|=2;var l=T_(),h=b_();Je!==t||Pe!==r?(bc=null,Tc=an()+500,Ga(t,r)):Ba=ii(t,r);e:do try{if(Fe!==0&&Ne!==null){r=Ne;var d=yn;t:switch(Fe){case 1:Fe=0,yn=null,$a(t,r,d,1);break;case 2:case 9:if(Vg(d)){Fe=0,yn=null,S_(r);break}r=function(){Fe!==2&&Fe!==9||Je!==t||(Fe=7),mr(t)},d.then(r,r);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Vg(d)?(Fe=0,yn=null,S_(r)):(Fe=0,yn=null,$a(t,r,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var b=Ne;if(!E||sv(E)){Fe=0,yn=null;var C=b.sibling;if(C!==null)Ne=C;else{var q=b.return;q!==null?(Ne=q,Sc(q)):Ne=null}break t}}Fe=0,yn=null,$a(t,r,d,5);break;case 6:Fe=0,yn=null,$a(t,r,d,6);break;case 8:xd(),ht=6;break e;default:throw Error(s(462))}}dw();break}catch(Y){E_(t,Y)}while(!0);return Mr=Ls=null,Q.H=l,Q.A=h,He=a,Ne!==null?0:(Je=null,Pe=0,Gu(),ht)}function dw(){for(;Ne!==null&&!nf();)w_(Ne)}function w_(t){var r=Xy(t.alternate,t,qr);t.memoizedProps=t.pendingProps,r===null?Sc(t):Ne=r}function S_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Fy(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=Fy(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Ff(r);default:Zy(a,r),r=Ne=Ag(r,qr),r=Xy(a,r,qr)}t.memoizedProps=t.pendingProps,r===null?Sc(t):Ne=r}function $a(t,r,a,l){Mr=Ls=null,Ff(r),La=null,dl=0;var h=r.return;try{if(nw(t,h,r,a,Pe)){ht=1,pc(t,xn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,pc(t,xn(a,t.current)),Ne=null;return}r.flags&32768?(ze||l===1?t=!0:Ba||(Pe&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),A_(r,t)):Sc(r)}function Sc(t){var r=t;do{if((r.flags&32768)!==0){A_(r,Ci);return}t=r.return;var a=iw(r.alternate,r,qr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ht===0&&(ht=5)}function A_(t,r){do{var a=sw(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function R_(t,r,a,l,h,d,E,b,C){t.cancelPendingCommit=null;do Ac();while(zt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=vf,Cu(t,a,d,E,b,C),t===Je&&(Ne=Je=null,Pe=0),Ha=r,Di=t,Fa=a,Sd=d,Ad=h,g_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yw(wr,function(){return D_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ae.p,ae.p=2,E=He,He|=4;try{aw(t,r,a)}finally{He=E,ae.p=h,Q.T=l}}zt=1,x_(),C_(),I_()}}function x_(){if(zt===1){zt=0;var t=Di,r=Ha,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{u_(r,t);var d=Bd,E=pg(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&mg(b.ownerDocument.documentElement,b)){if(C!==null&&mf(b)){var q=C.start,Y=C.end;if(Y===void 0&&(Y=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(Y,b.value.length);else{var Z=b.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var G=H.getSelection(),Te=b.textContent.length,ge=Math.min(C.start,Te),Ye=C.end===void 0?ge:Math.min(C.end,Te);!G.extend&&ge>Ye&&(E=Ye,Ye=ge,ge=E);var U=dg(b,ge),M=dg(b,Ye);if(U&&M&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(U.node,U.offset),G.removeAllRanges(),ge>Ye?(G.addRange(z),G.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),G.addRange(z))}}}}for(Z=[],G=b;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var X=Z[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Lc=!!zd,Bd=zd=null}finally{He=h,ae.p=l,Q.T=a}}t.current=r,zt=2}}function C_(){if(zt===2){zt=0;var t=Di,r=Ha,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{s_(t,r.alternate,r)}finally{He=h,ae.p=l,Q.T=a}}zt=3}}function I_(){if(zt===4||zt===3){zt=0,No();var t=Di,r=Ha,a=Fa,l=g_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Ha=Di=null,N_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ni=null),Mo(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ni,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=ae.p,ae.p=2,Q.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{Q.T=r,ae.p=h}}(Fa&3)!==0&&Ac(),mr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Rd?bl++:(bl=0,Rd=t):bl=0,wl(0)}}function N_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,nl(r)))}function Ac(t){return x_(),C_(),I_(),D_()}function D_(){if(zt!==5)return!1;var t=Di,r=Sd;Sd=0;var a=Mo(Fa),l=Q.T,h=ae.p;try{ae.p=32>a?32:a,Q.T=null,a=Ad,Ad=null;var d=Di,E=Fa;if(zt=0,Ha=Di=null,Fa=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,m_(d.current),h_(d,d.current,E,a),He=b,wl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ni,d)}catch{}return!0}finally{ae.p=h,Q.T=l,N_(t,r)}}function O_(t,r,a){r=xn(a,r),r=id(t.stateNode,r,2),t=Ti(t,r,2),t!==null&&(ft(t,2),mr(t))}function We(t,r,a){if(t.tag===3)O_(t,t,a);else for(;r!==null;){if(r.tag===3){O_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ni===null||!Ni.has(l))){t=xn(a,t),a=Py(2),l=Ti(r,a,2),l!==null&&(Ly(a,l,r,t),ft(l,2),mr(l));break}}r=r.return}}function Nd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Ed=!0,h.add(a),t=mw.bind(null,t,r,a),r.then(t,t))}function mw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Pe&a)===a&&(ht===4||ht===3&&(Pe&62914560)===Pe&&300>an()-wd?(He&2)===0&&Ga(t,0):Td|=a,qa===Pe&&(qa=0)),mr(t)}function k_(t,r){r===0&&(r=si()),t=xa(t,r),t!==null&&(ft(t,r),mr(t))}function pw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),k_(t,a)}function gw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),k_(t,a)}function yw(t,r){return ls(t,r)}var Rc=null,Ka=null,Dd=!1,xc=!1,Od=!1,Fs=0;function mr(t){t!==Ka&&t.next===null&&(Ka===null?Rc=Ka=t:Ka=Ka.next=t),xc=!0,Dd||(Dd=!0,vw())}function wl(t,r){if(!Od&&xc){Od=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=h&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,L_(l,d))}else d=Pe,d=wn(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ii(l,d)||(a=!0,L_(l,d));l=l.next}while(a);Od=!1}}function _w(){M_()}function M_(){xc=Dd=!1;var t=0;Fs!==0&&(xw()&&(t=Fs),Fs=0);for(var r=an(),a=null,l=Rc;l!==null;){var h=l.next,d=V_(l,r);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(xc=!0)),l=h}wl(t)}function V_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Jt(d),b=1<<E,C=h[E];C===-1?((b&a)===0||(b&l)!==0)&&(h[E]=ca(b,r)):C<=r&&(t.expiredLanes|=b),d&=~b}if(r=Je,a=Pe,a=wn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ua(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ii(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ua(l),Mo(a)){case 2:case 8:a=Dt;break;case 32:a=wr;break;case 268435456:a=Do;break;default:a=wr}return l=P_.bind(null,t),a=ls(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ua(l),t.callbackPriority=2,t.callbackNode=null,2}function P_(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=Pe;return l=wn(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(__(t,l,r),V_(t,an()),t.callbackNode!=null&&t.callbackNode===a?P_.bind(null,t):null)}function L_(t,r){if(Ac())return null;__(t,r,!0)}function vw(){Iw(function(){(He&6)!==0?ls(Rt,_w):M_()})}function kd(){return Fs===0&&(Fs=Oo()),Fs}function U_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function j_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Ew(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=U_((h[Ut]||null).action),E=l.submitter;E&&(r=(r=E[Ut]||null)?U_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new ws("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var C=E?j_(h,E):new FormData(h);Jf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=E?j_(h,E):new FormData(h),Jf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Md=0;Md<_f.length;Md++){var Vd=_f[Md],Tw=Vd.toLowerCase(),bw=Vd[0].toUpperCase()+Vd.slice(1);$n(Tw,"on"+bw)}$n(_g,"onAnimationEnd"),$n(vg,"onAnimationIteration"),$n(Eg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(j1,"onTransitionRun"),$n(z1,"onTransitionStart"),$n(B1,"onTransitionCancel"),$n(Tg,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function z_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],C=b.instance,q=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(Y){mc(Y)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(b=l[E],C=b.instance,q=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(Y){mc(Y)}h.currentTarget=null,d=C}}}}function De(t,r){var a=r[cs];a===void 0&&(a=r[cs]=new Set);var l=t+"__bubble";a.has(l)||(B_(r,t,2,!1),a.add(l))}function Pd(t,r,a){var l=0;r&&(l|=4),B_(a,t,l,r)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Cc]){t[Cc]=!0,Iu.forEach(function(a){a!=="selectionchange"&&(ww.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Cc]||(r[Cc]=!0,Pd("selectionchange",!1,r))}}function B_(t,r,a,l){switch(hv(r)){case 2:var h=Xw;break;case 8:h=Ww;break;default:h=Wd}a=h.bind(null,r,a,t),h=void 0,!Ir||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Ud(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=rr(b),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}b=b.parentNode}}l=l.return}Es(function(){var q=d,Y=Bo(a),Z=[];e:{var H=bg.get(t);if(H!==void 0){var G=ws,Te=t;switch(t){case"keypress":if(Ts(a)===0)break e;case"keydown":case"keyup":G=wa;break;case"focusin":Te="focus",G=Ea;break;case"focusout":Te="blur",G=Ea;break;case"beforeblur":case"afterblur":G=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=yi;break;case _g:case vg:case Eg:G=Ho;break;case Tg:G=y;break;case"scroll":case"scrollend":G=As;break;case"wheel":G=S;break;case"copy":case"cut":case"paste":G=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=$o;break;case"toggle":case"beforetoggle":G=$}var ge=(r&4)!==0,Ye=!ge&&(t==="scroll"||t==="scrollend"),U=ge?H!==null?H+"Capture":null:H;ge=[];for(var M=q,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=pi(M,U),X!=null&&ge.push(Al(M,X,z))),Ye)break;M=M.return}0<ge.length&&(H=new G(H,Te,null,a,Y),Z.push({event:H,listeners:ge}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==zo&&(Te=a.relatedTarget||a.fromElement)&&(rr(Te)||Te[Ar]))break e;if((G||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Te=a.relatedTarget||a.toElement,G=q,Te=Te?rr(Te):null,Te!==null&&(Ye=u(Te),ge=Te.tag,Te!==Ye||ge!==5&&ge!==27&&ge!==6)&&(Te=null)):(G=null,Te=q),G!==Te)){if(ge=Cs,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=$o,X="onPointerLeave",U="onPointerEnter",M="pointer"),Ye=G==null?H:ui(G),z=Te==null?H:ui(Te),H=new ge(X,M+"leave",G,a,Y),H.target=Ye,H.relatedTarget=z,X=null,rr(Y)===q&&(ge=new ge(U,M+"enter",Te,a,Y),ge.target=z,ge.relatedTarget=Ye,X=ge),Ye=X,G&&Te)t:{for(ge=G,U=Te,M=0,z=ge;z;z=Qa(z))M++;for(z=0,X=U;X;X=Qa(X))z++;for(;0<M-z;)ge=Qa(ge),M--;for(;0<z-M;)U=Qa(U),z--;for(;M--;){if(ge===U||U!==null&&ge===U.alternate)break t;ge=Qa(ge),U=Qa(U)}ge=null}else ge=null;G!==null&&q_(Z,H,G,ge,!1),Te!==null&&Ye!==null&&q_(Z,Ye,Te,ge,!0)}}e:{if(H=q?ui(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var he=og;else if(sg(H))if(lg)he=P1;else{he=M1;var Ie=k1}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&ya(q.elementType)&&(he=og):he=V1;if(he&&(he=he(t,q))){ag(Z,he,a,Y);break e}Ie&&Ie(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Lo(H,"number",H.value)}switch(Ie=q?ui(q):window,t){case"focusin":(sg(Ie)||Ie.contentEditable==="true")&&(Sa=Ie,pf=q,Wo=null);break;case"focusout":Wo=pf=Sa=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,gg(Z,a,Y);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":gg(Z,a,Y)}var fe;if(Se)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Gn?Hn(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(pt&&a.locale!=="ko"&&(Gn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Gn&&(fe=Vu()):(Rn=Y,Ze="value"in Rn?Rn.value:Rn.textContent,Gn=!0)),Ie=Ic(q,ye),0<Ie.length&&(ye=new Go(ye,t,null,a,Y),Z.push({event:ye,listeners:Ie}),fe?ye.data=fe:(fe=Fn(a),fe!==null&&(ye.data=fe)))),(fe=qe?Ko(t,a):N1(t,a))&&(ye=Ic(q,"onBeforeInput"),0<ye.length&&(Ie=new Go("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Ie,listeners:ye}),Ie.data=fe)),Ew(Z,t,q,a,Y)}z_(Z,r)})}function Al(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ic(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=pi(t,a),h!=null&&l.unshift(Al(t,h,d)),h=pi(t,r),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,r,a,l,h){for(var d=r._reactName,E=[];a!==null&&a!==l;){var b=a,C=b.alternate,q=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||q===null||(C=q,h?(q=pi(a,d),q!=null&&E.unshift(Al(a,q,C))):h||(q=pi(a,d),q!=null&&E.push(Al(a,q,C)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var Sw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function H_(t){return(typeof t=="string"?t:""+t).replace(Sw,`
`).replace(Aw,"")}function F_(t,r){return r=H_(r),H_(t)===r}function Nc(){}function Qe(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(t,""+l);break;case"className":ps(t,"class",l);break;case"tabIndex":ps(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ps(t,a,l);break;case"style":jo(t,l,d);break;case"data":if(r!=="object"){ps(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Qe(t,r,"name",h.name,h,null),Qe(t,r,"formEncType",h.formEncType,h,null),Qe(t,r,"formMethod",h.formMethod,h,null),Qe(t,r,"formTarget",h.formTarget,h,null)):(Qe(t,r,"encType",h.encType,h,null),Qe(t,r,"method",h.method,h,null),Qe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ms(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ms(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,ms(t,a,l))}}function jd(t,r,a,l,h,d){switch(a){case"style":jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ms(t,a,l)}}}function Bt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,d,E,a,null)}}h&&Qe(t,r,"srcSet",a.srcSet,a,null),l&&Qe(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var b=d=E=h=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":E=Y;break;case"checked":C=Y;break;case"defaultChecked":q=Y;break;case"value":d=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Qe(t,r,l,Y,a,null)}}Po(t,d,b,C,q,E,h,!1),fi(t);return;case"select":De("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Qe(t,r,h,b,a,null)}r=d,a=E,t.multiple=!!l,r!=null?di(t,!!l,r,!1):a!=null&&di(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Qe(t,r,E,b,a,null)}Du(t,l,h,d),fi(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,r,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)De(Sl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,q,l,a,null)}return;default:if(ya(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&jd(t,r,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Qe(t,r,b,l,a,null))}function Rw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,b=null,C=null,q=null,Y=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(G)||Qe(t,r,G,null,l,Z)}}for(var H in l){var G=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(G!=null||Z!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":Y=G;break;case"value":E=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==Z&&Qe(t,r,H,G,l,Z)}}Vo(t,E,b,C,q,Y,d,h);return;case"select":G=E=b=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Qe(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==C&&Qe(t,r,h,d,l,C)}r=b,a=E,l=G,H!=null?di(t,!!a,H,!1):!!l!=!!a&&(r!=null?di(t,!!a,r,!0):di(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Qe(t,r,b,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qe(t,r,E,h,l,d)}Nu(t,H,G);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Qe(t,r,Te,null,l,H)}for(C in l)if(H=l[C],G=a[C],l.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Qe(t,r,C,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)H=a[ge],a.hasOwnProperty(ge)&&H!=null&&!l.hasOwnProperty(ge)&&Qe(t,r,ge,null,l,H);for(q in l)if(H=l[q],G=a[q],l.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Qe(t,r,q,H,l,G)}return;default:if(ya(r)){for(var Ye in a)H=a[Ye],a.hasOwnProperty(Ye)&&H!==void 0&&!l.hasOwnProperty(Ye)&&jd(t,r,Ye,void 0,l,H);for(Y in l)H=l[Y],G=a[Y],!l.hasOwnProperty(Y)||H===G||H===void 0&&G===void 0||jd(t,r,Y,H,l,G);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Qe(t,r,U,null,l,H);for(Z in l)H=l[Z],G=a[Z],!l.hasOwnProperty(Z)||H===G||H==null&&G==null||Qe(t,r,Z,H,l,G)}var zd=null,Bd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function G_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function qd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Hd=null;function xw(){var t=window.event;return t&&t.type==="popstate"?t===Hd?!1:(Hd=t,!0):(Hd=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(t){return Q_.resolve(null).then(t).catch(Nw)}:K_;function Nw(t){setTimeout(function(){throw t})}function ki(t){return t==="head"}function Y_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Rl(E.documentElement),a&2&&Rl(E.body),a&4)for(a=E.head,Rl(a),E=a.firstChild;E;){var b=E.nextSibling,C=E.nodeName;E[li]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(h===0){t.removeChild(d),Ml(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ml(r)}function Fd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Dw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function Ow(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var $d=null;function X_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function W_(t,r,a){switch(r=Dc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);fa(t)}var kn=new Map,Z_=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hr=ae.d;ae.d={f:Mw,r:Vw,D:Pw,C:Lw,L:Uw,m:jw,X:Bw,S:zw,M:qw};function Mw(){var t=Hr.f(),r=wc();return t||r}function Vw(t){var r=ir(t);r!==null&&r.tag===5&&r.type==="form"?_y(r):Hr.r(t)}var Ya=typeof document>"u"?null:document;function J_(t,r,a){var l=Ya;if(l&&typeof r=="string"&&r){var h=Ot(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Z_.has(h)||(Z_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Bt(r,"link",t),mt(r),l.head.appendChild(r)))}}function Pw(t){Hr.D(t),J_("dns-prefetch",t,null)}function Lw(t,r){Hr.C(t,r),J_("preconnect",t,r)}function Uw(t,r,a){Hr.L(t,r,a);var l=Ya;if(l&&t&&r){var h='link[rel="preload"][as="'+Ot(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ot(a.imageSizes)+'"]')):h+='[href="'+Ot(t)+'"]';var d=h;switch(r){case"style":d=Xa(t);break;case"script":d=Wa(t)}kn.has(d)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),kn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(xl(d))||r==="script"&&l.querySelector(Cl(d))||(r=l.createElement("link"),Bt(r,"link",t),mt(r),l.head.appendChild(r)))}}function jw(t,r){Hr.m(t,r);var a=Ya;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!kn.has(d)&&(t=_({rel:"modulepreload",href:t},r),kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Bt(l,"link",t),mt(l),a.head.appendChild(l)}}}function zw(t,r,a){Hr.S(t,r,a);var l=Ya;if(l&&t){var h=ci(l).hoistableStyles,d=Xa(t);r=r||"default";var E=h.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(xl(d)))b.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=kn.get(d))&&Kd(t,a);var C=E=l.createElement("link");mt(C),Bt(C,"link",t),C._p=new Promise(function(q,Y){C.onload=q,C.onerror=Y}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,kc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(d,E)}}}function Bw(t,r){Hr.X(t,r);var a=Ya;if(a&&t){var l=ci(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=_({src:t,async:!0},r),(r=kn.get(h))&&Qd(t,r),d=a.createElement("script"),mt(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qw(t,r){Hr.M(t,r);var a=Ya;if(a&&t){var l=ci(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=_({src:t,async:!0,type:"module"},r),(r=kn.get(h))&&Qd(t,r),d=a.createElement("script"),mt(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ev(t,r,a,l){var h=(h=Ee.current)?Oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Xa(a.href),a=ci(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=ci(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(xl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),d||Hw(h,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wa(a),a=ci(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+Ot(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function tv(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Hw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Bt(r,"link",a),mt(r),t.head.appendChild(r))}function Wa(t){return'[src="'+Ot(t)+'"]'}function Cl(t){return"script[async]"+t}function nv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Bt(l,"style",h),kc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Xa(a.href);var d=t.querySelector(xl(h));if(d)return r.state.loading|=4,r.instance=d,mt(d),d;l=tv(a),(h=kn.get(h))&&Kd(l,h),d=(t.ownerDocument||t).createElement("link"),mt(d);var E=d;return E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Bt(d,"link",l),r.state.loading|=4,kc(d,a.precedence,t),r.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(Cl(d)))?(r.instance=h,mt(h),h):(l=a,(h=kn.get(d))&&(l=_({},a),Qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),Bt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,t));return r.instance}function kc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Kd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Mc=null;function rv(t,r,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[li]||d[dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function iv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Fw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function Gw(){}function $w(t,r,a){if(Il===null)throw Error(s(475));var l=Il;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xa(a.href),d=t.querySelector(xl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,mt(d);return}d=t.ownerDocument||t,a=tv(a),(h=kn.get(h))&&Kd(a,h),d=d.createElement("link"),mt(d);var E=d;E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Bt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Vc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function Kw(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&Yd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function Yd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,r.forEach(Qw,t),Pc=null,Vc.call(t))}function Qw(t,r){if(!(r.state.loading&4)){var a=Pc.get(t);if(a)var l=a.get(null);else{a=new Map,Pc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Yw(t,r,a,l,h,d,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.hiddenUpdates=ha(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function av(t,r,a,l,h,d,E,b,C,q,Y,Z){return t=new Yw(t,r,a,E,b,C,q,Z),r=1,d===!0&&(r|=24),d=mn(3,null,null,r),t.current=d,d.stateNode=t,r=Nf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Mf(d),t}function ov(t){return t?(t=Ca,t):Ca}function lv(t,r,a,l,h,d){h=ov(h),l.context===null?l.context=h:l.pendingContext=h,l=Ei(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ti(t,l,r),a!==null&&(vn(a,t,r),al(a,t,r))}function uv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Xd(t,r){uv(t,r),(t=t.alternate)&&uv(t,r)}function cv(t){if(t.tag===13){var r=xa(t,67108864);r!==null&&vn(r,t,67108864),Xd(t,67108864)}}var Lc=!0;function Xw(t,r,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=2,Wd(t,r,a,l)}finally{ae.p=d,Q.T=h}}function Ww(t,r,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=8,Wd(t,r,a,l)}finally{ae.p=d,Q.T=h}}function Wd(t,r,a,l){if(Lc){var h=Zd(l);if(h===null)Ud(t,r,l,Uc,a),fv(t,l);else if(Jw(h,t,r,a,l))l.stopPropagation();else if(fv(t,l),r&4&&-1<Zw.indexOf(t)){for(;h!==null;){var d=ir(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=jn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var C=1<<31-Jt(E);b.entanglements[1]|=C,E&=~C}mr(d),(He&6)===0&&(Tc=an()+500,wl(0))}}break;case 13:b=xa(d,2),b!==null&&vn(b,d,2),wc(),Xd(d,2)}if(d=Zd(l),d===null&&Ud(t,r,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ud(t,r,l,null,a)}}function Zd(t){return t=Bo(t),Jd(t)}var Uc=null;function Jd(t){if(Uc=null,t=rr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Uc=t,null}function hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Au()){case Rt:return 2;case Dt:return 8;case wr:case rf:return 32;case Do:return 268435456;default:return 32}default:return 32}}var em=!1,Mi=null,Vi=null,Pi=null,Dl=new Map,Ol=new Map,Li=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fv(t,r){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function kl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ir(r),r!==null&&cv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Jw(t,r,a,l,h){switch(r){case"focusin":return Mi=kl(Mi,t,r,a,l,h),!0;case"dragenter":return Vi=kl(Vi,t,r,a,l,h),!0;case"mouseover":return Pi=kl(Pi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,kl(Dl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,kl(Ol.get(d)||null,t,r,a,l,h)),!0}return!1}function dv(t){var r=rr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,of(t.priority,function(){if(a.tag===13){var l=_n();l=ko(l);var h=xa(a,l);h!==null&&vn(h,a,l),Xd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);zo=l,a.target.dispatchEvent(l),zo=null}else return r=ir(a),r!==null&&cv(r),t.blockedOn=a,!1;r.shift()}return!0}function mv(t,r,a){jc(t)&&a.delete(r)}function eS(){em=!1,Mi!==null&&jc(Mi)&&(Mi=null),Vi!==null&&jc(Vi)&&(Vi=null),Pi!==null&&jc(Pi)&&(Pi=null),Dl.forEach(mv),Ol.forEach(mv)}function zc(t,r){t.blockedOn===r&&(t.blockedOn=null,em||(em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,eS)))}var Bc=null;function pv(t){Bc!==t&&(Bc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bc===t&&(Bc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Jd(l||a)===null)continue;break}var d=ir(a);d!==null&&(t.splice(r,3),r-=3,Jf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ml(t){function r(C){return zc(C,t)}Mi!==null&&zc(Mi,t),Vi!==null&&zc(Vi,t),Pi!==null&&zc(Pi,t),Dl.forEach(r),Ol.forEach(r);for(var a=0;a<Li.length;a++){var l=Li[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Li.length&&(a=Li[0],a.blockedOn===null);)dv(a),a.blockedOn===null&&Li.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Ut]||null;if(typeof d=="function")E||pv(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Ut]||null)b=E.formAction;else if(Jd(h)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),pv(a)}}}function tm(t){this._internalRoot=t}qc.prototype.render=tm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();lv(a,l,t,r,null,null)},qc.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;lv(t.current,2,null,t,null,null),wc(),r[Ar]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Sr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Li.length&&r!==0&&r<Li[a].priority;a++);Li.splice(a,0,t),a===0&&dv(t)}};var gv=e.version;if(gv!=="19.1.1")throw Error(s(527,gv,"19.1.1"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var tS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{ni=Hc.inject(tS),Gt=Hc}catch{}}return Pl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Oy,d=ky,E=My,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=av(t,1,!1,null,null,a,l,h,d,E,b,null),t[Ar]=r.current,Ld(t),new tm(r)},Pl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Oy,E=ky,b=My,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=av(t,1,!0,r,a??null,l,h,d,E,b,C,q),r.context=ov(null),a=r.current,l=_n(),l=ko(l),h=Ei(l),h.callback=null,Ti(a,h,l),a=l,r.current.lanes=a,ft(r,a),mr(r),t[Ar]=r.current,Ld(t),new qc(r)},Pl.version="19.1.1",Pl}var Rv;function hS(){if(Rv)return im.exports;Rv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),im.exports=cS(),im.exports}var fS=hS();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xv="popstate";function dS(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=na(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),bm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Zl(u))}function s(o,u){Vn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return pS(e,n,s,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mS(){return Math.random().toString(36).substring(2,10)}function Cv(i,e){return{usr:i.state,key:i.key,idx:e}}function bm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:n,key:e&&e.key||s||mS()}}function Zl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function na(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function pS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=_();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function _(){return(f.state||{idx:null}).idx}function w(){m="POP";let F=_(),ee=F==null?null:F-g;g=F,p&&p({action:m,location:K.location,delta:ee})}function A(F,ee){m="PUSH";let te=bm(K.location,F,ee);n&&n(te,F),g=_()+1;let ie=Cv(te,g),be=K.createHref(te);try{f.pushState(ie,"",be)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(be)}u&&p&&p({action:m,location:K.location,delta:1})}function P(F,ee){m="REPLACE";let te=bm(K.location,F,ee);n&&n(te,F),g=_();let ie=Cv(te,g),be=K.createHref(te);f.replaceState(ie,"",be),u&&p&&p({action:m,location:K.location,delta:0})}function L(F){return gS(F)}let K={get action(){return m},get location(){return i(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,w),p=F,()=>{o.removeEventListener(xv,w),p=null}},createHref(F){return e(o,F)},createURL:L,encodeLocation(F){let ee=L(F);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:A,replace:P,go(F){return f.go(F)}};return K}function gS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Zl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dE(i,e,n="/"){return yS(i,e,n,!1)}function yS(i,e,n,s){let o=typeof e=="string"?na(e):e,u=Yr(o.pathname||"/",n);if(u==null)return null;let f=mE(i);_S(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=IS(u);m=xS(f[p],g,s)}return m}function mE(i,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let _={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;st(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let w=Kr([s,_.relativePath]),A=n.concat(_);f.children&&f.children.length>0&&(st(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),mE(f.children,e,A,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:AS(w,f.index),routesMeta:A})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of pE(f.path))u(f,m,!0,p)}),e}function pE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=pE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function _S(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:RS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vS=/^:[\w-]+$/,ES=3,TS=2,bS=1,wS=10,SS=-2,Iv=i=>i==="*";function AS(i,e){let n=i.split("/"),s=n.length;return n.some(Iv)&&(s+=SS),e&&(s+=TS),n.filter(o=>!Iv(o)).reduce((o,u)=>o+(vS.test(u)?ES:u===""?bS:wS),s)}function RS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function xS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",w=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Kr([u,w.pathname]),pathnameBase:kS(Kr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Kr([u,w.pathnameBase]))}return f}function uh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=CS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:w},A)=>{if(_==="*"){let L=m[A]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const P=m[A];return w&&!P?g[_]=void 0:g[_]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function CS(i,e=!1,n=!0){Vn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function IS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function NS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?na(i):i;return{pathname:n?n.startsWith("/")?n:DS(n,e):e,search:MS(s),hash:VS(o)}}function DS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ep(i){let e=OS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function tp(i,e,n,s=!1){let o;typeof i=="string"?o=na(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=NS(o,m),g=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Kr=i=>i.join("/").replace(/\/\/+/g,"/"),kS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),MS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,VS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function PS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var gE=["POST","PUT","PATCH","DELETE"];new Set(gE);var LS=["GET",...gE];new Set(LS);var _o=V.createContext(null);_o.displayName="DataRouter";var Dh=V.createContext(null);Dh.displayName="DataRouterState";V.createContext(!1);var yE=V.createContext({isTransitioning:!1});yE.displayName="ViewTransition";var US=V.createContext(new Map);US.displayName="Fetchers";var jS=V.createContext(null);jS.displayName="Await";var Jn=V.createContext(null);Jn.displayName="Navigation";var hu=V.createContext(null);hu.displayName="Location";var er=V.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var np=V.createContext(null);np.displayName="RouteError";function zS(i,{relative:e}={}){st(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(Jn),{hash:o,pathname:u,search:f}=fu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Kr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vo(){return V.useContext(hu)!=null}function rs(){return st(vo(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(hu).location}var _E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vE(i){V.useContext(Jn).static||V.useLayoutEffect(i)}function Ln(){let{isDataRoute:i}=V.useContext(er);return i?JS():BS()}function BS(){st(vo(),"useNavigate() may be used only in the context of a <Router> component.");let i=V.useContext(_o),{basename:e,navigator:n}=V.useContext(Jn),{matches:s}=V.useContext(er),{pathname:o}=rs(),u=JSON.stringify(ep(s)),f=V.useRef(!1);return vE(()=>{f.current=!0}),V.useCallback((p,g={})=>{if(Vn(f.current,_E),!f.current)return;if(typeof p=="number"){n.go(p);return}let _=tp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Kr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,i])}V.createContext(null);function EE(){let{matches:i}=V.useContext(er),e=i[i.length-1];return e?e.params:{}}function fu(i,{relative:e}={}){let{matches:n}=V.useContext(er),{pathname:s}=rs(),o=JSON.stringify(ep(n));return V.useMemo(()=>tp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function qS(i,e){return TE(i,e)}function TE(i,e,n,s,o){st(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(Jn),{matches:f}=V.useContext(er),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",w=m&&m.route;{let te=w&&w.path||"";bE(g,!w||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let A=rs(),P;if(e){let te=typeof e=="string"?na(e):e;st(_==="/"||te.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${te.pathname}" was given in the \`location\` prop.`),P=te}else P=A;let L=P.pathname||"/",K=L;if(_!=="/"){let te=_.replace(/^\//,"").split("/");K="/"+L.replace(/^\//,"").split("/").slice(te.length).join("/")}let F=dE(i,{pathname:K});Vn(w||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Vn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=KS(F&&F.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:Kr([_,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?_:Kr([_,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&ee?V.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ee):ee}function HS(){let i=ZS(),e=PS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,f)}var FS=V.createElement(HS,null),GS=class extends V.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?V.createElement(er.Provider,{value:this.props.routeContext},V.createElement(np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $S({routeContext:i,match:e,children:n}){let s=V.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(er.Provider,{value:i},n)}function KS(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let g=u.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:w,errors:A}=n,P=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,w)=>{let A,P=!1,L=null,K=null;n&&(A=f&&_.route.id?f[_.route.id]:void 0,L=_.route.errorElement||FS,m&&(p<0&&w===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,K=null):p===w&&(P=!0,K=_.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,w+1)),ee=()=>{let te;return A?te=L:P?te=K:_.route.Component?te=V.createElement(_.route.Component,null):_.route.element?te=_.route.element:te=g,V.createElement($S,{match:_,routeContext:{outlet:g,matches:F,isDataRoute:n!=null},children:te})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?V.createElement(GS,{location:n.location,revalidation:n.revalidation,component:L,error:A,children:ee(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):ee()},null)}function rp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QS(i){let e=V.useContext(_o);return st(e,rp(i)),e}function YS(i){let e=V.useContext(Dh);return st(e,rp(i)),e}function XS(i){let e=V.useContext(er);return st(e,rp(i)),e}function ip(i){let e=XS(i),n=e.matches[e.matches.length-1];return st(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function WS(){return ip("useRouteId")}function ZS(){let i=V.useContext(np),e=YS("useRouteError"),n=ip("useRouteError");return i!==void 0?i:e.errors?.[n]}function JS(){let{router:i}=QS("useNavigate"),e=ip("useNavigate"),n=V.useRef(!1);return vE(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{Vn(n.current,_E),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Nv={};function bE(i,e,n){!e&&!Nv[i]&&(Nv[i]=!0,Vn(!1,n))}V.memo(eA);function eA({routes:i,future:e,state:n,unstable_onError:s}){return TE(i,void 0,n,s,e)}function Ll({to:i,replace:e,state:n,relative:s}){st(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(Jn);Vn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(er),{pathname:f}=rs(),m=Ln(),p=tp(i,ep(u),f,s==="path"),g=JSON.stringify(p);return V.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function sn(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=na(n));let{pathname:p="/",search:g="",hash:_="",state:w=null,key:A="default"}=n,P=V.useMemo(()=>{let L=Yr(p,f);return L==null?null:{location:{pathname:L,search:g,hash:_,state:w,key:A},navigationType:s}},[f,p,g,_,w,A,s]);return Vn(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:V.createElement(Jn.Provider,{value:m},V.createElement(hu.Provider,{children:e,value:P}))}function Dv({children:i,location:e}){return qS(wm(i),e)}function wm(i,e=[]){let n=[];return V.Children.forEach(i,(s,o)=>{if(!V.isValidElement(s))return;let u=[...e,o];if(s.type===V.Fragment){n.push.apply(n,wm(s.props.children,u));return}st(s.type===sn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wm(s.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function Oh(i){return i!=null&&typeof i.tagName=="string"}function nA(i){return Oh(i)&&i.tagName.toLowerCase()==="button"}function rA(i){return Oh(i)&&i.tagName.toLowerCase()==="form"}function iA(i){return Oh(i)&&i.tagName.toLowerCase()==="input"}function sA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function aA(i,e){return i.button===0&&(!e||e==="_self")&&!sA(i)}var Fc=null;function oA(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var lA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(i){return i!=null&&!lA.has(i)?(Vn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):i}function uA(i,e){let n,s,o,u,f;if(rA(i)){let m=i.getAttribute("action");s=m?Yr(m,e):null,n=i.getAttribute("method")||Wc,o=um(i.getAttribute("enctype"))||Zc,u=new FormData(i)}else if(nA(i)||iA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Yr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=um(i.getAttribute("formenctype"))||um(m.getAttribute("enctype"))||Zc,u=new FormData(m,i),!oA()){let{name:g,type:_,value:w}=i;if(_==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Oh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=Zc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cA(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Yr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function hA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function dA(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await hA(u,n);return f.links?f.links():[]}return[]}));return yA(s.flat(1).filter(fA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ov(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function mA(i,e,{includeHydrateFallback:n}={}){return pA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function pA(i){return[...new Set(i)]}function gA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function yA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(gA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function wE(){let i=V.useContext(_o);return sp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _A(){let i=V.useContext(Dh);return sp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ap=V.createContext(void 0);ap.displayName="FrameworkContext";function SE(){let i=V.useContext(ap);return sp(i,"You must render this element inside a <HydratedRouter> element"),i}function vA(i,e){let n=V.useContext(ap),[s,o]=V.useState(!1),[u,f]=V.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,A=V.useRef(null);V.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=ee=>{ee.forEach(te=>{f(te.isIntersecting)})},F=new IntersectionObserver(K,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[i]),V.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let P=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ul(m,P),onBlur:Ul(p,L),onMouseEnter:Ul(g,P),onMouseLeave:Ul(_,L),onTouchStart:Ul(w,P)}]:[!1,A,{}]}function Ul(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function EA({page:i,...e}){let{router:n}=wE(),s=V.useMemo(()=>dE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?V.createElement(bA,{page:i,matches:s,...e}):null}function TA(i){let{manifest:e,routeModules:n}=SE(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return dA(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function bA({page:i,matches:e,...n}){let s=rs(),{manifest:o,routeModules:u}=SE(),{basename:f}=wE(),{loaderData:m,matches:p}=_A(),g=V.useMemo(()=>Ov(i,e,p,o,s,"data"),[i,e,p,o,s]),_=V.useMemo(()=>Ov(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=V.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,K=!1;if(e.forEach(ee=>{let te=o.routes[ee.route.id];!te||!te.hasLoader||(!g.some(ie=>ie.route.id===ee.route.id)&&ee.route.id in m&&u[ee.route.id]?.shouldRevalidate||te.hasClientLoader?K=!0:L.add(ee.route.id))}),L.size===0)return[];let F=cA(i,f,"data");return K&&L.size>0&&F.searchParams.set("_routes",e.filter(ee=>L.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,i,u]),A=V.useMemo(()=>mA(_,o),[_,o]),P=TA(_);return V.createElement(V.Fragment,null,w.map(L=>V.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),A.map(L=>V.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),P.map(({key:L,link:K})=>V.createElement("link",{key:L,nonce:n.nonce,...K})))}function wA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AE&&(window.__reactRouterVersion="7.9.3")}catch{}function SA({basename:i,children:e,window:n}){let s=V.useRef();s.current==null&&(s.current=dS({window:n,v5Compat:!0}));let o=s.current,[u,f]=V.useState({action:o.action,location:o.location}),m=V.useCallback(p=>{V.startTransition(()=>f(p))},[f]);return V.useLayoutEffect(()=>o.listen(m),[o,m]),V.createElement(tA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var RE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kh=V.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:_,viewTransition:w,...A},P){let{basename:L}=V.useContext(Jn),K=typeof g=="string"&&RE.test(g),F,ee=!1;if(typeof g=="string"&&K&&(F=g,AE))try{let x=new URL(window.location.href),k=g.startsWith("//")?new URL(x.protocol+g):new URL(g),O=Yr(k.pathname,L);k.origin===x.origin&&O!=null?g=O+k.search+k.hash:ee=!0}catch{Vn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=zS(g,{relative:o}),[ie,be,ce]=vA(s,A),Re=xA(g,{replace:f,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:w});function N(x){e&&e(x),x.defaultPrevented||Re(x)}let R=V.createElement("a",{...A,...ce,href:F||te,onClick:ee||u?e:N,ref:wA(P,be),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ie&&!K?V.createElement(V.Fragment,null,R,V.createElement(EA,{page:te})):R});kh.displayName="Link";var op=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},_){let w=fu(f,{relative:g.relative}),A=rs(),P=V.useContext(Dh),{navigator:L,basename:K}=V.useContext(Jn),F=P!=null&&OA(w)&&m===!0,ee=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,te=A.pathname,ie=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,ee=ee.toLowerCase()),ie&&K&&(ie=Yr(ie,K)||ie);const be=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let ce=te===ee||!o&&te.startsWith(ee)&&te.charAt(be)==="/",Re=ie!=null&&(ie===ee||!o&&ie.startsWith(ee)&&ie.charAt(ee.length)==="/"),N={isActive:ce,isPending:Re,isTransitioning:F},R=ce?e:void 0,x;typeof s=="function"?x=s(N):x=[s,ce?"active":null,Re?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return V.createElement(kh,{...g,"aria-current":R,className:x,ref:_,style:k,to:f,viewTransition:m},typeof p=="function"?p(N):p)});op.displayName="NavLink";var AA=V.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:w,...A},P)=>{let L=NA(),K=DA(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",ee=typeof m=="string"&&RE.test(m),te=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let be=ie.nativeEvent.submitter,ce=be?.getAttribute("formmethod")||f;L(be||ie.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:w})};return V.createElement("form",{ref:P,method:F,action:K,onSubmit:s?p:te,...A,"data-discover":!ee&&i==="render"?"true":void 0})});AA.displayName="Form";function RA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(i){let e=V.useContext(_o);return st(e,RA(i)),e}function xA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Ln(),p=rs(),g=fu(i,{relative:u});return V.useCallback(_=>{if(aA(_,e)){_.preventDefault();let w=n!==void 0?n:Zl(p)===Zl(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var CA=0,IA=()=>`__${String(++CA)}__`;function NA(){let{router:i}=xE("useSubmit"),{basename:e}=V.useContext(Jn),n=WS();return V.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=uA(s,e);if(o.navigate===!1){let _=o.fetcherKey||IA();await i.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function DA(i,{relative:e}={}){let{basename:n}=V.useContext(Jn),s=V.useContext(er);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(i||".",{relative:e})},f=rs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Kr([n,u.pathname])),Zl(u)}function OA(i,{relative:e}={}){let n=V.useContext(yE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xE("useViewTransitionState"),o=fu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}const CE=V.createContext(void 0),ra=()=>{const i=V.useContext(CE);if(!i)throw new Error("useAuth must be used within a AuthContext");return i},kA=()=>{};var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},MA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},NE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(A=64)),s.push(n[_],n[w],n[A],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(IE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):MA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new VA;const A=u<<2|m>>4;if(s.push(A),g!==64){const P=m<<4&240|g>>2;if(s.push(P),w!==64){const L=g<<6&192|w;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class VA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PA=function(i){const e=IE(i);return NE.encodeByteArray(e,!0)},ch=function(i){return PA(i).replace(/\./g,"")},DE=function(i){try{return NE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=()=>LA().__FIREBASE_DEFAULTS__,jA=()=>{if(typeof process>"u"||typeof kv>"u")return;const i=kv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&DE(i[1]);return e&&JSON.parse(e)},Mh=()=>{try{return kA()||UA()||jA()||zA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},OE=i=>Mh()?.emulatorHosts?.[i],BA=i=>{const e=OE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kE=()=>Mh()?.config,ME=i=>Mh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}const $l={};function FA(){const i={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?i.emulator.push(e):i.prod.push(e);return i}function GA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Mv=!1;function PE(i,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||$l[i]===e||$l[i]||Mv)return;$l[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=FA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Mv=!0,f()},A}function _(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=GA(s),P=n("text"),L=document.getElementById(P)||document.createElement("span"),K=n("learnmore"),F=document.getElementById(K)||document.createElement("a"),ee=n("preprendIcon"),te=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),_(F,K);const be=g();p(te,ee),ie.append(te,L,F,be),document.body.appendChild(ie)}u?(L.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function KA(){const i=Mh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WA(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ZA(){return!KA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JA(){try{return typeof indexedDB=="object"}catch{return!1}}function eR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="FirebaseError";class br extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tR,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?nR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new br(o,m,s)}}function nR(i,e){return i.replace(rR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rR=/\{\$([^}]+)}/g;function iR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Vv(u)&&Vv(f)){if(!Xs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Vv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function sR(i,e){const n=new aR(i,e);return n.subscribe.bind(n)}class aR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=cm),o.error===void 0&&(o.error=cm),o.complete===void 0&&(o.complete=cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i){return i&&i._delegate?i._delegate:i}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cR(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(i){return i===Gs?void 0:i}function cR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const fR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},dR=ke.INFO,mR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},pR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=mR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const gR=(i,e)=>e.some(n=>i instanceof n);let Pv,Lv;function yR(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,Sm=new WeakMap,UE=new WeakMap,hm=new WeakMap,up=new WeakMap;function vR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Gi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&LE.set(n,i)}).catch(()=>{}),up.set(e,i),e}function ER(i){if(Sm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Sm.set(i,e)}let Am={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Sm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||UE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function TR(i){Am=i(Am)}function bR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(fm(this),e,...n);return UE.set(s,e.sort?e.sort():[e]),Gi(s)}:_R().includes(i)?function(...e){return i.apply(fm(this),e),Gi(LE.get(this))}:function(...e){return Gi(i.apply(fm(this),e))}}function wR(i){return typeof i=="function"?bR(i):(i instanceof IDBTransaction&&ER(i),gR(i,yR())?new Proxy(i,Am):i)}function Gi(i){if(i instanceof IDBRequest)return vR(i);if(hm.has(i))return hm.get(i);const e=wR(i);return e!==i&&(hm.set(i,e),up.set(e,i)),e}const fm=i=>up.get(i);function SR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Gi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Gi(f.result),p.oldVersion,p.newVersion,Gi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const AR=["get","getKey","getAll","getAllKeys","count"],RR=["put","add","delete","clear"],dm=new Map;function Uv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return dm.set(e,u),u}TR(i=>({...i,get:(e,n,s)=>Uv(e,n)||i.get(e,n,s),has:(e,n)=>!!Uv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function CR(i){return i.getComponent()?.type==="VERSION"}const Rm="@firebase/app",jv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new lp("@firebase/app"),IR="@firebase/app-compat",NR="@firebase/analytics-compat",DR="@firebase/analytics",OR="@firebase/app-check-compat",kR="@firebase/app-check",MR="@firebase/auth",VR="@firebase/auth-compat",PR="@firebase/database",LR="@firebase/data-connect",UR="@firebase/database-compat",jR="@firebase/functions",zR="@firebase/functions-compat",BR="@firebase/installations",qR="@firebase/installations-compat",HR="@firebase/messaging",FR="@firebase/messaging-compat",GR="@firebase/performance",$R="@firebase/performance-compat",KR="@firebase/remote-config",QR="@firebase/remote-config-compat",YR="@firebase/storage",XR="@firebase/storage-compat",WR="@firebase/firestore",ZR="@firebase/ai",JR="@firebase/firestore-compat",ex="firebase",tx="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",nx={[Rm]:"fire-core",[IR]:"fire-core-compat",[DR]:"fire-analytics",[NR]:"fire-analytics-compat",[kR]:"fire-app-check",[OR]:"fire-app-check-compat",[MR]:"fire-auth",[VR]:"fire-auth-compat",[PR]:"fire-rtdb",[LR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[jR]:"fire-fn",[zR]:"fire-fn-compat",[BR]:"fire-iid",[qR]:"fire-iid-compat",[HR]:"fire-fcm",[FR]:"fire-fcm-compat",[GR]:"fire-perf",[$R]:"fire-perf-compat",[KR]:"fire-rc",[QR]:"fire-rc-compat",[YR]:"fire-gcs",[XR]:"fire-gcs-compat",[WR]:"fire-fst",[JR]:"fire-fst-compat",[ZR]:"fire-vertex","fire-js":"fire-js",[ex]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,rx=new Map,Cm=new Map;function zv(i,e){try{i.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function lo(i){const e=i.name;if(Cm.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,i);for(const n of hh.values())zv(n,i);for(const n of rx.values())zv(n,i);return!0}function cp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function En(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new du("app","Firebase",ix);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=tx;function jE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:xm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(n||(n=kE()),!n)throw $i.create("no-options");const u=hh.get(o);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw $i.create("duplicate-app",{appName:o})}const f=new hR(o);for(const p of Cm.values())f.addComponent(p);const m=new sx(n,s,f);return hh.set(o,m),m}function zE(i=xm){const e=hh.get(i);if(!e&&i===xm&&kE())return jE();if(!e)throw $i.create("no-app",{appName:i});return e}function Ki(i,e,n){let s=nx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(f.join(" "));return}lo(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebase-heartbeat-database",ox=1,Jl="firebase-heartbeat-store";let mm=null;function BE(){return mm||(mm=SR(ax,ox,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw $i.create("idb-open",{originalErrorMessage:i.message})})),mm}async function lx(i){try{const n=(await BE()).transaction(Jl),s=await n.objectStore(Jl).get(qE(i));return await n.done,s}catch(e){if(e instanceof br)Xr.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(n.message)}}}async function Bv(i,e){try{const s=(await BE()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,qE(i)),await s.done}catch(n){if(n instanceof br)Xr.warn(n.message);else{const s=$i.create("idb-set",{originalErrorMessage:n?.message});Xr.warn(s.message)}}}function qE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=1024,cx=30;class hx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>cx){const o=mx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qv(),{heartbeatsToSend:n,unsentEntries:s}=fx(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xr.warn(e),""}}}function qv(){return new Date().toISOString().substring(0,10)}function fx(i,e=ux){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Hv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Hv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JA()?eR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Bv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Bv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hv(i){return ch(JSON.stringify({version:2,heartbeats:i})).length}function mx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(i){lo(new Ws("platform-logger",e=>new xR(e),"PRIVATE")),lo(new Ws("heartbeat",e=>new hx(e),"PRIVATE")),Ki(Rm,jv,i),Ki(Rm,jv,"esm2020"),Ki("fire-js","")}px("");var gx="firebase",yx="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(gx,yx,"app");const Fv=i=>{switch(i.toLowerCase().trim()){case"done":return"bg-green-100 text-green-700 border-green-200";case"in progress":return"bg-orange-100 text-orange-700 border-orange-200";case"open":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-blue-100 text-blue-700 border-blue-200"}},HE=i=>{switch((i||"high").toLowerCase().trim()){case"low":return{color:"text-green-600 bg-white border-green-300",icon:"",label:"Low"};case"high":return{color:"text-red-600 bg-white border-red-300",icon:"",label:"High"};case"medium":default:return{color:"text-yellow-600 bg-white border-yellow-300",icon:"",label:"Medium"}}},_x=i=>({"auth/user-not-found":"User not found","auth/wrong-password":"Incorrect password","auth/invalid-email":"Invalid email address","auth/user-disabled":"Account disabled","auth/popup-closed-by-user":"Login cancelled","auth/invalid-credential":"Invalid credentials","auth/email-already-in-use":"Email is already registered","auth/weak-password":"Password is too weak"})[i]||"An error occurred during authentication";function FE({onSubmit:i,redirectPath:e="/dashboard"}){const[n,s]=V.useState(""),[o,u]=V.useState(!1),f=Ln();return{error:n,loading:o,handleSubmit:async(p,g)=>{p.preventDefault();try{s(""),u(!0),await i(g),f(e)}catch(_){_ instanceof br?s(_x(_.code)):s("An unexpected error occurred")}finally{u(!1)}},setError:s}}const GE=({children:i,title:e,subtitle:n})=>T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50 p-4",children:T.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900 leading-none",children:e}),n&&T.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:n})]}),i]})});/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ex=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Gv=i=>{const e=Ex(i);return e.charAt(0).toUpperCase()+e.slice(1)},$E=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Tx=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=V.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>V.createElement("svg",{ref:p,...bx,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:$E("lucide",o),...!u&&!Tx(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,_])=>V.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(i,e)=>{const n=V.forwardRef(({className:s,...o},u)=>V.createElement(wx,{ref:u,iconNode:e,className:$E(`lucide-${vx(Gv(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Gv(i),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ax=Xe("chevron-down",Sx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KE=Xe("chevron-left",Rx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cx=Xe("chevron-right",xx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nx=Xe("circle-alert",Ix);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],QE=Xe("clipboard-list",Dx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YE=Xe("clock",Ox);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Mx=Xe("columns-2",kx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Px=Xe("frown",Vx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Ux=Xe("grip-vertical",Lx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],zx=Xe("inbox",jx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qx=Xe("info",Bx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Fx=Xe("layout-dashboard",Hx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],$x=Xe("list",Gx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qx=Xe("loader-circle",Kx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Xx=Xe("log-out",Yx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Zx=Xe("menu",Wx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Im=Xe("pencil",Jx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XE=Xe("plus",e2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],n2=Xe("search",t2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],i2=Xe("sliders-horizontal",r2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WE=Xe("square-check-big",s2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],ZE=Xe("sticky-note",a2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],JE=Xe("tag",o2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],eT=Xe("text-align-start",l2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eu=Xe("trash-2",u2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],h2=Xe("user",c2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nm=Xe("x",f2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],m2=Xe("zap",d2);function tT({loading:i,children:e,...n}){return T.jsx("button",{...n,disabled:i||n.disabled,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed transition duration-200 cursor-pointer",children:i?T.jsx(Qx,{className:"h-5 w-5 animate-spin"}):e})}function nT({message:i}){return T.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx(Nx,{className:"h-5 w-5 text-red-400"})}),T.jsx("div",{className:"ml-3",children:T.jsx("p",{className:"text-sm text-red-700",children:i})})]})})}function no({label:i,helperText:e,error:n,...s}){return T.jsxs("div",{children:[T.jsx("label",{htmlFor:s.id,className:"block text-sm font-medium text-gray-700",children:i}),T.jsx("input",{...s,className:`mt-1 block w-full px-3 py-2 border ${n?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition`}),e&&T.jsx("p",{className:`mt-1 text-xs ${n?"text-red-500":"text-gray-500"}`,children:e})]})}function p2(){const[i,e]=V.useState(""),[n,s]=V.useState(""),{login:o}=ra(),{error:u,loading:f,handleSubmit:m}=FE({onSubmit:()=>o(i,n)});return T.jsxs(GE,{title:"Sign in to your account",subtitle:"Welcome back! Enter your credentials",children:[u&&T.jsx(nT,{message:u}),T.jsxs("form",{onSubmit:p=>m(p,{email:i,password:n}),className:"mt-8 space-y-6",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsx(no,{id:"email",type:"email",label:"Email",value:i,autoComplete:"email",onChange:p=>e(p.target.value),required:!0,disabled:f,placeholder:"you@example.com"}),T.jsx(no,{id:"password",type:"password",label:"Password",value:n,autoComplete:"current-password",onChange:p=>s(p.target.value),required:!0,disabled:f,placeholder:""})]}),T.jsx(tT,{type:"submit",loading:f,children:"Sign in"})]}),T.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",T.jsx(kh,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500 transition",children:"Sign up"})]})]})}function g2(){const[i,e]=V.useState(""),[n,s]=V.useState(""),[o,u]=V.useState(""),[f,m]=V.useState(""),{signup:p}=ra(),{error:g,loading:_,handleSubmit:w,setError:A}=FE({onSubmit:()=>p(n,o,i.trim())}),P=()=>o!==f?(A("Passwords do not match"),!1):o.length<6?(A("Password must be at least 6 characters long"),!1):!0,L=async K=>{if(!P()){K.preventDefault();return}await w(K,{email:n,password:o,name:i.trim()})};return T.jsxs(GE,{title:"Create a new account",children:[g&&T.jsx(nT,{message:g}),T.jsxs("form",{onSubmit:L,className:"mt-8 space-y-6",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx(no,{id:"name",type:"text",label:"Name",value:i,onChange:K=>e(K.target.value),maxLength:20,required:!0,disabled:_,placeholder:"Your name"}),T.jsxs("div",{className:"flex justify-between items-center mt-1",children:[T.jsx("p",{className:"text-xs text-gray-500",children:"Max 20 characters"}),T.jsxs("p",{className:`text-xs ${i.length>=20?"text-red-500 font-medium":"text-gray-400"}`,children:[i.length,"/20"]})]})]}),T.jsx(no,{id:"email",type:"email",label:"Email",value:n,onChange:K=>s(K.target.value),required:!0,disabled:_,placeholder:"you@example.com"}),T.jsx(no,{id:"password",type:"password",label:"Password",value:o,onChange:K=>u(K.target.value),required:!0,disabled:_,minLength:6,placeholder:"",helperText:"Minimum 6 characters"}),T.jsx(no,{id:"confirmPassword",type:"password",label:"Confirm Password",value:f,onChange:K=>m(K.target.value),required:!0,disabled:_,minLength:6,placeholder:""})]}),T.jsx(tT,{type:"submit",loading:_,children:"Create"})]}),T.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",T.jsx(kh,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 transition",children:"Sign in"})]})]})}var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,rT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function x(){}x.prototype=R.prototype,N.F=R.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(k,O,j){for(var I=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)I[ut-2]=arguments[ut];return R.prototype[O].apply(k,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,x){x||(x=0);const k=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)k[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;O<16;++O)k[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=N.g[0],x=N.g[1],O=N.g[2];let j=N.g[3],I;I=R+(j^x&(O^j))+k[0]+3614090360&4294967295,R=x+(I<<7&4294967295|I>>>25),I=j+(O^R&(x^O))+k[1]+3905402710&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(x^j&(R^x))+k[2]+606105819&4294967295,O=j+(I<<17&4294967295|I>>>15),I=x+(R^O&(j^R))+k[3]+3250441966&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(j^x&(O^j))+k[4]+4118548399&4294967295,R=x+(I<<7&4294967295|I>>>25),I=j+(O^R&(x^O))+k[5]+1200080426&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(x^j&(R^x))+k[6]+2821735955&4294967295,O=j+(I<<17&4294967295|I>>>15),I=x+(R^O&(j^R))+k[7]+4249261313&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(j^x&(O^j))+k[8]+1770035416&4294967295,R=x+(I<<7&4294967295|I>>>25),I=j+(O^R&(x^O))+k[9]+2336552879&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(x^j&(R^x))+k[10]+4294925233&4294967295,O=j+(I<<17&4294967295|I>>>15),I=x+(R^O&(j^R))+k[11]+2304563134&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(j^x&(O^j))+k[12]+1804603682&4294967295,R=x+(I<<7&4294967295|I>>>25),I=j+(O^R&(x^O))+k[13]+4254626195&4294967295,j=R+(I<<12&4294967295|I>>>20),I=O+(x^j&(R^x))+k[14]+2792965006&4294967295,O=j+(I<<17&4294967295|I>>>15),I=x+(R^O&(j^R))+k[15]+1236535329&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(O^j&(x^O))+k[1]+4129170786&4294967295,R=x+(I<<5&4294967295|I>>>27),I=j+(x^O&(R^x))+k[6]+3225465664&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(j^R))+k[11]+643717713&4294967295,O=j+(I<<14&4294967295|I>>>18),I=x+(j^R&(O^j))+k[0]+3921069994&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(O^j&(x^O))+k[5]+3593408605&4294967295,R=x+(I<<5&4294967295|I>>>27),I=j+(x^O&(R^x))+k[10]+38016083&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(j^R))+k[15]+3634488961&4294967295,O=j+(I<<14&4294967295|I>>>18),I=x+(j^R&(O^j))+k[4]+3889429448&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(O^j&(x^O))+k[9]+568446438&4294967295,R=x+(I<<5&4294967295|I>>>27),I=j+(x^O&(R^x))+k[14]+3275163606&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(j^R))+k[3]+4107603335&4294967295,O=j+(I<<14&4294967295|I>>>18),I=x+(j^R&(O^j))+k[8]+1163531501&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(O^j&(x^O))+k[13]+2850285829&4294967295,R=x+(I<<5&4294967295|I>>>27),I=j+(x^O&(R^x))+k[2]+4243563512&4294967295,j=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(j^R))+k[7]+1735328473&4294967295,O=j+(I<<14&4294967295|I>>>18),I=x+(j^R&(O^j))+k[12]+2368359562&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(x^O^j)+k[5]+4294588738&4294967295,R=x+(I<<4&4294967295|I>>>28),I=j+(R^x^O)+k[8]+2272392833&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^x)+k[11]+1839030562&4294967295,O=j+(I<<16&4294967295|I>>>16),I=x+(O^j^R)+k[14]+4259657740&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(x^O^j)+k[1]+2763975236&4294967295,R=x+(I<<4&4294967295|I>>>28),I=j+(R^x^O)+k[4]+1272893353&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^x)+k[7]+4139469664&4294967295,O=j+(I<<16&4294967295|I>>>16),I=x+(O^j^R)+k[10]+3200236656&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(x^O^j)+k[13]+681279174&4294967295,R=x+(I<<4&4294967295|I>>>28),I=j+(R^x^O)+k[0]+3936430074&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^x)+k[3]+3572445317&4294967295,O=j+(I<<16&4294967295|I>>>16),I=x+(O^j^R)+k[6]+76029189&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(x^O^j)+k[9]+3654602809&4294967295,R=x+(I<<4&4294967295|I>>>28),I=j+(R^x^O)+k[12]+3873151461&4294967295,j=R+(I<<11&4294967295|I>>>21),I=O+(j^R^x)+k[15]+530742520&4294967295,O=j+(I<<16&4294967295|I>>>16),I=x+(O^j^R)+k[2]+3299628645&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(O^(x|~j))+k[0]+4096336452&4294967295,R=x+(I<<6&4294967295|I>>>26),I=j+(x^(R|~O))+k[7]+1126891415&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~x))+k[14]+2878612391&4294967295,O=j+(I<<15&4294967295|I>>>17),I=x+(j^(O|~R))+k[5]+4237533241&4294967295,x=O+(I<<21&4294967295|I>>>11),I=R+(O^(x|~j))+k[12]+1700485571&4294967295,R=x+(I<<6&4294967295|I>>>26),I=j+(x^(R|~O))+k[3]+2399980690&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~x))+k[10]+4293915773&4294967295,O=j+(I<<15&4294967295|I>>>17),I=x+(j^(O|~R))+k[1]+2240044497&4294967295,x=O+(I<<21&4294967295|I>>>11),I=R+(O^(x|~j))+k[8]+1873313359&4294967295,R=x+(I<<6&4294967295|I>>>26),I=j+(x^(R|~O))+k[15]+4264355552&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~x))+k[6]+2734768916&4294967295,O=j+(I<<15&4294967295|I>>>17),I=x+(j^(O|~R))+k[13]+1309151649&4294967295,x=O+(I<<21&4294967295|I>>>11),I=R+(O^(x|~j))+k[4]+4149444226&4294967295,R=x+(I<<6&4294967295|I>>>26),I=j+(x^(R|~O))+k[11]+3174756917&4294967295,j=R+(I<<10&4294967295|I>>>22),I=O+(R^(j|~x))+k[2]+718787259&4294967295,O=j+(I<<15&4294967295|I>>>17),I=x+(j^(O|~R))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const x=R-this.blockSize,k=this.C;let O=this.h,j=0;for(;j<R;){if(O==0)for(;j<=x;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(k[O++]=N.charCodeAt(j++),O==this.blockSize){o(this,k),O=0;break}}else for(;j<R;)if(k[O++]=N[j++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)N[R++]=this.g[x]>>>k&255;return N};function u(N,R){var x=m;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=R(N)}function f(N,R){this.h=R;const x=[];let k=!0;for(let O=N.length-1;O>=0;O--){const j=N[O]|0;k&&j==R||(x[O]=j,k=!1)}this.g=x}var m={};function p(N){return-128<=N&&N<128?u(N,function(R){return new f([R|0],R<0?-1:0)}):new f([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return F(g(-N));const R=[];let x=1;for(let k=0;N>=x;k++)R[k]=N/x|0,x*=4294967296;return new f(R,0)}function _(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return F(_(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(R,8));let k=w;for(let j=0;j<N.length;j+=8){var O=Math.min(8,N.length-j);const I=parseInt(N.substring(j,j+O),R);O<8?(O=g(Math.pow(R,O)),k=k.j(O).add(g(I))):(k=k.j(x),k=k.add(g(I)))}return k}var w=p(0),A=p(1),P=p(16777216);i=f.prototype,i.m=function(){if(K(this))return-F(this).m();let N=0,R=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);N+=(k>=0?k:4294967296+k)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(K(this))return"-"+F(this).toString(N);const R=g(Math.pow(N,6));var x=this;let k="";for(;;){const O=be(x,R).g;x=ee(x,O.j(R));let j=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=O,L(x))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function K(N){return N.h==-1}i.l=function(N){return N=ee(this,N),K(N)?-1:L(N)?0:1};function F(N){const R=N.g.length,x=[];for(let k=0;k<R;k++)x[k]=~N.g[k];return new f(x,~N.h).add(A)}i.abs=function(){return K(this)?F(this):this},i.add=function(N){const R=Math.max(this.g.length,N.g.length),x=[];let k=0;for(let O=0;O<=R;O++){let j=k+(this.i(O)&65535)+(N.i(O)&65535),I=(j>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);k=I>>>16,j&=65535,I&=65535,x[O]=I<<16|j}return new f(x,x[x.length-1]&-2147483648?-1:0)};function ee(N,R){return N.add(F(R))}i.j=function(N){if(L(this)||L(N))return w;if(K(this))return K(N)?F(this).j(F(N)):F(F(this).j(N));if(K(N))return F(this.j(F(N)));if(this.l(P)<0&&N.l(P)<0)return g(this.m()*N.m());const R=this.g.length+N.g.length,x=[];for(var k=0;k<2*R;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<N.g.length;O++){const j=this.i(k)>>>16,I=this.i(k)&65535,ut=N.i(O)>>>16,rt=N.i(O)&65535;x[2*k+2*O]+=I*rt,te(x,2*k+2*O),x[2*k+2*O+1]+=j*rt,te(x,2*k+2*O+1),x[2*k+2*O+1]+=I*ut,te(x,2*k+2*O+1),x[2*k+2*O+2]+=j*ut,te(x,2*k+2*O+2)}for(N=0;N<R;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=R;N<2*R;N++)x[N]=0;return new f(x,0)};function te(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function ie(N,R){this.g=N,this.h=R}function be(N,R){if(L(R))throw Error("division by zero");if(L(N))return new ie(w,w);if(K(N))return R=be(F(N),R),new ie(F(R.g),F(R.h));if(K(R))return R=be(N,F(R)),new ie(F(R.g),R.h);if(N.g.length>30){if(K(N)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var x=A,k=R;k.l(N)<=0;)x=ce(x),k=ce(k);var O=Re(x,1),j=Re(k,1);for(k=Re(k,2),x=Re(x,2);!L(k);){var I=j.add(k);I.l(N)<=0&&(O=O.add(x),j=I),k=Re(k,1),x=Re(x,1)}return R=ee(N,O.j(R)),new ie(O,R)}for(O=w;N.l(R)>=0;){for(x=Math.max(1,Math.floor(N.m()/R.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=g(x),I=j.j(R);K(I)||I.l(N)>0;)x-=k,j=g(x),I=j.j(R);L(j)&&(j=A),O=O.add(j),N=ee(N,I)}return new ie(O,N)}i.B=function(N){return be(this,N).h},i.and=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)&N.i(k);return new f(x,this.h&N.h)},i.or=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)|N.i(k);return new f(x,this.h|N.h)},i.xor=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)^N.i(k);return new f(x,this.h^N.h)};function ce(N){const R=N.g.length+1,x=[];for(let k=0;k<R;k++)x[k]=N.i(k)<<1|N.i(k-1)>>>31;return new f(x,N.h)}function Re(N,R){const x=R>>5;R%=32;const k=N.g.length-x,O=[];for(let j=0;j<k;j++)O[j]=R>0?N.i(j+x)>>>R|N.i(j+x+1)<<32-R:N.i(j+x);return new f(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,rT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=_,Qi=f}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,ql,sT,Jc,Dm,aT,oT,lT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function _(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,B,$){for(var re=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)re[Se-2]=arguments[Se];return y.prototype[B].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function L(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const $=B.length||0;c.length=v+$;for(let re=0;re<$;re++)c[v+re]=B[re]}else c.push(B)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function ee(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const S=ie.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new K(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,Re=!1,N=new te,R=()=>{const c=Promise.resolve(void 0);ce=()=>{c.then(x)}};function x(){for(var c;c=ee();){try{c.h.call(c.g)}catch(v){F(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Re=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ut(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}w(ut,O),ut.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ae(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++Q,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function ne(c){const y={};for(const v in c)y[v]=c[v];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let $=0;$<oe.length;$++)v=oe[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,y,v,S,B){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const re=Ee(c,y,S,B);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new ae(y,this.src,$,!!S,B),y.fa=v,c.push(y)),y};function Oe(c,y){const v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(S,B,1),$&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ee(c,y,v,S){for(let B=0;B<c.length;++B){const $=c[B];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==S)return B}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ge={};function Un(c,y,v,S,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)Un(c,y[$],v,S,B);return null}return v=Au(v),c&&c[rt]?c.J(y,v,m(S)?!!S.capture:!1,B):Io(c,y,v,!1,S,B)}function Io(c,y,v,S,B,$){if(!y)throw Error("Invalid event type");const re=m(B)?!!B.capture:!!B;let Se=No(c);if(Se||(c[Lt]=Se=new de(c)),v=Se.add(y,v,S,re,$),v.proxy)return v;if(S=oa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)j||(B=re),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(ua(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function c(v){return y.call(c.src,c.listener,v)}const y=nf;return c}function la(c,y,v,S,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)la(c,y[$],v,S,B);else S=m(S)?!!S.capture:!!S,v=Au(v),c&&c[rt]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],v=Ee(y,v,S,B),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=No(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ee(y,v,S,B)),(v=c>-1?y[c]:null)&&ls(v))}function ls(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[rt])Oe(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ua(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=No(y))?(Oe(v,c),v.h==0&&(v.src=null,y[Lt]=null)):pe(c)}}}function ua(c){return c in Ge?Ge[c]:Ge[c]="on"+c}function nf(c,y){if(c.da)c=!0;else{y=new ut(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&ls(c),c=v.call(S,y)}return c}function No(c){return c=c[Lt],c instanceof de?c:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function Au(c){return typeof c=="function"?c:(c[an]||(c[an]=function(y){return c.handleEvent(y)}),c[an])}function Rt(){k.call(this),this.i=new de(this),this.M=this,this.G=null}w(Rt,k),Rt.prototype[rt]=!0,Rt.prototype.removeEventListener=function(c,y,v,S){la(this,c,y,v,S)};function Dt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var B=y;y=new O(S,c),se(y,B)}B=!0;let $,re;if(v)for(re=v.length-1;re>=0;re--)$=y.g=v[re],B=wr($,S,!0,y)&&B;if($=y.g=c,B=wr($,S,!0,y)&&B,B=wr($,S,!1,y)&&B,v)for(re=0;re<v.length;re++)$=y.g=v[re],B=wr($,S,!1,y)&&B}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)pe(v[S]);delete c.g[y],c.h--}}this.G=null},Rt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Rt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function wr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const re=y[$];if(re&&!re.da&&re.capture==v){const Se=re.listener,tt=re.ha||re.src;re.fa&&Oe(c.i,re),B=Se.call(tt,S)!==!1&&B}}return B&&!S.defaultPrevented}function rf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Do(c){c.g=rf(()=>{c.g=null,c.i&&(c.i=!1,Do(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sf extends k{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){k.call(this),this.h=c,this.g={}}w(us,k);var ni=[];function Gt(c){Ue(c.g,function(y,v){this.g.hasOwnProperty(v)&&ls(y)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),Gt(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=f.JSON.stringify,Jt=f.JSON.parse,af=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ru(){}function xu(){}var tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ri(){O.call(this,"d")}w(ri,O);function jn(){O.call(this,"c")}w(jn,O);var wn={},ii=null;function ca(){return ii=ii||new Rt}wn.Ia="serverreachability";function Oo(c){O.call(this,wn.Ia,c)}w(Oo,O);function si(c){const y=ca();Dt(y,new Oo(y))}wn.STAT_EVENT="statevent";function ha(c,y){O.call(this,wn.STAT_EVENT,c),this.stat=y}w(ha,O);function ft(c){const y=ca();Dt(y,new ha(y,c))}wn.Ja="timingevent";function Cu(c,y){O.call(this,wn.Ja,c),this.size=y}w(Cu,O);function ai(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function ko(c,y,v,S,B,$){c.info(function(){if(c.g)if($){var re="",Se=$.split("&");for(let qe=0;qe<Se.length;qe++){var tt=Se[qe].split("=");if(tt.length>1){const pt=tt[0];tt=tt[1];const fn=pt.split("_");re=fn.length>=2&&fn[1]=="type"?re+(pt+"="+tt+"&"):re+(pt+"=redacted&")}}}else re=null;else re=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+re})}function Mo(c,y,v,S,B,$,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+$+" "+re})}function Sr(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+nr(c,v)+(S?" "+S:"")})}function of(c,y){c.info(function(){return"TIMEOUT: "+y})}oi.prototype.info=function(){};function nr(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var v=$[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return bn($)}catch{return y}}var dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ar;function cs(){}w(cs,Ru),cs.prototype.g=function(){return new XMLHttpRequest},Ar=new cs;function hs(c){return encodeURIComponent(String(c))}function lf(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function zn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var fa={},rr={};function ir(c,y,v){c.M=1,c.A=xr(at(y)),c.u=v,c.R=!0,ui(c,null)}function ui(c,y){c.F=Date.now(),fs(c),c.B=at(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ou(v.i,"t",S),c.C=0,v=c.j.L,c.h=new li,c.g=ba(c.j,v?y:null,!c.u),c.P>0&&(c.O=new sf(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(ni[0]=B.toString()),B=ni);for(let $=0;$<B.length;$++){const re=Un(v,B[$],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?ne(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),si(),ko(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$t(c)==3?y.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=$t(this.g),tt=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||ws(this.g)))){this.K||Se!=4||tt==7||(tt==8||qe<=0?si(3):si(2)),ar(this);var y=this.g.ca();this.X=y;var v=ci(this);if(this.o=y==200,Mo(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var $=S;break t}}$=null}if(c=$)Sr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,da(this,c);else{this.o=!1,this.m=3,ft(12),or(this),ds(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=Iu(this,v),pt==rr){Se==4&&(this.m=4,ft(14),c=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==fa){this.m=4,ft(15),Sr(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Sr(this.i,this.l,pt,null),da(this,pt);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,ft(16),c=!1),this.o=this.o&&c,!c)Sr(this.i,this.l,v,"[Invalid Chunked Response]"),or(this),ds(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fo(re),re.P=!0,ft(11))}}else Sr(this.i,this.l,v,null),da(this,v);Se==4&&or(this),this.o&&!this.K&&(Se==4?Go(this.j,this):(this.o=!1,fs(this)))}else Ss(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),or(this),ds(this)}}}catch{}finally{}};function ci(c){if(!mt(c))return c.g.la();const y=ws(c.g);if(y==="")return"";let v="";const S=y.length,B=$t(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return or(c),ds(c),"";c.h.i=new f.TextDecoder}for(let $=0;$<S;$++)c.h.h=!0,v+=c.h.i.decode(y[$],{stream:!(B&&$==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function mt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Iu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?rr:(v=Number(y.substring(v,S)),isNaN(v)?fa:(S+=1,S+v>y.length?rr:(y=y.slice(S,S+v),c.C=S+v,y)))}zn.prototype.cancel=function(){this.K=!0,or(this)};function fs(c){c.T=Date.now()+c.H,sr(c,c.H)}function sr(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(g(c.aa,c),y)}function ar(c){c.D&&(f.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(of(this.i,this.B),this.M!=2&&(si(),ft(17)),or(this),this.m=2,ds(this)):sr(this,this.T-c)};function ds(c){c.j.I==0||c.K||Go(c.j,c)}function or(c){ar(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Gt(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function da(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||gs(v.h,c))){if(!c.L&&gs(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ta(v),lr(v);else break e;Ho(v),ft(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(g(v.Va,v),6e3));Sn(v.h)<=1&&v.ta&&(v.ta=void 0)}else Nr(v,11)}else if((c.L||v.g==c)&&Ta(v),!I(y))for(B=v.Ba.g.parse(y),y=0;y<B.length;y++){let qe=B[y];const pt=qe[0];if(!(pt<=v.K))if(v.K=pt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const fn=qe[3];fn!=null&&(v.ka=fn,v.j.info("VER="+v.ka));const ur=qe[4];ur!=null&&(v.za=ur,v.j.info("SVER="+v.za));const Hn=qe[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(S=1.5*Hn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Fn=c.g;if(Fn){const Gn=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var $=S.h;$.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ma($,$.h),$.h=null))}if(S.G){const Ko=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(S.wa=Ko,$e(S.J,S.G,Ko))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=Bu(S,S.L?S.ba:null,S.W),re.L){Rr(S.h,re);var Se=re,tt=S.O;tt&&(Se.H=tt),Se.D&&(ar(Se),fs(Se)),S.g=re}else Lu(S);v.i.length>0&&Cs(v)}else qe[0]!="stop"&&qe[0]!="close"||Nr(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Nr(v,7):Rs(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}si(4)}catch{}}var uf=class{constructor(c,y){this.g=c,this.map=y}};function ms(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ps(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sn(c){return c.h?1:c.g?c.g.size:0}function gs(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function Rr(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ms.prototype.cancel=function(){if(this.i=pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cf(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let B,$=null;S>=0?(B=c[v].substring(0,S),$=c[v].substring(S+1)):B=c[v],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Bn?(this.l=c.l,hi(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.u),this.h=c.h,fi(this,ku(c.i)),this.m=c.m):c&&(y=String(c).match(ga))?(this.l=!1,hi(this,y[1]||"",!0),this.o=_s(y[2]||""),this.g=_s(y[3]||"",!0),ys(this,y[4]),this.h=_s(y[5]||"",!0),fi(this,y[6]||"",!0),this.m=_s(y[7]||"")):(this.l=!1,this.i=new An(null,this.l))}Bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ot(y,Po,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ot(y,Po,!0),"@"),c.push(hs(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ot(v,v.charAt(0)=="/"?di:Lo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ot(v,Du)),c.join("")},Bn.prototype.resolve=function(c){const y=at(this);let v=!!c.j;v?hi(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)ys(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let re=0;re<B.length;){const Se=B[re++];Se=="."?S&&re==B.length&&$.push(""):Se==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&re==B.length&&$.push("")):($.push(Se),S=!0)}S=$.join("/")}else S=B}return v?y.h=S:v=c.i.toString()!=="",v?fi(y,ku(c.i)):v=!!c.m,v&&(y.m=c.m),y};function at(c){return new Bn(c)}function hi(c,y,v){c.j=v?_s(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function fi(c,y,v){y instanceof An?(c.i=y,zo(c.i,c.l)):(v||(y=Ot(y,Nu)),c.i=new An(y,c.l))}function $e(c,y,v){c.i.set(y,v)}function xr(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _s(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ot(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Vo),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,Lo=/[#\?:]/g,di=/[#\?]/g,Nu=/[#\?@]/g,Du=/#/g;function An(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cr(c){c.g||(c.g=new Map,c.h=0,c.i&&cf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=An.prototype,i.add=function(c,y){Cr(this),this.i=null,c=qn(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Uo(c,y){Cr(c),y=qn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function jo(c,y){return Cr(c),y=qn(c,y),c.g.has(y)}i.forEach=function(c,y){Cr(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)};function ya(c,y){Cr(c);let v=[];if(typeof y=="string")jo(c,y)&&(v=v.concat(c.g.get(qn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return Cr(this),this.i=null,c=qn(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=ya(this,c),c.length>0?String(c[0]):y):y};function Ou(c,y,v){Uo(c,y),v.length>0&&(c.i=null,c.g.set(qn(c,y),P(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const B=hs(v);v=ya(this,v);for(let $=0;$<v.length;$++){let re=B;v[$]!==""&&(re+="="+hs(v[$])),c.push(re)}}return this.i=c.join("&")};function ku(c){const y=new An;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function qn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zo(c,y){y&&!c.j&&(Cr(c),c.i=null,c.g.forEach(function(v,S){const B=S.toLowerCase();S!=B&&(Uo(this,S),Ou(this,B,v))},c)),c.j=y}function Bo(c,y){const v=new oi;if(f.Image){const S=new Image;S.onload=_(en,v,"TestLoadImage: loaded",!0,y,S),S.onerror=_(en,v,"TestLoadImage: error",!1,y,S),S.onabort=_(en,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(en,v,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function mi(c,y){const v=new oi,S=new AbortController,B=setTimeout(()=>{S.abort(),en(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?en(v,"TestPingServer: ok",!0,y):en(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),en(v,"TestPingServer: error",!1,y)})}function en(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Mu(){this.g=new af}function vs(c){this.i=c.Sb||null,this.h=c.ab||!1}w(vs,Ru),vs.prototype.g=function(){return new Es(this.i,this.h)};function Es(c,y){Rt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Es,Rt),i=Es.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ir(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pi(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pi(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tn(this):Ir(this),this.readyState==3&&pi(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,tn(this))},i.Na=function(c){this.g&&(this.response=c,tn(this))},i.ga=function(){this.g&&tn(this)};function tn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ir(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gi(c){let y="";return Ue(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Rn(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=gi(v),typeof c=="string"?v!=null&&hs(v):$e(c,y,v))}function Ze(c){Rt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Ze,Rt);var _a=/^https?$/i,Vu=["POST","PUT"];i=Ze.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ar.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Ts(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Vu,y,void 0)>=0)||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of v)this.g.setRequestHeader($,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Ts(this,$)}};function Ts(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,bs(c),xt(c)}function bs(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),xt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xt(this,!0)),Ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?qo(this):this.Xa())},i.Xa=function(){qo(this)};function qo(c){if(c.h&&typeof u<"u"){if(c.v&&$t(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),$t(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=$===0){let re=String(c.D).match(ga)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!_a.test(re?re.toLowerCase():"")}v=S}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var B=$t(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",bs(c)}}finally{xt(c)}}}}function xt(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function $t(c){return c.g?c.g.readyState:0}i.ca=function(){try{return $t(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Jt(y)}};function ws(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(c){const y={};c=(c.g&&$t(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=lf(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[B]||[];y[B]=$,$.push(v)}D(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function va(c){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=As("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=As("baseRetryDelayMs",5e3,c),this.Za=As("retryDelaySeedMs",1e4,c),this.Ta=As("forwardChannelMaxRetries",2,c),this.va=As("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ms(c&&c.concurrentRequestLimit),this.Ba=new Mu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=va.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){ft(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Bu(this,null,this.W),Cs(this)};function Rs(c){if(xs(c),c.I==3){var y=c.V++,v=at(c.J);if($e(v,"SID",c.M),$e(v,"RID",y),$e(v,"TYPE","terminate"),Is(c,v),y=new zn(c,c.j,y),y.M=2,y.A=xr(at(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=ba(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fs(y)}zu(c)}function lr(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function xs(c){lr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Cs(c){if(!ps(c.h)&&!c.m){c.m=!0;var y=c.Ea;ce||R(),Re||(ce(),Re=!0),N.add(y,c),c.D=0}}function hf(c,y){return Sn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(g(c.Ea,c,y),ju(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new zn(this,this.j,c);let $=this.o;if(this.U&&($?($=ne($),se($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ea(this,B,y),v=at(this.J),$e(v,"RID",c),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Is(this,v),$&&(this.R?y="headers="+hs(gi($))+"&"+y:this.u&&Rn(v,this.u,$)),ma(this.h,B),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",y),$e(v,"SID","null"),B.U=!0,ir(B,v,null)):ir(B,v,y),this.I=2}}else this.I==3&&(c?Pu(this,c):this.i.length==0||ps(this.h)||Pu(this))};function Pu(c,y){var v;y?v=y.l:v=c.V++;const S=at(c.J);$e(S,"SID",c.M),$e(S,"RID",v),$e(S,"AID",c.K),Is(c,S),c.u&&c.o&&Rn(S,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ea(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ma(c.h,v),ir(v,S,y)}function Is(c,y){c.H&&Ue(c.H,function(v,S){$e(y,S,v)}),c.l&&Ue({},function(v,S){$e(y,S,v)})}function Ea(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Se=-1;for(;;){const tt=["count="+v];Se==-1?v>0?(Se=B[0].g,tt.push("ofs="+Se)):Se=0:tt.push("ofs="+Se);let qe=!0;for(let pt=0;pt<v;pt++){var $=B[pt].g;const fn=B[pt].map;if($-=Se,$<0)Se=Math.max(0,B[pt].g-100),qe=!1;else try{$="req"+$+"_"||"";try{var re=fn instanceof Map?fn:Object.entries(fn);for(const[ur,Hn]of re){let Fn=Hn;m(Hn)&&(Fn=bn(Hn)),tt.push($+ur+"="+encodeURIComponent(Fn))}}catch(ur){throw tt.push($+"type="+encodeURIComponent("_badmap")),ur}}catch{S&&S(fn)}}if(qe){re=tt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Lu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ce||R(),Re||(ce(),Re=!0),N.add(y,c),c.A=0}}function Ho(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(g(c.Da,c),ju(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),lr(this),Uu(this))};function Fo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=at(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Is(c,y),c.u&&c.o&&Rn(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=xr(at(y)),v.u=null,v.R=!0,ui(v,c)}i.Va=function(){this.C!=null&&(this.C=null,lr(this),Ho(this),ft(19))};function Ta(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Go(c,y){var v=null;if(c.g==y){Ta(c),Fo(c),c.g=null;var S=2}else if(gs(c.h,y))v=y.G,Rr(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=ca(),Dt(S,new Cu(S,v)),Cs(c)}else Lu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&hf(c,y)||S==2&&Ho(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function ju(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Nr(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const B=!S;S=new Bn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||hi(S,"https"),xr(S),B?Bo(S.toString(),v):mi(S.toString(),v)}else ft(2);c.I=0,c.l&&c.l.pa(y),zu(c),xs(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const y=pa(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ja,y),L(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Bu(c,y,v){var S=v instanceof Bn?at(v):new Bn(v);if(S.g!="")y&&(S.g=y+"."+S.g),ys(S,S.u);else{var B=f.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new Bn(null);S&&hi($,S),y&&($.g=y),B&&ys($,B),v&&($.h=v),S=$}return v=c.G,y=c.wa,v&&y&&$e(S,v,y),$e(S,"VER",c.ka),Is(c,S),S}function ba(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new vs({ab:v})):new Ze(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}i=qu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function wa(){}wa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){Rt.call(this),this.g=new va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yi(this)}w(nn,Rt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Rs(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=bn(c),c=v);y.i.push(new uf(y.Ya++,c)),y.I==3&&Cs(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Rs(this.g),delete this.g,nn.Z.N.call(this)};function $o(c){ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}w($o,ri);function Hu(){jn.call(this),this.status=1}w(Hu,jn);function yi(c){this.g=c}w(yi,qu),yi.prototype.ra=function(){Dt(this.g,"a")},yi.prototype.qa=function(c){Dt(this.g,new $o(c))},yi.prototype.pa=function(c){Dt(this.g,new Hu)},yi.prototype.oa=function(){Dt(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,lT=function(){return new wa},oT=function(){return ca()},aT=wn,Dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,Jc=dt,Ut.COMPLETE="complete",sT=Ut,xu.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,ql=xu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,iT=Ze}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",Qv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new lp("@firebase/firestore");function Za(){return Zs.logLevel}function ue(i,...e){if(Zs.logLevel<=ke.DEBUG){const n=e.map(hp);Zs.debug(`Firestore (${bo}): ${i}`,...n)}}function Wr(i,...e){if(Zs.logLevel<=ke.ERROR){const n=e.map(hp);Zs.error(`Firestore (${bo}): ${i}`,...n)}}function uo(i,...e){if(Zs.logLevel<=ke.WARN){const n=e.map(hp);Zs.warn(`Firestore (${bo}): ${i}`,...n)}}function hp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,uT(i,s,n)}function uT(i,e,n){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Wr(s),new Error(s)}function Be(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||uT(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Xt.UNAUTHENTICATED)))}shutdown(){}}class _2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class v2{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new cT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class E2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new E2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=w2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function Om(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return pm(o)===pm(u)?Me(o,u):pm(o)?1:-1}return Me(i.length,e.length)}const S2=55296,A2=57343;function pm(i){const e=i.charCodeAt(0);return e>=S2&&e<=A2}function co(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="__name__";class pr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=pr.isNumericId(e),o=pr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pr.extractNumericId(e).compare(pr.extractNumericId(n)):Om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class et extends pr{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const R2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends pr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return R2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new Ht([Xv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(i,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function x2(i,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Wv(i){if(!me.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zv(i){if(me.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Vh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function Yi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i,e){const n={typeString:i};return e&&(n.value=e),n}function pu(i,e){if(!fT(i))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-62135596800,e0=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*e0);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jv)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:wt("string",nt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new nt(0,0))}static max(){return new we(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function C2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new Wi(o,me.empty(),e)}function I2(i){return new Wi(i.readTime,i.key,tu)}class Wi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wi(we.min(),me.empty(),tu)}static max(){return new Wi(we.max(),me.empty(),tu)}}function N2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==D2)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,s)=>{n(e)}))}static reject(e){return new J(((n,s)=>{s(e)}))}static waitFor(e){return new J(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next((o=>o?J.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new J(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{f[g]=_,++m,m===u&&s(f)}),(_=>o(_)))}}))}static doWhile(e,n){return new J(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function k2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=-1;function Lh(i){return i==null}function fh(i){return i===0&&1/i==-1/0}function M2(i){return typeof i=="number"&&Number.isInteger(i)&&!fh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="";function V2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=t0(e)),e=P2(i.get(n),e);return t0(e)}function P2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case dT:n+="";break;default:n+=u}}return n}function t0(i){return i+dT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function is(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function mT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r0(this.data.getIterator())}getIteratorFrom(e){return new r0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class r0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Nt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pT("Invalid base64 string: "+u):u}})(e);return new Ft(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const L2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(i){if(Be(!!i,39018),typeof i=="string"){let e=0;const n=L2.exec(i);if(Be(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ji(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",yT="__type__",_T="__previous_value__",vT="__local_write_time__";function mp(i){return(i?.mapValue?.fields||{})[yT]?.stringValue===gT}function Uh(i){const e=i.mapValue.fields[_T];return mp(e)?Uh(e):e}function nu(i){const e=Zi(i.mapValue.fields[vT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,s,o,u,f,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const dh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__type__",j2="__max__",Kc={mapValue:{}},TT="__vector__",mh="value";function es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?mp(i)?4:B2(i)?9007199254740991:z2(i)?10:11:ve(28295,{value:i})}function Tr(i,e){if(i===e)return!0;const n=es(i);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Zi(o.timestampValue),m=Zi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Ji(o.bytesValue).isEqual(Ji(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return co(i.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(n0(f)!==n0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Tr(f[p],m[p])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function iu(i,e){return(i.values||[]).find((n=>Tr(n,e)))!==void 0}function ho(i,e){if(i===e)return 0;const n=es(i),s=es(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return i0(i.timestampValue,e.timestampValue);case 4:return i0(nu(i),nu(e));case 5:return Om(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ji(u),p=Ji(f);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Me(m[g],p[g]);if(_!==0)return _}return Me(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Me(_t(u.latitude),_t(f.latitude));return m!==0?m:Me(_t(u.longitude),_t(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return s0(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[mh]?.arrayValue,_=p[mh]?.arrayValue,w=Me(g?.values?.length||0,_?.values?.length||0);return w!==0?w:s0(g,_)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const A=Om(p[w],_[w]);if(A!==0)return A;const P=ho(m[p[w]],g[_[w]]);if(P!==0)return P}return Me(p.length,_.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function i0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=Zi(i),s=Zi(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function s0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function fo(i){return km(i)}function km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Zi(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ji(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=km(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${km(n.fields[f])}`;return o+"}"})(i.mapValue):ve(61005,{value:i})}function eh(i){switch(es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(i);return e?16+eh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ji(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+eh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return is(s.fields,((u,f)=>{o+=u.length+eh(f)})),o})(i.mapValue);default:throw ve(13486,{value:i})}}function a0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Mm(i){return!!i&&"integerValue"in i}function pp(i){return!!i&&"arrayValue"in i}function o0(i){return!!i&&"nullValue"in i}function l0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function th(i){return!!i&&"mapValue"in i}function z2(i){return(i?.mapValue?.fields||{})[ET]?.stringValue===TT}function Kl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return is(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Kl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(i.arrayValue.values[n]);return e}return{...i}}function B2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===j2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Kl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){is(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new hn(Kl(this.value))}}function bT(i){const e=[];return is(i.fields,((n,s)=>{const o=new Ht([n]);if(th(s)){const u=bT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,we.min(),we.min(),we.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,we.min(),we.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,we.min(),we.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function u0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=ho(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function c0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Tr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function q2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{}class bt extends wT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new F2(e,n,s):n==="array-contains"?new K2(e,s):n==="in"?new Q2(e,s):n==="not-in"?new Y2(e,s):n==="array-contains-any"?new X2(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new G2(e,s):new $2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends wT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zn(e,n)}matches(e){return ST(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ST(i){return i.op==="and"}function AT(i){return H2(i)&&ST(i)}function H2(i){for(const e of i.filters)if(e instanceof Zn)return!1;return!0}function Vm(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+fo(i.value);if(AT(i))return i.filters.map((e=>Vm(e))).join(",");{const e=i.filters.map((n=>Vm(n))).join(",");return`${i.op}(${e})`}}function RT(i,e){return i instanceof bt?(function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Tr(s.value,o.value)})(i,e):i instanceof Zn?(function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&RT(f,o.filters[m])),!0):!1})(i,e):void ve(19439)}function xT(i){return i instanceof bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(i):i instanceof Zn?(function(n){return n.op.toString()+" {"+n.getFilters().map(xT).join(" ,")+"}"})(i):"Filter"}class F2 extends bt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class G2 extends bt{constructor(e,n){super(e,"in",n),this.keys=CT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $2 extends bt{constructor(e,n){super(e,"not-in",n),this.keys=CT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CT(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class K2 extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pp(n)&&iu(n.arrayValue,this.value)}}class Q2 extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class Y2 extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class X2 extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>iu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function h0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new W2(i,e,n,s,o,u,f)}function gp(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Vm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>fo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>fo(s))).join(",")),e.Te=n}return e.Te}function yp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!q2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!RT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!c0(i.startAt,e.startAt)&&c0(i.endAt,e.endAt)}function Pm(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Z2(i,e,n,s,o,u,f,m){return new Ao(i,e,n,s,o,u,f,m)}function _p(i){return new Ao(i)}function f0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function IT(i){return i.collectionGroup!==null}function Ql(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Ht.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new su(u,s))})),n.has(Ht.keyField().canonicalString())||e.Ie.push(new su(Ht.keyField(),s))}return e.Ie}function gr(i){const e=Ae(i);return e.Ee||(e.Ee=J2(e,Ql(i))),e.Ee}function J2(i,e){if(i.limitType==="F")return h0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)}));const n=i.endAt?new ph(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ph(i.startAt.position,i.startAt.inclusive):null;return h0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Lm(i,e){const n=i.filters.concat([e]);return new Ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Um(i,e,n){return new Ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function jh(i,e){return yp(gr(i),gr(e))&&i.limitType===e.limitType}function NT(i){return`${gp(gr(i))}|lt:${i.limitType}`}function Ja(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>xT(o))).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${s})`})(gr(i))}; limitType=${i.limitType})`}function zh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=u0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(f,m,p){const g=u0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Ql(s),o))})(i,e)}function eC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function DT(i){return(e,n)=>{let s=!1;for(const o of Ql(i)){const u=tC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function tC(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ho(p,g):ve(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return mT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new lt(me.comparator);function Zr(){return nC}const OT=new lt(me.comparator);function Hl(...i){let e=OT;for(const n of i)e=e.insert(n.key,n);return e}function kT(i){let e=OT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $s(){return Yl()}function MT(){return Yl()}function Yl(){return new ia((i=>i.toString()),((i,e)=>i.isEqual(e)))}const rC=new lt(me.comparator),iC=new Nt(me.comparator);function Ve(...i){let e=iC;for(const n of i)e=e.add(n);return e}const sC=new Nt(Me);function aC(){return sC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function VT(i){return{integerValue:""+i}}function oC(i,e){return M2(e)?VT(e):vp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function lC(i,e,n){return i instanceof au?(function(o,u){const f={fields:{[yT]:{stringValue:gT},[vT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mp(u)&&(u=Uh(u)),u&&(f.fields[_T]=u),{mapValue:f}})(n,e):i instanceof ou?LT(i,e):i instanceof lu?UT(i,e):(function(o,u){const f=PT(o,u),m=d0(f)+d0(o.Ae);return Mm(f)&&Mm(o.Ae)?VT(m):vp(o.serializer,m)})(i,e)}function uC(i,e,n){return i instanceof ou?LT(i,e):i instanceof lu?UT(i,e):n}function PT(i,e){return i instanceof gh?(function(s){return Mm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class au extends Bh{}class ou extends Bh{constructor(e){super(),this.elements=e}}function LT(i,e){const n=jT(e);for(const s of i.elements)n.some((o=>Tr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends Bh{constructor(e){super(),this.elements=e}}function UT(i,e){let n=jT(e);for(const s of i.elements)n=n.filter((o=>!Tr(o,s)));return{arrayValue:{values:n}}}class gh extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function d0(i){return _t(i.integerValue||i.doubleValue)}function jT(i){return pp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.field=e,this.transform=n}}function hC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?co(s.elements,o.elements,Tr):s instanceof gh&&o instanceof gh?Tr(s.Ae,o.Ae):s instanceof au&&o instanceof au})(i.transform,e.transform)}class fC{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class qh{}function zT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ep(i.key,Xn.none()):new gu(i.key,i.data,Xn.none());{const n=i.data,s=hn.empty();let o=new Nt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ss(i.key,s,new Tn(o.toArray()),Xn.none())}}function dC(i,e,n){i instanceof gu?(function(o,u,f){const m=o.value.clone(),p=p0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ss?(function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=p0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(BT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Xl(i,e,n,s){return i instanceof gu?(function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=u.value.clone(),_=g0(u.fieldTransforms,p,f);return g.setAll(_),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof ss?(function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=g0(u.fieldTransforms,p,f),_=f.data;return _.setAll(BT(u)),_.setAll(g),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(i,e,n,s):(function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function mC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=PT(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function m0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,((u,f)=>hC(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ss extends qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function BT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function p0(i,e,n){const s=new Map;Be(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,uC(f,m,n[o]))}return s}function g0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,lC(u,f,e))}return s}class Ep extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=MT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=zT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((n,s)=>m0(n,s)))&&co(this.baseMutations,e.baseMutations,((n,s)=>m0(n,s)))}}class Tp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return rC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Tp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Le;function vC(i){switch(i){case W.OK:return ve(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function qT(i){if(i===void 0)return Wr("GRPC error has no .code"),W.UNKNOWN;switch(i){case Tt.OK:return W.OK;case Tt.CANCELLED:return W.CANCELLED;case Tt.UNKNOWN:return W.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return W.INTERNAL;case Tt.UNAVAILABLE:return W.UNAVAILABLE;case Tt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Tt.NOT_FOUND:return W.NOT_FOUND;case Tt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Tt.ABORTED:return W.ABORTED;case Tt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Tt.DATA_LOSS:return W.DATA_LOSS;default:return ve(39323,{code:i})}}(Le=Tt||(Tt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Qi([4294967295,4294967295],0);function y0(i){const e=EC().encode(i),n=new rT;return n.update(e),new Uint8Array(n.digest())}function _0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qi([n,s],0),new Qi([o,u],0)]}class bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Qi.fromNumber(s)));return o.compare(TC)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=y0(e),[s,o]=_0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=y0(e),[s,o]=_0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hh(we.min(),o,new lt(Me),Zr(),Ve())}}class yu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class HT{constructor(e,n){this.targetId=e,this.Ce=n}}class FT{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class v0{constructor(){this.ve=0,this.Fe=E0(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new yu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=E0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zr(),this.Je=Qc(),this.He=Qc(),this.Ye=new lt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Pm(u))if(s===0){const f=new me(u.path);this.et(n,f,Wt.newNoDocument(f,we.min()))}else Be(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ji(s).toUint8Array()}catch(p){if(p instanceof pT)return uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new bp(f,o,u)}catch(p){return uo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Pm(m.target)){const p=new me(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ve();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Hh(e,n,this.Ye,this.je,s);return this.je=Zr(),this.Je=Qc(),this.He=Qc(),this.Ye=new lt(Me),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new v0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new lt(me.comparator)}function E0(){return new lt(me.comparator)}const wC={asc:"ASCENDING",desc:"DESCENDING"},SC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC={and:"AND",or:"OR"};class RC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function xC(i,e){return yh(i,e.toTimestamp())}function yr(i){return Be(!!i,49232),we.fromTimestamp((function(n){const s=Zi(n);return new nt(s.seconds,s.nanos)})(i))}function wp(i,e){return zm(i,e).canonicalString()}function zm(i,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function $T(i){const e=et.fromString(i);return Be(WT(e),10190,{key:e.toString()}),e}function Bm(i,e){return wp(i.databaseId,e.path)}function gm(i,e){const n=$T(e);if(n.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(QT(n))}function KT(i,e){return wp(i.databaseId,e)}function CC(i){const e=$T(i);return e.length===4?et.emptyPath():QT(e)}function qm(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function QT(i){return Be(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function T0(i,e,n){return{name:Bm(i,e),fields:n.value.mapValue.fields}}function IC(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Be(_===void 0||typeof _=="string",58123),Ft.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ft.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const _=g.code===void 0?W.UNKNOWN:qT(g.code);return new le(_,g.message||"")})(f);n=new FT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(i,s.document.name),u=yr(s.document.updateTime),f=s.document.createTime?yr(s.document.createTime):we.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new rh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gm(i,s.document),u=s.readTime?yr(s.readTime):we.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gm(i,s.document),u=s.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new _C(o,u),m=s.targetId;n=new HT(m,f)}}return n}function NC(i,e){let n;if(e instanceof gu)n={update:T0(i,e.key,e.value)};else if(e instanceof Ep)n={delete:Bm(i,e.key)};else if(e instanceof ss)n={update:T0(i,e.key,e.data),updateMask:jC(e.fieldMask)};else{if(!(e instanceof pC))return ve(16599,{Vt:e.type});n={verify:Bm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof au)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:xC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(i,e.precondition)),n}function DC(i,e){return i&&i.length>0?(Be(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?yr(o.updateTime):yr(u);return f.isEqual(we.min())&&(f=yr(u)),new fC(f,o.transformResults||[])})(n,e)))):[]}function OC(i,e){return{documents:[KT(i,e.path)]}}function kC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=KT(i,o);const u=(function(g){if(g.length!==0)return XT(Zn.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((_=>(function(A){return{field:eo(A.field),direction:PC(A.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function MC(i){let e=CC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Be(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(w){const A=YT(w);return A instanceof Zn&&AT(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(L){return new su(to(L.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,Lh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(w){const A=!!w.before,P=w.values||[];return new ph(P,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const A=!w.before,P=w.values||[];return new ph(P,A)})(n.endAt)),Z2(e,o,f,u,m,"F",p,g)}function VC(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(n){return bt.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Zn.create(n.compositeFilter.filters.map((s=>YT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(i):ve(30097,{filter:i})}function PC(i){return wC[i]}function LC(i){return SC[i]}function UC(i){return AC[i]}function eo(i){return{fieldPath:i.canonicalString()}}function to(i){return Ht.fromServerFormat(i.fieldPath)}function XT(i){return i instanceof bt?(function(n){if(n.op==="=="){if(l0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(o0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(o0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:LC(n.op),value:n.value}}})(i):i instanceof Zn?(function(n){const s=n.getFilters().map((o=>XT(o)));return s.length===1?s[0]:{compositeFilter:{op:UC(n.op),filters:s}}})(i):ve(54877,{filter:i})}function jC(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function WT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.yt=e}}function BC(i){const e=MC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Cn=new HC}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Wi.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class HC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZT=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(ZT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="LruGarbageCollector",FC=1048576;function S0([i,e],[n,s]){const o=Me(i,n);return o===0?Me(e,s):o}class GC{constructor(e){this.Ir=e,this.buffer=new Nt(S0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();S0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $C{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(w0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ue(w0,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class KC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Ph.ce);const s=new GC(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(b0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),Za()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function QC(i,e){return new KC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Xl(s.mutation,o,Tn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=$s();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Hl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Zr();const f=Yl(),m=(function(){return Yl()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ss)?u=u.insert(g.key,g):_!==void 0?(f.set(g.key,_.mutation.getFieldMask()),Xl(_.mutation,g,_.mutation.getFieldMask(),nt.now())):f.set(g.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>f.set(g,_))),n.forEach(((g,_)=>m.set(g,new XC(_,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new lt(((f,m)=>f-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Tn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,w=MT();_.forEach((A=>{if(!u.has(A)){const P=zT(n.get(A),s.get(A));P!==null&&w.set(A,P),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve($s());let m=tu,p=u;return f.next((g=>J.forEach(g,((_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{p=p.insert(_,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((_=>({batchId:m,changes:kT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>J.forEach(m,(p=>{const g=(function(w,A){return new Ao(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const _=g.getKey();f.get(_)===null&&(f=f.insert(_,Wt.newInvalidDocument(_)))}));let m=Hl();return f.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&Xl(_.mutation,g,Tn.empty(),nt.now()),zh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:yr(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:BC(o.bundledQuery),readTime:yr(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.overlays=new lt(me.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return J.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt(((g,_)=>g-_));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=$s(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new yC(n,s));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.Qr=new Nt(Pt.$r),this.Ur=new Nt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new et([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new et([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Pt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?dp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Me);return n.forEach((o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new me(u),0);let m=new Nt(Me);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.ri=e,this.docs=(function(){return new lt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=Zr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Zr();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||N2(I2(_),s)<=0||(o.has(_.key)||zh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new rI(this)}getSize(e){return J.resolve(this.size)}}class rI extends YC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.persistence=e,this.si=new ia((n=>gp(n)),yp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Sp,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new eI,this.referenceDelegate=e(this),this.Pi=new iI(this),this.indexManager=new qC,this.remoteDocumentCache=(function(o){return new nI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new zC(n),this.Ii=new ZC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new tI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new sI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class sI extends O2{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Ri=new Sp,this.Vi=null}static mi(e){return new Ap(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _h{constructor(e,n){this.persistence=e,this.pi=new ia((s=>V2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=QC(this,n)}static mi(e,n){return new _h(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?J.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Rp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZA()?8:k2(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new aI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Za()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Za()<=ke.DEBUG&&ue("QueryEngine","Query:",Ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Za()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):J.resolve())}ys(e,n){if(f0(n))return J.resolve(null);let s=gr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Um(n,null,"F"),s=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ve(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Um(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return f0(n)||o.isEqual(we.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(Za()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.vs(e,f,n,C2(o,tu)).next((m=>m)))}))}Ds(e,n){let s=new Nt(DT(e));return n.forEach(((o,u)=>{zh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Za()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ps.getDocumentsMatchingQuery(e,n,Wi.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="LocalStore",lI=3e8;class uI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Me),this.xs=new ia((u=>gp(u)),yp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cI(i,e,n,s){return new uI(i,e,n,s)}async function eb(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function hI(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const w=g.batch,A=w.keys();let P=J.resolve();return A.forEach((L=>{P=P.next((()=>_.getEntry(p,L))).next((K=>{const F=g.docVersions.get(L);Be(F!==null,48541),K.version.compareTo(F)<0&&(w.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),_.addEntry(K)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function tb(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function fI(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,w)=>{const A=o.get(w);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,w))));let P=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?P=P.withResumeToken(Ft.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,s)),o=o.insert(w,P),(function(K,F,ee){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=lI?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(A,P,_)&&m.push(n.Pi.updateTargetData(u,P))}));let p=Zr(),g=Ve();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(dI(u,f,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(we.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function dI(i,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=Zr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function mI(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function pI(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Hi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Hm(i,e,n){const s=Ae(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!So(f))throw f;ue(xp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function A0(i,e,n){const s=Ae(i);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,_){const w=Ae(p),A=w.xs.get(_);return A!==void 0?J.resolve(w.Ms.get(A)):w.Pi.getTargetData(g,_)})(s,f,gr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ve()))).next((m=>(gI(s,eC(e),m),{documents:m,Qs:u})))))}function gI(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class R0{constructor(){this.activeTargetIds=aC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yI{constructor(){this.Mo=new R0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class C0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(x0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Fm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Fm(),m=this.zo(e,n.toUriEncodedString());ue(ym,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Eo(g);return this.Jo(e,m,p,s,_).then((w=>(ue(ym,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw uo(ym,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=vI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class bI extends EI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Fm();return new Promise(((m,p)=>{const g=new iT;g.setWithCredentials(!0),g.listenOnce(sT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Jc.NO_ERROR:const w=g.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Jc.TIMEOUT:ue(Yt,`RPC '${e}' ${f} timed out`),p(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const A=g.getStatus();if(ue(Yt,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const L=P?.error;if(L&&L.status&&L.message){const K=(function(ee){const te=ee.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(te)>=0?te:W.UNKNOWN})(L.status);p(new le(K,L.message))}else p(new le(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(W.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Yt,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);ue(Yt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=Fm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=lT(),m=oT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=f.createWebChannel(_,p);this.I_(w);let A=!1,P=!1;const L=new TI({Yo:F=>{P?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Zo:()=>w.close()}),K=(F,ee,te)=>{F.listen(ee,(ie=>{try{te(ie)}catch(be){setTimeout((()=>{throw be}),0)}}))};return K(w,ql.EventType.OPEN,(()=>{P||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),K(w,ql.EventType.CLOSE,(()=>{P||(P=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(w))})),K(w,ql.EventType.ERROR,(F=>{P||(P=!0,uo(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),L.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),K(w,ql.EventType.MESSAGE,(F=>{if(!P){const ee=F.data[0];Be(!!ee,16349);const te=ee,ie=te?.error||te[0]?.error;if(ie){ue(Yt,`RPC '${e}' stream ${o} received error:`,ie);const be=ie.status;let ce=(function(R){const x=Tt[R];if(x!==void 0)return qT(x)})(be),Re=ie.message;ce===void 0&&(ce=W.INTERNAL,Re="Unknown error status: "+be+" with message "+ie.message),P=!0,L.a_(new le(ce,Re)),w.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,ee),L.u_(ee)}})),K(m,aT.STAT_EVENT,(F=>{F.stat===Dm.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Dm.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(i){return new RC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="PersistentStream";class rb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(I0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(I0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wI extends rb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?yr(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=qm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Pm(p)?{documents:OC(u,p)}:{query:kC(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=GT(u,f.resumeToken);const g=jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const g=jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=VC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=qm(this.serializer),n.removeTarget=e,this.q_(n)}}class SI extends rb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DC(e.writeResults,e.commitTime),s=yr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>NC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{}class RI extends AI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,zm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,zm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class CI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(ue(Js,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await _u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gh(g)})(this))}))})),this.Ra=new xI(s,o)}}async function Gh(i){if(sa(i))for(const e of i.da)await e(!0)}async function _u(i){for(const e of i.da)await e(!1)}function ib(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Dp(n)?Np(n):Ro(n).O_()&&Ip(n,e))}function Cp(i,e){const n=Ae(i),s=Ro(n);n.Ia.delete(e),s.O_()&&sb(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function Ip(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(i).Y_(e)}function sb(i,e){i.Va.Ue(e),Ro(i).Z_(e)}function Np(i){i.Va=new bC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.Ra.ua()}function Dp(i){return sa(i)&&!Ro(i).x_()&&i.Ia.size>0}function sa(i){return Ae(i).Ea.size===0}function ab(i){i.Va=void 0}async function II(i){i.Ra.set("Online")}async function NI(i){i.Ia.forEach(((e,n)=>{Ip(i,e)}))}async function DI(i,e){ab(i),Dp(i)?(i.Ra.ha(e),Np(i)):i.Ra.set("Unknown")}async function OI(i,e,n){if(i.Ra.set("Online"),e instanceof FT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vh(i,s)}else if(e instanceof rh?i.Va.Ze(e):e instanceof HT?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await tb(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Ft.EMPTY_BYTE_STRING,_.snapshotVersion)),sb(u,p);const w=new Hi(_.target,p,g,_.sequenceNumber);Ip(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(Js,"Failed to raise snapshot:",s),await vh(i,s)}}async function vh(i,e,n){if(!So(e))throw e;i.Ea.add(1),await _u(i),i.Ra.set("Offline"),n||(n=()=>tb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Js,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Gh(i)}))}function ob(i,e){return e().catch((n=>vh(i,n,e)))}async function $h(i){const e=Ae(i),n=ts(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dp;for(;kI(e);)try{const o=await mI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,MI(e,o)}catch(o){await vh(e,o)}lb(e)&&ub(e)}function kI(i){return sa(i)&&i.Ta.length<10}function MI(i,e){i.Ta.push(e);const n=ts(i);n.O_()&&n.X_&&n.ea(e.mutations)}function lb(i){return sa(i)&&!ts(i).x_()&&i.Ta.length>0}function ub(i){ts(i).start()}async function VI(i){ts(i).ra()}async function PI(i){const e=ts(i);for(const n of i.Ta)e.ea(n.mutations)}async function LI(i,e,n){const s=i.Ta.shift(),o=Tp.from(s,e,n);await ob(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await $h(i)}async function UI(i,e){e&&ts(i).X_&&await(async function(s,o){if((function(f){return vC(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();ts(s).B_(),await ob(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(s)}})(i,e),lb(i)&&ub(i)}async function N0(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ue(Js,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await _u(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function jI(i,e){const n=Ae(i);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function Ro(i){return i.ma||(i.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new wI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:II.bind(null,i),t_:NI.bind(null,i),r_:DI.bind(null,i),H_:OI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Dp(i)?Np(i):i.Ra.set("Unknown")):(await i.ma.stop(),ab(i))}))),i.ma}function ts(i){return i.fa||(i.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new SI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:VI.bind(null,i),r_:UI.bind(null,i),ta:PI.bind(null,i),na:LI.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await $h(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Js,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Op(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(i,e){if(Wr("AsyncQueue",`${e}: ${i}`),So(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.ga=new lt(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class po{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new po(e,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BI{constructor(){this.queries=O0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=O0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function O0(){return new ia((i=>NT(i)),jh)}async function qI(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new zI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=kp(f,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Mp(n)}async function HI(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function FI(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Mp(n)}function GI(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Mp(i){i.Ca.forEach((e=>{e.next()}))}var Gm,k0;(k0=Gm||(Gm={})).Ma="default",k0.Cache="cache";class $I{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.key=e}}class hb{constructor(e){this.key=e}}class KI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=DT(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new D0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const A=o.get(_),P=zh(this.query,w)?w:null,L=!!A&&this.mutatedKeys.has(A.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;A&&P?A.data.isEqual(P.data)?L!==K&&(s.track({type:3,doc:P}),F=!0):this.su(A,P)||(s.track({type:2,doc:P}),F=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!A&&P?(s.track({type:0,doc:P}),F=!0):A&&!P&&(s.track({type:1,doc:A}),F=!0,(p||g)&&(m=!0)),F&&(P?(f=f.add(P),u=K?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,w)=>(function(P,L){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:F})}};return K(P)-K(L)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new po(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new hb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new cb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vp="SyncEngine";class QI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class YI{constructor(e){this.key=e,this.hu=!1}}class XI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>NT(m)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(me.comparator),this.Au=new Map,this.Ru=new Sp,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WI(i,e,n=!0){const s=yb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await fb(s,e,n,!0),o}async function ZI(i,e){const n=yb(i);await fb(n,e,!0,!1)}async function fb(i,e,n,s){const o=await pI(i.localStore,gr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await JI(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&ib(i.remoteStore,o),m}async function JI(i,e,n,s,o){i.pu=(w,A,P)=>(async function(K,F,ee,te){let ie=F.view.ru(ee);ie.Cs&&(ie=await A0(K.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,ie))));const be=te&&te.targetChanges.get(F.targetId),ce=te&&te.targetMismatches.get(F.targetId)!=null,Re=F.view.applyChanges(ie,K.isPrimaryClient,be,ce);return V0(K,F.targetId,Re.au),Re.snapshot})(i,w,A,P);const u=await A0(i.localStore,e,!0),f=new KI(e,u.Qs),m=f.ru(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);V0(i,n,g.au);const _=new QI(e,n,f);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function eN(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!jh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Cp(s.remoteStore,o.targetId),$m(s,o.targetId)})).catch(wo)):($m(s,o.targetId),await Hm(s.localStore,o.targetId,!0))}async function tN(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Cp(n.remoteStore,s.targetId))}async function nN(i,e,n){const s=uN(i);try{const o=await(function(f,m){const p=Ae(f),g=nt.now(),_=m.reduce(((P,L)=>P.add(L.key)),Ve());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let L=Zr(),K=Ve();return p.Ns.getEntries(P,_).next((F=>{L=F,L.forEach(((ee,te)=>{te.isValidDocument()||(K=K.add(ee))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,L))).next((F=>{w=F;const ee=[];for(const te of m){const ie=mC(te,w.get(te.key).overlayedDocument);ie!=null&&ee.push(new ss(te.key,ie,bT(ie.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,ee,m)})).next((F=>{A=F;const ee=F.applyToLocalDocumentSet(w,K);return p.documentOverlayCache.saveOverlays(P,F.batchId,ee)}))})).then((()=>({batchId:A.batchId,changes:kT(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new lt(Me)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await vu(s,o.changes),await $h(s.remoteStore)}catch(o){const u=kp(o,"Failed to persist write");n.reject(u)}}async function db(i,e){const n=Ae(i);try{const s=await fI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Be(f.hu,14607):o.removedDocuments.size>0&&(Be(f.hu,42227),f.hu=!1))})),await vu(n,s,e)}catch(s){await wo(s)}}function M0(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach(((_,w)=>{for(const A of w.Sa)A.va(m)&&(g=!0)})),g&&Mp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rN(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new lt(me.comparator);f=f.insert(u,Wt.newNoDocument(u,we.min()));const m=Ve().add(u),p=new Hh(we.min(),new Map,new lt(Me),f,m);await db(s,p),s.du=s.du.remove(u),s.Au.delete(e),Pp(s)}else await Hm(s.localStore,e,!1).then((()=>$m(s,e,n))).catch(wo)}async function iN(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await hI(n.localStore,e);pb(n,s,null),mb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await wo(o)}}async function sN(i,e,n){const s=Ae(i);try{const o=await(function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(Be(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);pb(s,e,n),mb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await vu(s,o)}catch(o){await wo(o)}}function mb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function pb(i,e,n){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function $m(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||gb(i,s)}))}function gb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Cp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Pp(i))}function V0(i,e,n){for(const s of n)s instanceof cb?(i.Ru.addReference(s.key,e),aN(i,s)):s instanceof hb?(ue(Vp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||gb(i,s.key)):ve(19791,{wu:s})}function aN(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(Vp,"New document in limbo: "+n),i.Eu.add(s),Pp(i))}function Pp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(et.fromString(e)),s=i.fu.next();i.Au.set(s,new YI(n)),i.du=i.du.insert(n,s),ib(i.remoteStore,new Hi(gr(_p(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function vu(i,e,n){const s=Ae(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Rp.As(p.targetId,g);u.push(_)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const _=Ae(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(g,(A=>J.forEach(A.Es,(P=>_.persistence.referenceDelegate.addReference(w,A.targetId,P))).next((()=>J.forEach(A.ds,(P=>_.persistence.referenceDelegate.removeReference(w,A.targetId,P)))))))))}catch(w){if(!So(w))throw w;ue(xp,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const P=_.Ms.get(A),L=P.snapshotVersion,K=P.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(A,K)}}})(s.localStore,u))}async function oN(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ue(Vp,"User change. New user:",e.toKey());const s=await eb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Ls)}}function lN(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function yb(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rN.bind(null,e),e.Pu.H_=FI.bind(null,e.eventManager),e.Pu.yu=GI.bind(null,e.eventManager),e}function uN(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sN.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cI(this.persistence,new oI,e.initialUser,this.serializer)}Cu(e){return new JT(Ap.mi,this.serializer)}Du(e){return new yI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class cN extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof _h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $C(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new JT((s=>_h.mi(s,n)),this.serializer)}}class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oN.bind(null,this.syncEngine),await jI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BI})()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),s=(function(u){return new bI(u)})(e.databaseInfo);return(function(u,f,m,p){return new RI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new CI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>M0(this.syncEngine,n,0)),(function(){return C0.v()?new C0:new _I})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,_){const w=new XI(o,u,f,m,p,g);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ue(Js,"RemoteStore shutting down."),s.Ea.add(5),await _u(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class fN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=kp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function vm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ns,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await eb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function P0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await dN(i);ue(ns,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>N0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>N0(e.remoteStore,o))),i._onlineComponents=e}async function dN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ns,"Using user provided OfflineComponentProvider");try{await vm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await vm(i,new Eh)}}else ue(ns,"Using default OfflineComponentProvider"),await vm(i,new cN(void 0));return i._offlineComponents}async function _b(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ns,"Using user provided OnlineComponentProvider"),await P0(i,i._uninitializedComponentsProvider._online)):(ue(ns,"Using default OnlineComponentProvider"),await P0(i,new Km))),i._onlineComponents}function mN(i){return _b(i).then((e=>e.syncEngine))}async function L0(i){const e=await _b(i),n=e.eventManager;return n.onListen=WI.bind(null,e.syncEngine),n.onUnlisten=eN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tN.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firestore.googleapis.com",j0=!0;class z0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eb,this.ssl=j0}else this.host=e.host,this.ssl=e.ssl??j0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FC)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new y2;switch(s.type){case"firstParty":return new T2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=U0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),U0.delete(n),s.terminate())})(this),Promise.resolve()}}function pN(i,e,n,s={}){i=Yi(i,Kh);const o=Eo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(VE(`https://${m}`),PE("Firestore",!0)),u.host!==Eb&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Xs(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Xt.MOCK_USER;else{g=HA(s.mockUserToken,i._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Xt(w)}i._authCredentials=new _2(new cT(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class St{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(pu(n,St._jsonSchema))return new St(e,s||null,new me(et.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:wt("string",St._jsonSchemaVersion),referencePath:wt("string")};class Xi extends aa{constructor(e,n,s){super(e,n,_p(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new me(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function Th(i,e,...n){if(i=At(i),hT("collection","path",e),i instanceof Kh){const s=et.fromString(e,...n);return Zv(s),new Xi(i,null,s)}{if(!(i instanceof St||i instanceof Xi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Zv(s),new Xi(i.firestore,null,s)}}function uu(i,e,...n){if(i=At(i),arguments.length===1&&(e=fp.newId()),hT("doc","path",e),i instanceof Kh){const s=et.fromString(e,...n);return Wv(s),new St(i,null,new me(s))}{if(!(i instanceof St||i instanceof Xi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Wv(s),new St(i.firestore,i instanceof Xi?i.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="AsyncQueue";class q0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nb(this,"async_queue_retry"),this._c=()=>{const s=_m();s&&ue(B0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;ue(B0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",H0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Op.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:H0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function H0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class go extends Kh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new q0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q0(e),this._firestoreClient=void 0,await e}}}function gN(i,e){const n=typeof i=="object"?i:zE(),s=typeof i=="string"?i:dh,o=cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=BA("firestore");u&&pN(o,...u)}return o}function Tb(i){if(i._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||yN(i),i._firestoreClient}function yN(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new U2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,vb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new fN(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ft.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:wt("string",Mn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(pu(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:wt("string",_r._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vr(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:wt("string",vr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=/^__.*__$/;class vN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class bb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class Lp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wb(this.Ac)&&_N.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(e)}Cc(e,n,s,o=!1){return new Lp({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Up(i){const e=i._freezeSettings(),n=Fh(i._databaseId);return new EN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function TN(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);zp("Data must be an object, but it was:",f,s);const m=Sb(s,f);let p,g;if(u.merge)p=new Tn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const A=Qm(e,w,n);if(!f.contains(A))throw new le(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Rb(_,A)||_.push(A)}p=new Tn(_),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new vN(new hn(m),p,g)}class Xh extends Yh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}class jp extends Yh{_toFieldTransform(e){return new cC(e.path,new au)}isEqual(e){return e instanceof jp}}function bN(i,e,n,s){const o=i.Cc(1,e,n);zp("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();is(s,((p,g)=>{const _=Bp(e,p,n);g=At(g);const w=o.yc(_);if(g instanceof Xh)u.push(_);else{const A=Eu(g,w);A!=null&&(u.push(_),f.set(_,A))}}));const m=new Tn(u);return new bb(f,m,o.fieldTransforms)}function wN(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[Qm(e,s,n)],p=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Qm(e,u[A])),p.push(u[A+1]);const g=[],_=hn.empty();for(let A=m.length-1;A>=0;--A)if(!Rb(g,m[A])){const P=m[A];let L=p[A];L=At(L);const K=f.yc(P);if(L instanceof Xh)g.push(P);else{const F=Eu(L,K);F!=null&&(g.push(P),_.set(P,F))}}const w=new Tn(g);return new bb(_,w,f.fieldTransforms)}function SN(i,e,n,s=!1){return Eu(n,i.Cc(s?4:3,e))}function Eu(i,e){if(Ab(i=At(i)))return zp("Unsupported field value:",e,i),Sb(i,e);if(i instanceof Yh)return(function(s,o){if(!wb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Eu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof _r)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:GT(o.serializer,s._byteString)};if(s instanceof St){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vr)return(function(f,m){return{mapValue:{fields:{[ET]:{stringValue:TT},[mh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return vp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Vh(s)}`)})(i,e)}function Sb(i,e){const n={};return mT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(i,((s,o)=>{const u=Eu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Ab(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof _r||i instanceof Mn||i instanceof St||i instanceof Yh||i instanceof vr)}function zp(i,e,n){if(!Ab(n)||!fT(n)){const s=Vh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Qm(i,e,n){if((e=At(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return Bp(i,e);throw bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const AN=new RegExp("[~\\*/\\[\\]]");function Bp(i,e,n){if(e.search(AN)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function bh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(W.INVALID_ARGUMENT,m+i+p)}function Rb(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RN extends xb{data(){return super.data()}}function qp(i,e){return typeof e=="string"?Bp(i,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class Cb extends Hp{}function Ib(i,e,...n){let s=[];e instanceof Hp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Gp)).length,m=u.filter((p=>p instanceof Fp)).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Fp extends Cb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Fp(e,n,s)}_apply(e){const n=this._parse(e);return Db(e._query,n),new aa(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=Up(e.firestore);return(function(u,f,m,p,g,_,w){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){$0(w,_);const L=[];for(const K of w)L.push(G0(p,u,K));A={arrayValue:{values:L}}}else A=G0(p,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||$0(w,_),A=SN(m,f,w,_==="in"||_==="not-in");return bt.create(g,_,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Gp extends Hp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Db(f,p),f=Lm(f,p)})(e._query,n),new aa(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $p extends Cb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $p(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,f)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ao(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Nb(i,e="asc"){const n=e,s=qp("orderBy",i);return $p._create(s,n)}function G0(i,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!me.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a0(i,new me(s))}if(n instanceof St)return a0(i,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function $0(i,e){if(!Array.isArray(i)||i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Db(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CN{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return is(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[mh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new vr(n)}convertGeoPoint(e){return new _r(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Be(WT(s),9688,{name:e});const o=new ru(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Wr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends xb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(qp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:wt("string",Ys._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class ih extends Ys{data(e={}){return super.data(e)}}class io{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ih(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:NN(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:wt("string",io._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Ob extends CN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function kb(i,e,n,...s){i=Yi(i,St);const o=Yi(i.firestore,go),u=Up(o);let f;return f=typeof(e=At(e))=="string"||e instanceof Qh?wN(u,"updateDoc",i._key,e,n,s):bN(u,"updateDoc",i._key,e),Kp(o,[f.toMutation(i._key,Xn.exists(!0))])}function Mb(i){return Kp(Yi(i.firestore,go),[new Ep(i._key,Xn.none())])}function Vb(i,e){const n=Yi(i.firestore,go),s=uu(i),o=IN(i.converter,e);return Kp(n,[TN(Up(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then((()=>s))}function Pb(i,...e){i=At(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||F0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(F0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(i instanceof St)f=Yi(i.firestore,go),m=_p(i._key.path),u={next:p=>{e[s]&&e[s](DN(f,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Yi(i,aa);f=Yi(p.firestore,go),m=p._query;const g=new Ob(f);u={next:_=>{e[s]&&e[s](new io(f,g,p,_))},error:e[s+1],complete:e[s+2]},xN(i._query)}return(function(g,_,w,A){const P=new hN(A),L=new $I(_,P,w);return g.asyncQueue.enqueueAndForget((async()=>qI(await L0(g),L))),()=>{P.Nu(),g.asyncQueue.enqueueAndForget((async()=>HI(await L0(g),L)))}})(Tb(f),m,o,u)}function Kp(i,e){return(function(s,o){const u=new Qs;return s.asyncQueue.enqueueAndForget((async()=>nN(await mN(s),o,u))),u.promise})(Tb(i),e)}function DN(i,e,n){const s=n.docs.get(e._key),o=new Ob(i);return new Ys(i,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function wh(){return new jp("serverTimestamp")}(function(e,n=!0){(function(o){bo=o})(To),lo(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new go(new v2(s.getProvider("auth-internal")),new b2(f,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,_)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ki(Kv,Qv,e),Ki(Kv,Qv,"esm2020")})();function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ON=Lb,Ub=new du("auth","Firebase",Lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new lp("@firebase/auth");function kN(i,...e){Sh.logLevel<=ke.WARN&&Sh.warn(`Auth (${To}): ${i}`,...e)}function sh(i,...e){Sh.logLevel<=ke.ERROR&&Sh.error(`Auth (${To}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(i,...e){throw Yp(i,...e)}function Wn(i,...e){return Yp(i,...e)}function Qp(i,e,n){const s={...ON(),[e]:n};return new du("auth","Firebase",s).create(e,{appName:i.name})}function Qr(i){return Qp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MN(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Pn(i,"argument-error"),Qp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Ub.create(i,...e)}function _e(i,e,...n){if(!i)throw Yp(e,...n)}function Gr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw sh(e),new Error(e)}function Jr(i,e){i||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){return typeof self<"u"&&self.location?.href||""}function VN(){return K0()==="http:"||K0()==="https:"}function K0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VN()||YA()||"connection"in navigator)?navigator.onLine:!0}function LN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=$A()||XA()}get(){return PN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i,e){Jr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zN=new Tu(3e4,6e4);function as(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ti(i,e,n,s,o={}){return zb(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=mu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return QA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(g.credentials="include"),jb.fetch()(await Bb(i,i.config.apiHost,n,m),g)})}async function zb(i,e,n){i._canInitEmulator=!1;const s={...UN,...e};try{const o=new qN(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Qp(i,_,g);Pn(i,_)}}catch(o){if(o instanceof br)throw o;Pn(i,"network-request-failed",{message:String(o)})}}async function bu(i,e,n,s,o={}){const u=await ti(i,e,n,s,o);return"mfaPendingCredential"in u&&Pn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Bb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Xp(i.config,o):`${i.config.apiScheme}://${o}`;return jN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function BN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Wn(this.auth,"network-request-failed")),zN.get())})}}function Xc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Wn(i,e,s);return o.customData._tokenResponse=n,o}function Q0(i){return i!==void 0&&i.enterprise!==void 0}class HN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FN(i,e){return ti(i,"GET","/v2/recaptchaConfig",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(i,e){return ti(i,"POST","/v1/accounts:delete",e)}async function Ah(i,e){return ti(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $N(i,e=!1){const n=At(i),s=await n.getIdToken(e),o=Wp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Wl(Em(o.auth_time)),issuedAtTime:Wl(Em(o.iat)),expirationTime:Wl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Em(i){return Number(i)*1e3}function Wp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=DE(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Y0(i){const e=Wp(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof br&&KN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function KN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(i){const e=i.auth,n=await i.getIdToken(),s=await yo(i,Ah(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?qb(o.providerUserInfo):[],f=XN(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function YN(i){const e=At(i);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function qb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(i,e){const n=await zb(i,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Bb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(p.credentials="include"),jb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZN(i,e){return ti(i,"POST","/v2/accounts:revokeToken",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Y0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new QN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await yo(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $N(this,e)}reload(){return YN(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await yo(this,GN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:P,providerData:L,stsTokenManager:K}=n;_e(w&&K,e,"internal-error");const F=so.fromJSON(this.name,K);_e(typeof w=="string",e,"internal-error"),ji(s,e.name),ji(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),ji(u,e.name),ji(f,e.name),ji(m,e.name),ji(p,e.name),ji(g,e.name),ji(_,e.name);const ee=new Yn({uid:w,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:_});return L&&Array.isArray(L)&&(ee.providerData=L.map(te=>({...te}))),p&&(ee._redirectEventId=p),ee}static async _fromIdTokenResponse(e,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new so;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;function $r(i){Jr(i instanceof Function,"Expected a class definition");let e=X0.get(i);return e?(Jr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,X0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hb.type="NONE";const W0=Hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(i,e,n){return`firebase:${i}:${e}:${n}`}class ao{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ao($r(W0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||$r(W0);const f=ah(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(f);if(_){let w;if(typeof _=="string"){const A=await Ah(e,{idToken:_}).catch(()=>{});if(!A)break;w=await Yn._fromGetAccountInfoResponse(e,A,_)}else w=Yn._fromJSON(e,_);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yb(e))return"Blackberry";if(Xb(e))return"Webos";if(Gb(e))return"Safari";if((e.includes("chrome/")||$b(e))&&!e.includes("edge/"))return"Chrome";if(Qb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Fb(i=Zt()){return/firefox\//i.test(i)}function Gb(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $b(i=Zt()){return/crios\//i.test(i)}function Kb(i=Zt()){return/iemobile/i.test(i)}function Qb(i=Zt()){return/android/i.test(i)}function Yb(i=Zt()){return/blackberry/i.test(i)}function Xb(i=Zt()){return/webos/i.test(i)}function Zp(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function JN(i=Zt()){return Zp(i)&&!!window.navigator?.standalone}function eD(){return WA()&&document.documentMode===10}function Wb(i=Zt()){return Zp(i)||Qb(i)||Xb(i)||Yb(i)||/windows phone/i.test(i)||Kb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(i,e=[]){let n;switch(i){case"Browser":n=Z0(Zt());break;case"Worker":n=`${Z0(Zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(i,e={}){return ti(i,"GET","/v2/passwordPolicy",as(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=6;class iD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J0(this),this.idTokenSubscription=new J0(this),this.beforeStateQueue=new tD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(En(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(Qr(this));const n=e?At(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nD(this),n=new iD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function os(i){return At(i)}class J0{constructor(e){this.auth=e,this.observer=null,this.addObserver=sR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aD(i){Wh=i}function Jb(i){return Wh.loadJS(i)}function oD(){return Wh.recaptchaEnterpriseScript}function lD(){return Wh.gapiScript}function uD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class cD{constructor(){this.enterprise=new hD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fD="recaptcha-enterprise",e1="NO_RECAPTCHA";class dD{constructor(e){this.type=fD,this.auth=os(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{FN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new HN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Q0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(e1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Q0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oD();p.length!==0&&(p+=m),Jb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function eE(i,e,n,s=!1,o=!1){const u=new dD(i);let f;if(o)f=e1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Wm(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await eE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await eE(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(i,e){const n=cp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return o;Pn(o,"already-initialized")}return n.initialize({options:e})}function pD(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map($r);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function gD(i,e,n){const s=os(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=t1(e),{host:f,port:m}=yD(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Xs(g,s.config.emulator)&&Xs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(VE(`${u}//${f}${p}`),PE("Auth",!0)):_D()}function t1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function yD(i){const e=t1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:tE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:tE(f)}}}function tE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _D(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function vD(i,e){return ti(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(i,e){return bu(i,"POST","/v1/accounts:signInWithPassword",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(i,e){return bu(i,"POST","/v1/accounts:signInWithEmailLink",as(i,e))}async function bD(i,e){return bu(i,"POST","/v1/accounts:signInWithEmailLink",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,n,"signInWithPassword",ED);case"emailLink":return TD(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,s,"signUpPassword",vD);case"emailLink":return bD(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(i,e){return bu(i,"POST","/v1/accounts:signInWithIdp",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="http://localhost";class ea extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:wD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AD(i){const e=zl(Bl(i)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(i)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||i}class eg{constructor(e){const n=zl(Bl(e)),s=n.apiKey??null,o=n.oobCode??null,u=SD(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AD(e);try{return new eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=eg.parseLink(n);return _e(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends wu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends wu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends wu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qi.credential(n,s)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(i,e){return bu(i,"POST","/v1/accounts:signUp",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),f=nE(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=nE(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function nE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends br{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xh(e,n,s,o)}}function n1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(i,u,e,s):u})}async function xD(i,e,n=!1){const s=await yo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(i,e,n=!1){const{auth:s}=i;if(En(s.app))return Promise.reject(Qr(s));const o="reauthenticate";try{const u=await yo(i,n1(s,o,e,i),n);_e(u.idToken,s,"internal-error");const f=Wp(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(i.uid===m,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Pn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(i,e,n=!1){if(En(i.app))return Promise.reject(Qr(i));const s="signIn",o=await n1(i,s,e),u=await ta._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function ID(i,e){return r1(os(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(i){const e=os(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ND(i,e,n){if(En(i.app))return Promise.reject(Qr(i));const s=os(i),f=await Wm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&i1(i),p}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function DD(i,e,n){return En(i.app)?Promise.reject(Qr(i)):ID(At(i),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&i1(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(i,e){return ti(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=At(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await yo(s,OD(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function MD(i,e,n,s){return At(i).onIdTokenChanged(e,n,s)}function VD(i,e,n){return At(i).beforeAuthStateChanged(e,n)}function PD(i,e,n,s){return At(i).onAuthStateChanged(e,n,s)}function LD(i){return At(i).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=1e3,jD=10;class a1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);eD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a1.type="LOCAL";const zD=a1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}o1.type="SESSION";const l1=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await BD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=ng("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function HD(i){Er().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function FD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GD(){return navigator?.serviceWorker?.controller||null}function $D(){return u1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebaseLocalStorageDb",KD=1,Ih="firebaseLocalStorage",h1="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(i,e){return i.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function QD(){const i=indexedDB.deleteDatabase(c1);return new Su(i).toPromise()}function Zm(){const i=indexedDB.open(c1,KD);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ih,{keyPath:h1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await QD(),e(await Zm()))})})}async function rE(i,e,n){const s=Jh(i,!0).put({[h1]:e,value:n});return new Su(s).toPromise()}async function YD(i,e){const n=Jh(i,!1).get(e),s=await new Su(n).toPromise();return s===void 0?null:s.value}function iE(i,e){const n=Jh(i,!0).delete(e);return new Su(n).toPromise()}const XD=800,WD=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>WD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance($D()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FD(),!this.activeServiceWorker)return;this.sender=new qD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await rE(e,Ch,"1"),await iE(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>YD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const ZD=f1;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i,e){return e?$r(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JD(i){return r1(i.auth,new rg(i),i.bypassAuthState)}function eO(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),CD(n,new rg(i),i.bypassAuthState)}async function tO(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),xD(n,new rg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JD;case"linkViaPopup":case"linkViaRedirect":return tO;case"reauthViaPopup":case"reauthViaRedirect":return eO;default:Pn(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new Tu(2e3,1e4);async function rO(i,e,n){if(En(i.app))return Promise.reject(Wn(i,"operation-not-supported-in-this-environment"));const s=os(i);MN(i,e,tg);const o=d1(s,n);return new Ks(s,"signInViaPopup",e,o).executeNotNull()}class Ks extends m1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nO.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="pendingRedirect",oh=new Map;class sO extends m1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const s=await aO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aO(i,e){const n=uO(e),s=lO(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oO(i,e){oh.set(i._key(),e)}function lO(i){return $r(i._redirectPersistence)}function uO(i){return ah(iO,i.config.apiKey,i.name)}async function cO(i,e,n=!1){if(En(i.app))return Promise.reject(Qr(i));const s=os(i),o=d1(s,e),f=await new sO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=600*1e3;class fO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!p1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hO&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function p1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function dO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(i,e={}){return ti(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gO=/^https?/;async function yO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await mO(i);for(const n of e)try{if(_O(n))return}catch{}Pn(i,"unauthorized-domain")}function _O(i){const e=Ym(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gO.test(n))return!1;if(pO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Tu(3e4,6e4);function aE(){const i=Er().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function EO(i){return new Promise((e,n)=>{function s(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(Wn(i,"network-request-failed"))},timeout:vO.get()})}if(Er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Er().gapi?.load)s();else{const o=uD("iframefcb");return Er()[o]=()=>{gapi.load?s():n(Wn(i,"network-request-failed"))},Jb(`${lD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw lh=null,e})}let lh=null;function TO(i){return lh=lh||EO(i),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Tu(5e3,15e3),wO="__/auth/iframe",SO="emulator/auth/iframe",AO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xO(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Xp(e,SO):`https://${i.config.authDomain}/${wO}`,s={apiKey:e.apiKey,appName:i.name,v:To},o=RO.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function CO(i){const e=await TO(i),n=Er().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:xO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Wn(i,"network-request-failed"),m=Er().setTimeout(()=>{u(f)},bO.get());function p(){Er().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NO=500,DO=600,OO="_blank",kO="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MO(i,e,n,s=NO,o=DO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...IO,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();n&&(m=$b(g)?OO:n),Fb(g)&&(e=e||kO,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[P,L])=>`${A}${P}=${L},`,"");if(JN(g)&&m!=="_self")return VO(e||"",m),new oE(null);const w=window.open(e||"",m,_);_e(w,i,"popup-blocked");try{w.focus()}catch{}return new oE(w)}function VO(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="__/auth/handler",LO="emulator/auth/handler",UO=encodeURIComponent("fac");async function lE(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:To,eventId:o};if(e instanceof tg){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",iR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))f[_]=w}if(e instanceof wu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(f.scopes=_.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${UO}=${encodeURIComponent(p)}`:"";return`${jO(i)}?${mu(m).slice(1)}${g}`}function jO({config:i}){return i.emulator?Xp(i,LO):`https://${i.authDomain}/${PO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class zO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=cO,this._overrideRedirectResult=oO}async _openPopup(e,n,s,o){Jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await lE(e,n,s,Ym(),o);return MO(e,u,ng())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await lE(e,n,s,Ym(),o);return HD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Jr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await CO(e),s=new fO(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wb()||Gb()||Zp()}}const BO=zO;var uE="@firebase/auth",cE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FO(i){lo(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zb(i)},g=new sD(s,o,u,p);return pD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new Ws("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(s=>new qO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(uE,cE,HO(i)),Ki(uE,cE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=300,$O=ME("authIdTokenMaxAge")||GO;let hE=null;const KO=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>$O)return;const o=n?.token;hE!==o&&(hE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QO(i=zE()){const e=cp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=mD(i,{popupRedirectResolver:BO,persistence:[ZD,zD,l1]}),s=ME("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=KO(u.toString());VD(n,f,()=>f(n.currentUser)),MD(n,m=>f(m))}}const o=OE("auth");return o&&gD(n,`http://${o}`),n}function YO(){return document.getElementsByTagName("head")?.[0]??document}aD({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Wn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",YO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FO("Browser");const XO={apiKey:"AIzaSyAZMh2Q_QBKb6y6RJFPkYZOz_ntJYKqgrQ",authDomain:"idea-board-c0239.firebaseapp.com",databaseURL:"https://idea-board-c0239-default-rtdb.firebaseio.com",projectId:"idea-board-c0239",storageBucket:"idea-board-c0239.firebasestorage.app",messagingSenderId:"560114265833",appId:"1:560114265833:web:d5c01ff5a75b0ba2d80a78"},g1=jE(XO),Fi=gN(g1),jl=QO(g1),ef=()=>{const[i,e]=V.useState([]),{user:n}=ra(),s=V.useMemo(()=>n?.uid,[n?.uid]);return V.useEffect(()=>{if(!s){e([]);return}try{const m=Th(Fi,"users",s,"notes"),p=Ib(m,Nb("createdAt","desc")),g=Pb(p,_=>{const w=_.docs.map(A=>{const P=A.data();return{id:A.id,title:P.title,content:P.content,color:P.color,createdAt:P.createdAt,updatedAt:P.updatedAt}});e(w)},_=>{console.error("Error loading notes:",_)});return()=>g()}catch(m){console.error("Firebase configuration error:",m)}},[s]),{notes:i,addNote:async(m,p,g)=>{if(!s)throw new Error("User must be logged in to add notes");try{const _=Th(Fi,"users",s,"notes");await Vb(_,{title:m,content:p,color:g,createdAt:wh(),updatedAt:null})}catch(_){throw console.error("Error adding note:",_),new Error("Failed to add note: "+_.message)}},editNote:async(m,p,g,_)=>{if(!s)throw new Error("User must be logged in to update notes");try{const w=uu(Fi,"users",s,"notes",m);await kb(w,{title:p,content:g,color:_,updatedAt:wh()})}catch(w){throw console.error("Error updating note:",w),new Error("Failed to update note: "+w.message)}},deleteNote:async m=>{if(!s)throw new Error("User must be logged in to delete notes");try{const p=uu(Fi,"users",s,"notes",m);await Mb(p)}catch(p){throw console.error("Error deleting note:",p),new Error("Failed to delete note: "+p.message)}}}},Co=()=>{const[i,e]=V.useState([]),{user:n}=ra(),s=V.useMemo(()=>n?.uid,[n?.uid]);return V.useEffect(()=>{if(!s){e([]);return}try{const m=Th(Fi,"users",s,"tasks"),p=Ib(m,Nb("createdAt","desc")),g=Pb(p,_=>{const w=_.docs.map(A=>{const P=A.data();return{id:A.id,title:P.title,description:P.description,status:P.status,priority:P.priority,createdAt:P.createdAt,updatedAt:P.updatedAt}});e(w)},_=>{console.error("Error loading tasks:",_)});return()=>g()}catch(m){console.error("Firebase configuration error:",m)}},[s]),{tasks:i,addTask:async(m,p,g)=>{if(!s)throw new Error("User must be logged in to add notes");try{const _=Th(Fi,"users",s,"tasks");await Vb(_,{title:m,description:p,status:"open",priority:g,createdAt:wh(),updatedAt:null})}catch(_){throw console.error("Error adding note:",_),new Error("Failed to add note: "+_.message)}},editTask:async(m,p,g,_,w)=>{if(!s)throw new Error("User must be logged in to update notes");try{const A=uu(Fi,"users",s,"tasks",m);await kb(A,{title:p,description:g,status:_,priority:w,updatedAt:wh()})}catch(A){throw console.error("Error updating task:",A),new Error("Failed to update task: "+A.message)}},deleteTask:async m=>{if(!s)throw new Error("User must be logged in to delete tasks");try{const p=uu(Fi,"users",s,"tasks",m);await Mb(p)}catch(p){throw console.error("Error deleting task:",p),new Error("Failed to delete task: "+p.message)}}}},y1=V.createContext(void 0),ig=()=>{const i=V.useContext(y1);if(i===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return i},ei=({children:i,title:e,className:n,fullscreenMobile:s=!1})=>{const{openSidebar:o}=ig();return T.jsxs("div",{className:`flex flex-col gap-6 lg:ml-64 ${s?"sm:p-6":"p-6"} ${n}`,children:[T.jsxs("div",{className:`flex items-center gap-3 ${s&&"pt-6 sm:pt-0 pl-6 sm:pl-0"}`,children:[T.jsx("button",{onClick:o,className:"cursor-pointer lg:hidden",children:T.jsx(Zx,{className:"w-[30px] h-[30px]",strokeWidth:2})}),T.jsx("h1",{className:"text-3xl font-bold",children:e})]}),i]})};function WO(){const{user:i}=ra(),{notes:e}=ef(),{tasks:n}=Co(),s=V.useMemo(()=>[{id:"sticky-wall",path:"/sticky-wall",label:"Sticky Wall",count:e.length,itemName:e.length===1?"note":"notes",icon:ZE,bgGradient:"from-blue-500 to-cyan-500",bgLight:"bg-blue-50",iconColor:"text-blue-600",hoverBorder:"hover:border-blue-300"},{id:"tasks",path:"/tasks",label:"Tasks",count:n.length,itemName:n.length===1?"task":"tasks",icon:WE,bgGradient:"from-green-500 to-emerald-500",bgLight:"bg-green-50",iconColor:"text-green-600",hoverBorder:"hover:border-green-300"}],[e.length,n.length]),o=i?.displayName||i?.email?.split("@")[0]||"User";return T.jsx(ei,{title:"Dashboard",className:"lg:w-2/3",children:T.jsxs("div",{className:"space-y-6",children:[T.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-gray-200",children:T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:T.jsx(h2,{className:"w-8 h-8 text-indigo-600"})})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",o,"!"]}),T.jsx("p",{className:"text-gray-600 text-sm sm:text-base truncate",children:i?.email})]})]})}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.map(u=>{const f=u.icon;return T.jsx(op,{to:u.path,className:"bg-white rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-all hover:border-indigo-200 group",children:T.jsxs("div",{className:"flex items-start",children:[T.jsx("div",{className:`flex-shrink-0 ${u.bgLight} rounded-lg p-3 group-hover:scale-110 transition-transform`,children:T.jsx(f,{className:`w-6 h-6 ${u.iconColor}`})}),T.jsxs("div",{className:"ml-4 flex-1",children:[T.jsx("p",{className:"text-sm font-medium text-gray-500",children:u.label}),T.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[u.count," ",u.itemName]})]})]})},u.id)})})]})})}const ZO=()=>{const{isSidebarOpen:i,closeSidebar:e}=ig(),{logout:n,user:s}=ra(),o=Ln(),u=[{title:"Dashboard",path:"/dashboard",icon:Fx,color:"text-indigo-600",bgColor:"bg-indigo-50"},{title:"Sticky Wall",path:"/sticky-wall",icon:ZE,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Tasks",path:"/tasks",icon:WE,color:"text-green-600",bgColor:"bg-green-50"}],f=V.useCallback(async()=>{try{await n(),o("/login")}catch(g){console.error("Error during logout:",g)}},[n,o]),m=s?.displayName||s?.email?.split("@")[0]||"User",p=(s?.displayName?.[0]||s?.email?.[0]||"U").toUpperCase();return T.jsxs(T.Fragment,{children:[i&&T.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:e}),T.jsxs("div",{className:`
          fixed top-0 left-0 h-screen bg-white shadow-2xl z-50
          transform transition-transform duration-300 ease-in-out
          w-80 lg:w-64 flex flex-col
          ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[T.jsxs("div",{className:"p-6 border-b border-gray-100",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("div",{className:"flex items-center gap-3",children:T.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Idea Board"})}),T.jsx("button",{onClick:e,className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",children:T.jsx(Nm,{className:"w-5 h-5 text-gray-500"})})]}),s&&T.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-3",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-lg shadow-indigo-500/30",children:p}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:m}),T.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.email})]})]})})]}),T.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:T.jsx("ul",{className:"space-y-2",children:u.map(g=>{const _=g.icon;return T.jsx("li",{children:T.jsx(op,{to:g.path,onClick:e,className:({isActive:w})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${w?`${g.bgColor} ${g.color} shadow-sm`:"text-gray-700 hover:bg-gray-50"}`,children:({isActive:w})=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`${w?g.color:"text-gray-400 group-hover:text-gray-600"} transition-colors`,children:T.jsx(_,{className:"w-5 h-5"})}),T.jsx("span",{className:`font-medium ${w&&"font-semibold"}`,children:g.title})]})})},g.path)})})}),T.jsx("div",{className:"p-4 border-t border-gray-100",children:T.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 cursor-pointer",children:[T.jsx(Xx,{className:"w-4 h-4"}),T.jsx("span",{children:"Logout"})]})})]})]})},tf={yellow:"bg-yellow-100",rose:"bg-rose-100",sky:"bg-sky-100",emerald:"bg-emerald-100",violet:"bg-violet-100",amber:"bg-amber-100"},JO=tf.yellow,e4="medium",t4="open",n4=[{value:"low",label:"Low",color:"bg-white text-green-600 border-green-300 hover:border-green-400",activeColor:"bg-green-50 text-green-700 border-green-500",icon:""},{value:"medium",label:"Medium",color:"bg-white text-yellow-600 border-yellow-300 hover:border-yellow-400",activeColor:"bg-yellow-50 text-yellow-700 border-yellow-500",icon:""},{value:"high",label:"High",color:"bg-white text-red-600 border-red-300 hover:border-red-400",activeColor:"bg-red-50 text-red-700 border-red-500",icon:""}];function _1(){const[i,e]=V.useState(""),[n,s]=V.useState(""),[o,u]=V.useState(JO),f=V.useMemo(()=>!i.trim()&&!n.trim(),[i,n]),m=V.useCallback(p=>{e(p.title),s(p.content),u(p.color)},[]);return{title:i,content:n,color:o,isSaveDisabled:f,setTitle:e,setContent:s,setColor:u,updateFromNote:m}}function v1({color:i,children:e}){return T.jsx("div",{className:`${tf[i]} sm:rounded-2xl shadow-xl overflow-hidden flex flex-col min-h-[calc(100vh-8rem)] sm:min-h-[600px]`,children:e})}function E1({content:i,isEditing:e,onChange:n}){return T.jsx("div",{className:"p-6 sm:p-8 flex-1 overflow-y-auto",children:e?T.jsx("textarea",{value:i,onChange:s=>n?.(s.target.value),className:"w-full px-4 py-3 bg-white/70 border-2 border-gray-300 rounded-xl resize-none outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-700 text-base leading-relaxed min-h-[300px]",placeholder:"Content..."}):T.jsx("div",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-wrap",children:i||"No content"})})}function r4({selectedColor:i,onColorChange:e}){return T.jsxs("div",{className:"flex items-center flex-start gap-3 w-full",children:[T.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Color:"}),T.jsx("div",{className:"flex gap-2",children:Object.entries(tf).map(([n,s])=>T.jsx("button",{type:"button",onClick:()=>e(n),className:`w-8 h-8 rounded-full ${s} border-2 transition-transform hover:scale-110 cursor-pointer ${i===n?"border-slate-800 scale-110":"border-slate-300"}`,title:n},n))})]})}function T1({isEditing:i,color:e,timestamp:n,isSaveDisabled:s=!1,onColorChange:o,onCancel:u,onSave:f,saveButtonText:m="Save",cancelButtonText:p="Cancel"}){return T.jsx("div",{className:"p-6 bg-white/30 backdrop-blur-sm border-t border-gray-200/50 flex-shrink-0",children:i?T.jsxs("div",{className:"flex items-center flex-col sm:flex-row sm:justify-between gap-4",children:[T.jsx(r4,{selectedColor:e,onColorChange:o}),T.jsxs("div",{className:`w-full flex items-center gap-3 ${i?"justify-end":"justify-between"}`,children:[T.jsx("button",{onClick:u,className:"w-full px-5 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition-colors cursor-pointer text-sm",children:p}),T.jsx("button",{onClick:f,disabled:s,title:s?"Add title or content":void 0,className:"w-full px-5 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none text-sm",children:m})]})]}):n&&T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[T.jsx(YE,{className:"w-3.5 h-3.5"}),T.jsx("span",{children:n})]})})}function b1({title:i,isEditing:e,showDeleteConfirm:n=!1,onBack:s,onEdit:o,onDelete:u,onTitleChange:f}){return T.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between border-b border-gray-200/50 flex-shrink-0 gap-3",children:[T.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[T.jsx("button",{onClick:s,className:"flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer flex-shrink-0 hover:bg-white/30 text-gray-700",children:T.jsx(KE,{className:"w-5 h-5",strokeWidth:2})}),e?T.jsx("input",{type:"text",value:i,onChange:m=>f?.(m.target.value),maxLength:50,className:"flex-1 px-3 py-2 bg-white/70 border-2 border-gray-300 rounded-lg outline-none focus:border-blue-500 focus:bg-white transition-all duration-200 text-gray-800 text-lg font-bold min-w-0",placeholder:"Title..."}):T.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 truncate flex-1 min-w-0",children:i||"No title"})]}),(o||u)&&T.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!e&&o&&T.jsx("button",{onClick:o,className:"flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer bg-white/50 hover:bg-white/70 text-gray-700",children:T.jsx(Im,{className:"w-4 h-4"})}),u&&T.jsx("button",{onClick:u,className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer ${n?"bg-red-600 hover:bg-red-700 text-white":"bg-white/50 hover:bg-white/70 text-gray-700"}`,children:T.jsx(eu,{className:"w-4 h-4"})})]})]})}const i4=()=>{const i=Ln(),{addNote:e}=ef(),{title:n,content:s,color:o,isSaveDisabled:u,setTitle:f,setContent:m,setColor:p}=_1(),g=V.useCallback(()=>{i("/sticky-wall")},[i]),_=V.useCallback(async()=>{if(!u)try{await e(n,s,o),i("/sticky-wall")}catch(w){console.error("Error creating note:",w)}},[e,o,s,i,n,u]);return T.jsx(ei,{title:"New Note",className:"lg:w-2/3",fullscreenMobile:!0,children:T.jsxs(v1,{color:o,children:[T.jsx(b1,{title:n,isEditing:!0,onBack:g,onTitleChange:f}),T.jsx(E1,{content:s,isEditing:!0,onChange:m}),T.jsx(T1,{isEditing:!0,color:o,isSaveDisabled:u,onColorChange:p,onCancel:g,onSave:_,saveButtonText:"Create",cancelButtonText:"Cancel"})]})})},w1=(i,e="short")=>{if(!i)return"Date not available";const n=i.toDate(),o=new Date().getTime()-n.getTime(),u=Math.floor(o/(1e3*60*60*24));if(e==="relative"){const f=Math.floor(o/6e4),m=Math.floor(o/(1e3*60*60));if(f<1)return"Just now";if(f<60)return`${f} ${f===1?"minute":"minutes"} ago`;if(m<24)return`${m} ${m===1?"hour":"hours"} ago`;if(u===0)return"Today";if(u===1)return"Yesterday";if(u<7)return`${u} days ago`;if(u<30){const g=Math.floor(u/7);return`${g} ${g===1?"week":"weeks"} ago`}if(u<365){const g=Math.floor(u/30);return`${g} ${g===1?"month":"months"} ago`}const p=Math.floor(u/365);return`${p} ${p===1?"year":"years"} ago`}if(e==="short"){const f=n.getDate(),m=n.toLocaleDateString("en-US",{month:"short"}),p=n.getFullYear();return`${f} ${m.charAt(0).toUpperCase()+m.slice(1)} ${p}`}return e==="full"?n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString("en-US")},s4=()=>{const{noteId:i}=EE(),e=Ln(),{notes:n,editNote:s,deleteNote:o}=ef(),[u,f]=V.useState(null),[m,p]=V.useState(!1),[g,_]=V.useState(!1),{title:w,content:A,color:P,isSaveDisabled:L,setTitle:K,setContent:F,setColor:ee,updateFromNote:te}=_1();V.useEffect(()=>{const R=n.find(x=>x.id===i);R&&(f(R),te(R))},[i,n,te]);const ie=V.useCallback(()=>{e("/sticky-wall")},[e]),be=V.useCallback(()=>{p(!0)},[]),ce=V.useCallback(()=>{u&&te(u),p(!1)},[u,te]),Re=V.useCallback(async()=>{if(!(!u||L))try{await s(u.id,w,A,P),p(!1)}catch(R){console.error("Error updating note:",R)}},[u,w,A,P,s,L]),N=V.useCallback(async()=>{if(g&&u)try{await o(u.id),e("/sticky-wall")}catch(R){console.error("Error deleting note:",R)}else _(!0),setTimeout(()=>_(!1),3e3)},[g,u,o,e]);return u?T.jsx(ei,{title:"Note Details",className:"lg:w-2/3",fullscreenMobile:!0,children:T.jsxs(v1,{color:P,children:[T.jsx(b1,{title:w,isEditing:m,showDeleteConfirm:g,onBack:ie,onEdit:be,onDelete:N,onTitleChange:K}),T.jsx(E1,{content:A,isEditing:m,onChange:F}),T.jsx(T1,{isEditing:m,color:P,timestamp:w1(u.createdAt),isSaveDisabled:L,onColorChange:ee,onCancel:ce,onSave:Re,saveButtonText:"Save",cancelButtonText:"Cancel"})]})}):T.jsx(ei,{title:"Note not found",className:"lg:w-2/3",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Note not found"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"The note you are looking for does not exist or has been deleted."}),T.jsx("button",{onClick:ie,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors cursor-pointer",children:"Go back to notes"})]})})},a4=()=>{const{notes:i}=ef(),e=Ln(),n=V.useCallback(o=>{e(`/note/${o.id}`)},[e]),s=V.useCallback(()=>{e("/note/create")},[e]);return T.jsx(ei,{title:"Sticky Wall",children:T.jsx("div",{className:"flex",children:T.jsx("main",{className:"flex-1",children:T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:[T.jsx("div",{onClick:s,className:`\r
                bg-white border-2 border-dashed border-gray-300 \r
                hover:border-gray-400 hover:bg-gray-50\r
                rounded-md shadow-md sm:aspect-square\r
                flex items-center justify-center\r
                cursor-pointer transition-colors duration-200 pt-2 pb-6\r
              `,children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"flex items-center justify-center mb-2",children:T.jsx(XE,{className:"w-10 h-10 text-gray-400"})}),T.jsx("p",{className:"text-gray-500 font-medium",children:"Create a new note"})]})}),i.map(o=>T.jsxs("div",{onClick:()=>n(o),className:`${tf[o.color]} p-4 rounded-md shadow-md cursor-pointer min-h-[10rem] sm:aspect-square`,children:[T.jsx("h3",{className:"text-lg font-semibold mb-2 truncate",children:o.title}),T.jsx("div",{className:"text-sm text-gray-700 line-clamp-7 whitespace-pre-wrap",children:o.content})]},o.id))]})})})})};function S1(){const[i,e]=V.useState(""),[n,s]=V.useState(""),[o,u]=V.useState(e4),[f,m]=V.useState(t4),p=V.useMemo(()=>!i.trim(),[i]),g=V.useCallback(_=>{e(_.title),s(_.description),u(_.priority),m(_.status)},[]);return{title:i,description:n,priority:o,status:f,isSaveDisabled:p,setTitle:e,setDescription:s,setPriority:u,setStatus:m,updateFromTask:g}}function o4({value:i,onChange:e}){return T.jsxs("div",{className:"group",children:[T.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[T.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-lg flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:T.jsx(m2,{className:"w-3 h-3 text-orange-600"})}),T.jsx("span",{children:"Priority"})]}),T.jsx("div",{className:"grid grid-cols-3 gap-3",children:n4.map(n=>T.jsxs("button",{type:"button",onClick:()=>e(n.value),className:`px-4 py-3 rounded-xl border-2 font-semibold text-sm transition-all duration-200 cursor-pointer flex items-center justify-center gap-2 ${i===n.value?n.activeColor:n.color}`,children:[T.jsx("span",{className:"text-lg",children:n.icon}),T.jsx("span",{children:n.label})]},n.value))})]})}function Nh({icon:i,iconBgColor:e,iconColor:n,label:s,required:o=!1,children:u}){return T.jsxs("div",{className:"group",children:[T.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[T.jsx("div",{className:`w-5 h-5 ${e} rounded-lg flex items-center justify-center group-hover:opacity-90 transition-opacity`,children:T.jsx(i,{className:`w-3 h-3 ${n}`})}),T.jsx("span",{children:s}),o&&T.jsx("span",{className:"text-red-500",children:"*"})]}),u]})}function A1({timestamp:i,isEditing:e=!1,isSaveDisabled:n=!1,onCancel:s,onSave:o,saveButtonText:u="Save",cancelButtonText:f="Cancel"}){return T.jsx("div",{className:"p-6 bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200 flex-shrink-0",children:T.jsx("div",{className:`flex sm:flex-row items-start sm:items-center ${e?"justify-end":"justify-between"} gap-3`,children:!e&&i?T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[T.jsx(qx,{className:"w-3.5 h-3.5"}),T.jsx("span",{children:i})]}):T.jsxs("div",{className:`flex gap-3 ${e?"w-full sm:w-auto":"ml-auto"}`,children:[T.jsx("button",{onClick:s,className:"w-full px-6 py-2.5 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition-colors cursor-pointer",children:f}),T.jsx("button",{onClick:o,disabled:n,title:n?"Add title":void 0,className:"w-full px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-600 hover:to-purple-700 shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",children:u})]})})})}function R1({title:i,subtitle:e,isEditing:n=!1,showDeleteConfirm:s=!1,status:o,priority:u,onBack:f,onEdit:m,onDelete:p,onStatusChange:g,onPriorityChange:_}){const w=L=>{switch(L){case"low":return"bg-green-100 text-green-700 border-green-200";case"high":return"bg-red-100 text-red-700 border-red-200";default:return"bg-yellow-100 text-yellow-700 border-yellow-200"}},A=L=>{switch(L){case"done":return"bg-green-100 text-green-700 border-green-200";case"in-progress":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},P=L=>{switch(L){case"low":return"";case"high":return"";default:return""}};return T.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:f,className:"flex items-center justify-center w-10 h-10 text-white hover:bg-white/10 rounded-lg transition-colors cursor-pointer flex-shrink-0",children:T.jsx(KE,{className:"w-5 h-5",strokeWidth:2})}),T.jsxs("div",{children:[T.jsx("span",{className:"text-white font-bold text-xl",children:i}),e&&T.jsx("p",{className:"text-white/90 text-sm mt-0.5",children:e}),(o||u)&&T.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u&&T.jsx(T.Fragment,{children:n&&_?T.jsxs("select",{value:u,onChange:L=>_(L.target.value),className:`px-2 py-0.5 text-xs font-medium rounded-full border backdrop-blur-sm cursor-pointer ${w(u)}`,children:[T.jsx("option",{value:"low",children:" Low"}),T.jsx("option",{value:"medium",children:" Medium"}),T.jsx("option",{value:"high",children:" High"})]}):T.jsx("span",{className:`px-2 py-0.5 ${w(u)} backdrop-blur-sm rounded-full text-xs font-medium border flex items-center gap-1`,children:T.jsx("span",{className:"font-bold",children:P(u)})})}),o&&T.jsx(T.Fragment,{children:n&&g?T.jsxs("select",{value:o,onChange:L=>g(L.target.value),className:`px-2 py-0.5 text-xs font-medium rounded-full border backdrop-blur-sm cursor-pointer ${A(o)}`,children:[T.jsx("option",{value:"open",children:"Open"}),T.jsx("option",{value:"in-progress",children:"In Progress"}),T.jsx("option",{value:"done",children:"Done"})]}):T.jsx("span",{className:`px-2 py-0.5 ${A(o)} backdrop-blur-sm rounded-full text-xs font-medium`,children:o})})]})]})]}),(m||p)&&T.jsx("div",{className:"flex items-center justify-between mb-4",children:T.jsxs("div",{className:"flex items-center gap-2",children:[!n&&m&&T.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition-colors cursor-pointer",children:[T.jsx(Im,{className:"w-4 h-4"}),T.jsx("span",{children:"Edit"})]}),p&&T.jsxs("button",{onClick:p,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors cursor-pointer ${s?"bg-red-600 hover:bg-red-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:[T.jsx(eu,{className:"w-4 h-4"}),T.jsx("span",{children:s?"Confirm":"Delete"})]})]})}),(m||p)&&T.jsxs("div",{className:"flex sm:hidden items-center gap-2",children:[!n&&m&&T.jsxs("button",{onClick:m,className:"flex items-center justify-center w-10 h-10 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors cursor-pointer",children:[T.jsx(Im,{className:"w-4 h-4"}),T.jsx("span",{children:"Edit"})]}),p&&T.jsxs("button",{onClick:p,className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors cursor-pointer ${s?"bg-red-600 hover:bg-red-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:[T.jsx(eu,{className:"w-4 h-4"}),T.jsx("span",{children:s?"Confirm":"Delete"})]})]})]})})}function x1({value:i,onChange:e,...n}){return T.jsx("input",{type:"text",value:i,onChange:e,className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:bg-white transition-all duration-200 text-gray-800 font-medium placeholder:text-gray-400",...n})}function C1({value:i,onChange:e,rows:n=6,...s}){return T.jsx("textarea",{value:i,onChange:e,rows:n,className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl resize-none outline-none focus:border-purple-500 focus:bg-white transition-all duration-200 text-gray-700 placeholder:text-gray-400",...s})}const l4=()=>{const i=Ln(),{addTask:e}=Co(),{title:n,description:s,priority:o,isSaveDisabled:u,setTitle:f,setDescription:m,setPriority:p}=S1(),g=V.useCallback(()=>{i("/task-list")},[i]),_=V.useCallback(async()=>{if(!u)try{await e(n,s,o),i("/task-list")}catch(w){console.error("Error creating task:",w)}},[e,s,i,o,n,u]);return T.jsx(ei,{title:"New Task",className:"lg:w-2/3",fullscreenMobile:!0,children:T.jsxs("div",{className:"bg-white sm:rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[T.jsx(R1,{title:"New Task",subtitle:"Create a new task",onBack:g}),T.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:T.jsxs("div",{className:"space-y-6",children:[T.jsx(Nh,{icon:JE,iconBgColor:"bg-indigo-100",iconColor:"text-indigo-600",label:"Title",required:!0,children:T.jsx(x1,{value:n,onChange:w=>f(w.target.value)})}),T.jsx(Nh,{icon:eT,iconBgColor:"bg-purple-100",iconColor:"text-purple-600",label:"Description",children:T.jsx(C1,{value:s,onChange:w=>m(w.target.value)})}),T.jsx(o4,{value:o,onChange:p})]})}),T.jsx(A1,{isEditing:!0,isSaveDisabled:u,onCancel:g,onSave:_,saveButtonText:"Create",cancelButtonText:"Cancel"})]})})},u4=({onClick:i})=>T.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(Px,{className:"w-8 h-8 text-gray-400"})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Task not found"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"The task you are looking for does not exist or has been deleted."}),T.jsx("button",{onClick:i,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors cursor-pointer",children:"Go back to the list"})]}),c4=()=>{const{taskId:i}=EE(),e=Ln(),{tasks:n,editTask:s,deleteTask:o}=Co(),[u,f]=V.useState(null),[m,p]=V.useState(!1),[g,_]=V.useState(!1),{title:w,description:A,priority:P,status:L,isSaveDisabled:K,setTitle:F,setDescription:ee,setPriority:te,setStatus:ie,updateFromTask:be}=S1();V.useEffect(()=>{const k=n.find(O=>O.id===i);k&&(f(k),be(k))},[i,n,be]);const ce=V.useCallback(()=>{e("/task-list")},[e]),Re=V.useCallback(()=>{p(!0)},[]),N=V.useCallback(()=>{u&&be(u),p(!1)},[u,be]),R=V.useCallback(async()=>{if(!(!u||K))try{await s(u.id,w,A,L,P),p(!1)}catch(k){console.error("Error updating task:",k)}},[u,w,A,L,P,s,K]),x=V.useCallback(async()=>{if(g&&u)try{await o(u.id),e("/task-list")}catch(k){console.error("Error deleting task:",k)}else _(!0),setTimeout(()=>_(!1),3e3)},[g,u,o,e]);return u?T.jsx(ei,{title:"Task Details",className:"lg:w-2/3",fullscreenMobile:!0,children:T.jsxs("div",{className:"bg-white sm:rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[T.jsx(R1,{title:"Task Details",isEditing:m,showDeleteConfirm:g,status:L,priority:P,onBack:ce,onEdit:Re,onDelete:x,onStatusChange:ie,onPriorityChange:te}),T.jsx("div",{className:"p-6 flex-1 overflow-y-auto bg-white",children:T.jsxs("div",{className:"space-y-6",children:[T.jsx(Nh,{icon:JE,iconBgColor:"bg-indigo-100",iconColor:"text-indigo-600",label:"Title",required:!0,children:m?T.jsx(x1,{value:w,onChange:k=>F(k.target.value),placeholder:"Task name"}):T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:u.title})}),T.jsx(Nh,{icon:eT,iconBgColor:"bg-purple-100",iconColor:"text-purple-600",label:"Description",children:m?T.jsx(C1,{value:A,onChange:k=>ee(k.target.value),rows:5,placeholder:"Add a detailed description..."}):T.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:u.description||"No description available"})})]})}),T.jsx(A1,{timestamp:w1(u.createdAt),isEditing:m,isSaveDisabled:K,onCancel:m?N:ce,onSave:R,saveButtonText:"Update",cancelButtonText:"Cancel"})]})}):T.jsx(ei,{title:"Task non trovato",className:"lg:w-2/3",children:T.jsx(u4,{onClick:ce})})};function I1(i,e){const[n,s]=V.useState(()=>{try{const u=localStorage.getItem(i);return u?JSON.parse(u):e}catch(u){return console.error(`Error loading ${i} from localStorage:`,u),e}});return[n,u=>{try{const f=u instanceof Function?u(n):u;s(f),localStorage.setItem(i,JSON.stringify(f))}catch(f){console.error(`Error saving ${i} to localStorage:`,f)}}]}const h4=[{id:"open",title:"To Do",color:"bg-gray-50 border-gray-200",icon:""},{id:"in-progress",title:"In Progress",color:"bg-blue-50 border-blue-200",icon:""},{id:"done",title:"Completed",color:"bg-green-50 border-green-200",icon:""}],f4=()=>{const{tasks:i,editTask:e}=Co(),n=Ln(),[s,o]=V.useState(null),[u,f]=V.useState(null),m=V.useCallback(L=>{o(L)},[]),p=V.useCallback((L,K)=>{L.preventDefault(),f(K)},[]),g=V.useCallback(()=>{f(null)},[]),_=V.useCallback(()=>{o(null),f(null)},[]),w=V.useCallback(async(L,K)=>{if(L.preventDefault(),!s||s.status===K){o(null),f(null);return}try{await e(s.id,s.title,s.description,K,s.priority)}catch(F){console.error("Error updating task:",F)}finally{o(null),f(null)}},[s,e]),A=V.useCallback(L=>i.filter(K=>K.status===L),[i]),P=V.useCallback(L=>{n(`/task/${L}`)},[n]);return T.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:h4.map(L=>{const K=A(L.id),F=u===L.id;return T.jsxs("div",{className:"flex flex-col",children:[T.jsx("div",{className:`${L.color} rounded-t-xl border-2 p-4`,children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-2xl",children:L.icon}),T.jsx("h3",{className:"font-bold text-gray-800",children:L.title}),T.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs font-semibold text-gray-600",children:K.length})]})}),T.jsx("div",{className:`flex-1 ${L.color} rounded-b-xl border-2 border-t-0 p-4 min-h-[500px] max-h-[calc(100vh-300px)] overflow-y-auto transition-all duration-200 ${F&&"ring-2 ring-indigo-400 ring-offset-1"}`,onDragOver:ee=>p(ee,L.id),onDragLeave:g,onDrop:ee=>w(ee,L.id),children:T.jsx("div",{className:"space-y-3",children:K.length===0?T.jsxs("div",{className:"text-center py-8 text-gray-400",children:[T.jsx(zx,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),T.jsx("p",{className:"text-sm",children:F?"Drop here":"No tasks"})]}):K.map(ee=>{const te=HE(ee.priority),ie=s?.id===ee.id;return T.jsxs("div",{draggable:!0,onDragStart:()=>m(ee),onDragEnd:_,onClick:()=>P(ee.id),className:`bg-white rounded-lg p-4 shadow-sm border-2 border-gray-200 hover:border-indigo-300 hover:shadow-md transition-all duration-200 cursor-grab active:cursor-grabbing select-none group ${ie&&"opacity-40 scale-98"}`,children:[T.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[T.jsx("h4",{className:"font-semibold text-gray-800 group-hover:text-indigo-600 transition-colors duration-150 flex-1 line-clamp-2",children:ee.title}),T.jsx("div",{className:`w-6 h-6 rounded-md border flex items-center justify-center text-xs font-semibold ${te.color}`,title:`Priority ${te.label}`,children:te.icon})]}),ee.description&&T.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3 whitespace-pre-wrap",children:ee.description}),T.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[T.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[T.jsx(YE,{className:"w-3.5 h-3.5"}),T.jsx("span",{children:ee.createdAt?.toDate().toLocaleDateString("en-US")})]}),T.jsx(Ux,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors"})]})]},ee.id)})})})]},L.id)})})},fE={sortBy:"date-desc",filterPriority:"all",filterStatus:"all"};function d4(i){const[e,n]=I1("taskListFilters",fE),s=p=>{n(g=>({...g,sortBy:p}))},o=p=>{n(g=>({...g,filterPriority:p}))},u=p=>{n(g=>({...g,filterStatus:p}))},f=()=>{n(fE)},m=V.useMemo(()=>{let p=[...i];return e.filterPriority!=="all"&&(p=p.filter(g=>g.priority===e.filterPriority)),e.filterStatus!=="all"&&(p=p.filter(g=>g.status===e.filterStatus)),p.sort((g,_)=>{switch(e.sortBy){case"date-desc":{const w=g.createdAt?.toMillis()??0;return(_.createdAt?.toMillis()??0)-w}case"date-asc":{const w=g.createdAt?.toMillis()??0,A=_.createdAt?.toMillis()??0;return w-A}case"priority":{const w={high:0,medium:1,low:2};return w[g.priority]-w[_.priority]}case"status":{const w={open:0,"in-progress":1,done:2};return w[g.status]-w[_.status]}default:return 0}}),p},[i,e]);return{sortBy:e.sortBy,filterPriority:e.filterPriority,filterStatus:e.filterStatus,setSortBy:s,setFilterPriority:o,setFilterStatus:u,resetFilters:f,filteredAndSortedTasks:m}}const m4=({sortBy:i,filterPriority:e,filterStatus:n,setSortBy:s,setFilterPriority:o,setFilterStatus:u,resetFilters:f})=>{const[m,p]=V.useState(!1),g={all:"All",high:"High",medium:"Medium",low:"Low"},_={all:"All",open:"Open","in-progress":"In Progress",done:"Done"},w={"date-desc":"Most recent","date-asc":"Less recent",priority:"Priority",status:"Status"},A=V.useCallback(()=>{p(L=>!L)},[]);console.log(i),console.log(e),console.log(n);const P=V.useMemo(()=>i!=="date-desc"||e!=="all"||n!=="all",[i,e,n]);return T.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-200",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:T.jsx(i2,{className:"w-4 h-4 text-indigo-600"})}),T.jsx("h3",{className:"font-semibold text-gray-800",children:"Filter and sort"}),P&&T.jsx("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium",children:"Filter active"})]}),T.jsx(Ax,{onClick:A,className:`w-5 h-5 text-gray-600 transition-transform duration-200 cursor-pointer ${m&&"rotate-180"}`})]}),m&&T.jsxs(T.Fragment,{children:[T.jsx("hr",{className:"border-gray-200 my-4"}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Priority"}),T.jsx("select",{value:e,onChange:L=>o(L.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["all","high","medium","low"].map(L=>T.jsx("option",{value:L,children:g[L]},L))})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Status"}),T.jsx("select",{value:n,onChange:L=>u(L.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["all","open","in-progress","done"].map(L=>T.jsx("option",{value:L,children:_[L]},L))})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:"Sort by"}),T.jsx("select",{value:i,onChange:L=>s(L.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent cursor-pointer transition-all",children:["date-desc","date-asc","priority","status"].map(L=>T.jsx("option",{value:L,children:w[L]},L))})]})]}),(e!=="all"||n!=="all")&&T.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-2 border-t border-gray-200",children:[T.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Active filters:"}),e!=="all"&&T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium",children:["Priority: ",g[e],T.jsx("button",{onClick:()=>o("all"),className:"hover:bg-indigo-200 rounded-full p-0.5 cursor-pointer",children:T.jsx(Nm,{className:"w-3 h-3"})})]}),n!=="all"&&T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:["Status: ",_[n],T.jsx("button",{onClick:()=>u("all"),className:"hover:bg-purple-200 rounded-full p-0.5 cursor-pointer",children:T.jsx(Nm,{className:"w-3 h-3"})})]}),T.jsx("button",{onClick:f,className:"text-xs text-gray-500 hover:text-gray-700 underline cursor-pointer ml-auto",children:"Remove all"})]})]})]})},p4=({task:i})=>{const[e,n]=V.useState(!1),s=Ln(),{deleteTask:o}=Co(),u=HE(i.priority),f=V.useCallback(()=>{s(`/task/${i.id}`)},[s,i.id]),m=V.useCallback(async p=>{if(p.stopPropagation(),e)try{await o(i.id)}catch(g){console.error("Error deleting task:",g)}else n(!0),setTimeout(()=>n(!1),3e3)},[o,i.id,e]);return T.jsx(T.Fragment,{children:T.jsxs("div",{onClick:f,className:"group bg-white border-2 border-gray-100 hover:border-indigo-300 rounded-2xl p-4 sm:p-5 hover:shadow-xl transition-all duration-300 cursor-pointer",children:[T.jsxs("div",{className:"sm:hidden",children:[T.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[T.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[T.jsx("div",{className:`w-8 h-8 rounded-xl border-2 flex items-center justify-center flex-shrink-0 font-bold text-sm ${u.color} shadow-sm`,title:`Priorit ${u.label}`,children:u.icon}),T.jsx("h3",{className:"text-sm font-bold text-gray-800 group-hover:text-indigo-700 transition-colors duration-300 line-clamp-2 flex-1",children:i.title})]}),T.jsx("button",{onClick:m,className:`p-2 rounded-xl transition-all duration-200 cursor-pointer flex-shrink-0 ${e?"bg-red-500 text-white hover:bg-red-600 shadow-lg shadow-red-500/30":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:e?"Click to confirm":"Delete task",children:T.jsx(eu,{className:"w-4 h-4"})})]}),i.description&&T.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed mb-3 ml-11 whitespace-pre-wrap",children:i.description}),T.jsx("div",{className:"flex items-center justify-end gap-2 ml-11",children:T.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border-2 ${Fv(i.status)}`,children:i.status})})]}),T.jsxs("div",{className:"hidden sm:flex gap-4 items-start",children:[T.jsx("div",{className:`w-10 h-10 rounded-xl border-2 flex items-center justify-center flex-shrink-0 font-bold text-base ${u.color} shadow-sm group-hover:scale-110 transition-transform duration-300`,title:`Priorit ${u.label}`,children:u.icon}),T.jsxs("div",{className:"flex flex-col gap-2 flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-start justify-between gap-3",children:[T.jsx("h3",{className:"text-base font-bold text-gray-800 group-hover:text-indigo-700 transition-colors duration-300",children:i.title}),T.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[T.jsx("span",{className:`px-3 py-1.5 text-xs font-semibold rounded-full border-2 ${Fv(i.status)}`,children:i.status}),T.jsx("button",{onClick:m,className:`p-2 rounded-xl transition-all duration-200 cursor-pointer ${e?"bg-red-500 text-white hover:bg-red-600 shadow-lg shadow-red-500/30":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:e?"Click to confirm":"Delete task",children:T.jsx(eu,{className:"w-4 h-4"})})]})]}),T.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed whitespace-pre-wrap",children:i.description})]}),T.jsx(Cx,{className:"w-6 h-6 text-gray-400 group-hover:text-indigo-500 transition-all duration-300 group-hover:translate-x-1 flex-shrink-0"})]})]})})},g4=()=>{const{tasks:i}=Co(),{sortBy:e,filterPriority:n,filterStatus:s,setSortBy:o,setFilterPriority:u,setFilterStatus:f,resetFilters:m,filteredAndSortedTasks:p}=d4(i);return T.jsxs("div",{className:"space-y-6",children:[T.jsx(m4,{sortBy:e,filterPriority:n,filterStatus:s,setSortBy:o,setFilterPriority:u,setFilterStatus:f,resetFilters:m}),T.jsx("div",{className:"flex flex-col gap-4",children:p.length>0?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-sm text-gray-600 px-2",children:[p.length," ",p.length===1?"task found":"tasks found",(n!=="all"||s!=="all")&&T.jsxs("span",{className:"ml-1",children:["(",i.length," total)"]})]}),p.map(g=>T.jsx(p4,{task:g},g.id))]}):i.length===0?T.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[T.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(QE,{className:"w-8 h-8 text-gray-400"})}),T.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No tasks present"}),T.jsx("p",{className:"text-gray-500",children:"Get started by creating your first task!"})]}):T.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[T.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(n2,{className:"w-8 h-8 text-gray-400"})}),T.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No tasks found"}),T.jsx("p",{className:"text-gray-500 mb-4",children:"Try changing your search filters"}),T.jsx("button",{onClick:m,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer text-sm font-medium",children:"Remove filters"})]})})]})},y4=()=>{const i=Ln(),[e,n]=I1("tasks-view-mode","kanban"),s=V.useCallback(()=>{i("/task/create")},[i]);return T.jsxs(ei,{title:"Tasks",className:`transition-all duration-500 ease-in-out ${e==="kanban"?"max-w-full":"lg:max-w-2/3"} mx-auto`,children:[T.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:T.jsxs("div",{className:"flex items-center justify-between p-4",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center hidden md:flex",children:T.jsx(QE,{className:"w-5 h-5 text-indigo-600"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-semibold text-gray-800",children:"View Tasks"}),T.jsx("p",{className:"text-xs text-gray-500",children:"Choose the view you prefer"})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[T.jsxs("button",{onClick:()=>n("list"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all duration-200 cursor-pointer ${e==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[T.jsx($x,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"List"})]}),T.jsxs("button",{onClick:()=>n("kanban"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all duration-200 cursor-pointer ${e==="kanban"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[T.jsx(Mx,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Kanban"})]})]}),T.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer",children:[T.jsx(XE,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"New Task"})]})]})]})}),T.jsx("div",{className:"mt-6",children:e==="list"?T.jsx(g4,{}):T.jsx(f4,{})})]})},_4=()=>{const{isSidebarOpen:i,closeSidebar:e}=ig(),{user:n}=ra();return n?T.jsxs("div",{className:"flex h-screen",children:[i&&T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 animate-fadeIn",onClick:e}),T.jsx(ZO,{}),T.jsx("div",{className:"flex-1 overflow-auto",children:T.jsxs(Dv,{children:[T.jsx(sn,{path:"/",element:T.jsx(Ll,{to:"/dashboard",replace:!0})}),T.jsx(sn,{path:"/dashboard",element:T.jsx(WO,{})}),T.jsx(sn,{path:"/sticky-wall",element:T.jsx(a4,{})}),T.jsx(sn,{path:"/note/create",element:T.jsx(i4,{})}),T.jsx(sn,{path:"/note/:noteId",element:T.jsx(s4,{})}),T.jsx(sn,{path:"/tasks",element:T.jsx(y4,{})}),T.jsx(sn,{path:"/task/create",element:T.jsx(l4,{})}),T.jsx(sn,{path:"/task/:taskId",element:T.jsx(c4,{})}),T.jsx(sn,{path:"/task-list",element:T.jsx(Ll,{to:"/tasks",replace:!0})}),T.jsx(sn,{path:"/kanban-board",element:T.jsx(Ll,{to:"/tasks",replace:!0})}),T.jsx(sn,{path:"*",element:T.jsx(Ll,{to:"/dashboard",replace:!0})})]})})]}):T.jsxs(Dv,{children:[T.jsx(sn,{path:"/login",element:T.jsx(p2,{})}),T.jsx(sn,{path:"/signup",element:T.jsx(g2,{})}),T.jsx(sn,{path:"*",element:T.jsx(Ll,{to:"/login",replace:!0})})]})},v4=({children:i})=>{const[e,n]=V.useState(null),[s,o]=V.useState(!0),u=async(_,w,A)=>{const P=await ND(jl,_,w);await kD(P.user,{displayName:A});const L={...P.user,displayName:A};n(L)},f=async(_,w)=>{await DD(jl,_,w)},m=async()=>{const _=new Fr;await rO(jl,_)},p=async()=>{await LD(jl)};V.useEffect(()=>PD(jl,w=>{n(w),o(!1)}),[]);const g={user:e,signup:u,login:f,loginWithGoogle:m,logout:p};return T.jsx(CE.Provider,{value:g,children:!s&&i})},E4=({children:i})=>{const[e,n]=V.useState(!1),s=V.useCallback(()=>{n(!0),document.body.style.overflow="hidden"},[]),o=V.useCallback(()=>{n(!1),document.body.style.overflow="unset"},[]);return T.jsx(y1.Provider,{value:{isSidebarOpen:e,openSidebar:s,closeSidebar:o},children:i})};fS.createRoot(document.getElementById("root")).render(T.jsx(V.StrictMode,{children:T.jsx(SA,{children:T.jsx(v4,{children:T.jsx(E4,{children:T.jsx(_4,{})})})})}));
